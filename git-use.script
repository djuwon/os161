Script started on Sat 05 Feb 2022 05:37:03 PM CST
[?1034hbash-4.2$ g[Kcd ~/cs[K[Kkern/main[K[K[K[K[K[K[K[K[K[K[K[K kern/main/[K
bash-4.2$ ls
hello.c  main.c  menu.c
bash-4.2$ vim main.c
[?1049h[?1h=[2;1Hâ–½[6n[2;1H  [1;1H]11;?[1;37r[?12;25h[?12l[?25h[27m[m[H[2J[?25l[37;1H"main.c" 168L, 3596C[>c[1;1H[34m         * don't put new code before dev_bootstrap if you don't
         * absolutely have to.
         *
         * Also note that the buffer for this is only 1k. If you
         * overflow it, the system will crash without printing
         * anything at all. You can make it larger though (it's in
         * dev/generic/console.c).
         */[m[10;9Hkprintf([31m"[m[35m\n[m[31m"[m);[11;9Hkprintf([31m"OS/161 base system version [m[35m%s\n[m[31m"[m, BASE_VERSION);[12;9Hkprintf([31m"[m[35m%s[m[31m"[m, harvard_copyright);[13;9Hkprintf([31m"[m[35m\n[m[31m"[m);[15;9Hkprintf([31m"Put-your-group-name-here's system version [m[35m%s[m[31m ([m[35m%s[m[31m #[m[35m%d[m[31m)[m[35m\n[m[31m"[m,[16;17HGROUP_VERSION, buildconfig, buildversion);[17;9Hkprintf([31m"[m[35m\n[m[31m"[m);[18;9Hhello();[19;9Hram_bootstrap();[20;9Hscheduler_bootstrap();[21;9Hthread_bootstrap();[22;9Hvfs_bootstrap();[23;9Hdev_bootstrap();[24;9Hvm_bootstrap();[25;9Hkprintf_bootstrap();[27;9H[34m/* Default bootfs - but ignore failure, in case emu0 doesn't exist */[m[28;9Hvfs_setbootfs([31m"emu0"[m);[31;9H[34m/*
         * Make sure various things aren't screwed up.
         */[m[34;9Hassert([38;5;130msizeof[m(userptr_t)==[38;5;130msizeof[m([32mchar[m *));[35;9Hassert([38;5;130msizeof[m(*(userptr_t)[31m0[m)==[38;5;130msizeof[m([32mchar[m));
}[37;84H73,2-9[8C41%[18;9H[?12l[?25h[27m[m[H[2J[?25l[1;1H[96m         * don't put new code before dev_bootstrap if you don't
         * absolutely have to.
         *
         * Also note that the buffer for this is only 1k. If you
         * overflow it, the system will crash without printing
         * anything at all. You can make it larger though (it's in
         * dev/generic/console.c).
         */[m[10;9Hkprintf([95m"[m[38;5;224m\n[m[95m"[m);[11;9Hkprintf([95m"OS/161 base system version [m[38;5;224m%s\n[m[95m"[m, BASE_VERSION);[12;9Hkprintf([95m"[m[38;5;224m%s[m[95m"[m, harvard_copyright);[13;9Hkprintf([95m"[m[38;5;224m\n[m[95m"[m);[15;9Hkprintf([95m"Put-your-group-name-here's system version [m[38;5;224m%s[m[95m ([m[38;5;224m%s[m[95m #[m[38;5;224m%d[m[95m)[m[38;5;224m\n[m[95m"[m,[16;17HGROUP_VERSION, buildconfig, buildversion);[17;9Hkprintf([95m"[m[38;5;224m\n[m[95m"[m);[18;9Hhello();[19;9Hram_bootstrap();[20;9Hscheduler_bootstrap();[21;9Hthread_bootstrap();[22;9Hvfs_bootstrap();[23;9Hdev_bootstrap();[24;9Hvm_bootstrap();[25;9Hkprintf_bootstrap();[27;9H[96m/* Default bootfs - but ignore failure, in case emu0 doesn't exist */[m[28;9Hvfs_setbootfs([95m"emu0"[m);[31;9H[96m/*
         * Make sure various things aren't screwed up.
         */[m[34;9Hassert([93msizeof[m(userptr_t)==[93msizeof[m([38;5;121mchar[m *));[35;9Hassert([93msizeof[m(*(userptr_t)[95m0[m)==[93msizeof[m([38;5;121mchar[m));
}[37;84H73,2-9[8C41%"main.c" 168L, 3596C[18;9H[?12l[?25h[?25l[37;85H2[17;9H[?12l[?25h[?25l[37;85H1,2-16[16;16H[?12l[?25h[?25l[37;85H2,2-9 [17;9H[?12l[?25h[?25l[37;85H1,2-16[16;16H[?12l[?25h[?25l[37;85H0,2-9 [15;9H[?12l[?25h[?25l[37;84H69,0-1[14;1H[?12l[?25h[?25l[37;85H8,2-9[13;9H[?12l[?25h[?25l[37;85H7[12;9H[?12l[?25h[?25l[37;85H6[11;9H[?12l[?25h[?25l[37;85H5[10;9H[?12l[?25h[?25l[37;85H4,0-1[9;1H[?12l[?25h[?25l[37;85H3,2-9[8;9H[?12l[?25h[?25l[37;85H2[7;9H[?12l[?25h[?25l[37;85H1[6;9H[?12l[?25h[?25l[37;85H0[5;9H[?12l[?25h[?25l[37;84H59[4;9H[?12l[?25h[?25l[37;85H8[3;9H[?12l[?25h[?25l[37;85H7[2;9H[?12l[?25h[?25l[37;85H6[1;9H[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;1H[96m         * remarkably confusing if a bug occurs at this point. So[m[37;1H[K[37;84H55,2-9[8C40%[1;9H[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;1H[96m         * dev_bootstrap() attaches the console device. This can be[m[37;84H[K[37;84H54,2-9[8C40%[1;9H[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;1H[96m         * buffered up at first and does not actually appear until[m[37;84H[K[37;84H53,2-9[8C39%[1;9H[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;1H[96m         * Among other things, be aware that console output gets[m[37;84H[K[37;84H52,2-9[8C38%[1;9H[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;1H[96m         *[m[37;84H[K[37;84H51,2-9[8C37%[1;9H[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;1H[96m         * Don't go changing it without thinking about the consequences.[m[37;84H[K[37;84H50,2-9[8C37%[1;9H[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;1H[96m         * The order of these is important![m[37;84H[K[37;84H49,2-9[8C36%[1;9H[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;9H[96m/*[m[37;84H[K[37;84H48,2-9[8C35%[1;9H[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;1H{[37;84H[K[37;84H47,1[10C34%[1;1H[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;1Hboot([38;5;121mvoid[m)[37;84H[K[37;84H46,9[10C34%[1;9H[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;1H[38;5;121mvoid[m[37;84H[K[37;84H45,4[10C33%[1;4H[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;1H[38;5;121mstatic[m[37;84H[K[37;84H44,6[10C32%[1;6H[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;1H[96m */[m[37;84H[K[37;84H43,3[10C31%[1;3H[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;1H[96m * Initial boot sequence.[m[37;84H[K[37;84H42,9[10C31%[1;9H[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;1H[96m/*[m[37;84H[K[37;84H41,2[10C30%[1;2H[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[37;84H[K[37;84H40,0-1[8C29%[1;1H[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[37;84H[K[37;84H39,0-1[8C28%[1;1H[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;5H[95m"   President and Fellows of Harvard College.  All rights reserved.[m[38;5;224m\n[m[95m"[m;[37;84H[K[37;84H38,9[10C28%[1;9H[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;5H[95m"Copyright (c) 2000, 2001, 2002, 2003[m[38;5;224m\n[m[95m"[m[37;84H[K[37;84H37,9[10C27%[1;9H[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;1H[38;5;121mstatic[m [38;5;121mconst[m [38;5;121mchar[m harvard_copyright[] =[37;84H[K[37;84H36,9[10C26%[1;9H[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;1H[96m */[m[37;84H[K[37;84H35,3[10C25%[1;3H[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;1H[96m * Copyright message for the OS/161 base code.[m[37;84H[K[37;84H34,9[10C25%[1;9H[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;1H[96m/*[m[37;84H[K[37;84H33,2[10C24%[1;2H[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[37;84H[K[37;84H32,0-1[8C23%[1;1H[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;1H[38;5;121mextern[m [38;5;121mconst[m [38;5;121mchar[m buildconfig[];[37;84H[K[37;84H31,9[10C22%[1;9H[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;1H[38;5;121mextern[m [38;5;121mconst[m [38;5;121mint[m buildversion;[37;84H[K[37;84H30,9[10C21%[1;9H[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;1H[96m */[m[37;84H[K[37;84H29,3[10C21%[1;3H[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;1H[96m * same one you just built.[m[37;84H[K[37;84H28,9[10C20%[1;9H[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;1H[96m * to make it easy to make sure that the kernel you just booted is the[m[37;84H[K[37;84H27,9[10C19%[1;9H[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;1H[96m * The purpose is not to show off how many kernels you've linked, but[m[37;84H[K[37;84H26,9[10C18%[1;9H[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;1H[96m *[m[37;84H[K[37;84H25,2[10C18%[1;2H[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;1H[96m * buildversion starts at 1 and is incremented every time you link a kernel. [m[37;84H[K[37;84H24,9[10C17%[1;9H[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;1H[96m * buildconfig is the name of the config file the kernel was configured with.[m[37;84H[K[37;84H23,9[10C16%[1;9H[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;1H[96m * These two pieces of data are maintained by the makefiles and build system.[m[37;84H[K[37;84H22,9[10C15%[1;9H[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;1H[96m/*[m[37;84H[K[37;84H21,2[10C15%[1;2H[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[37;84H[K[37;84H20,0-1[8C14%[1;1H[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;1H[38;5;81m#include [m[95m<hello.h>[m [96m/* see ~/cs161/src/kern/include */[m[37;84H[K[37;84H19,9[10C13%[1;9H[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;1H[38;5;81m#include [m[95m<version.h>[m[37;84H[K[37;84H18,9[10C12%[1;9H[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;1H[38;5;81m#include [m[95m<syscall.h>[m[37;84H[K[37;84H17,9[10C12%[1;9H[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;1H[38;5;81m#include [m[95m<vm.h>[m[37;84H[K[37;84H16,9[10C11%[1;9H[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;1H[38;5;81m#include [m[95m<vfs.h>[m[37;84H[K[37;84H15,9[10C10%[1;9H[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;1H[38;5;81m#include [m[95m<dev.h>[m[37;84H[K[37;84H14,9[11C9%[1;9H[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;1H[38;5;81m#include [m[95m<scheduler.h>[m[37;84H[K[37;84H13,9[11C9%[1;9H[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;1H[38;5;81m#include [m[95m<thread.h>[m[37;84H[K[37;84H12,9[11C8%[1;9H[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;1H[38;5;81m#include [m[95m<synch.h>[m[37;84H[K[37;84H11,9[11C7%[1;9H[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;1H[38;5;81m#include [m[95m<test.h>[m[37;84H[K[37;84H10,9[11C6%[1;9H[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;1H[38;5;81m#include [m[95m<machine/spl.h>[m[37;84H[K[37;84H9,9[12C6%[1;9H[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;1H[38;5;81m#include [m[95m<lib.h>[m[37;84H[K[37;84H8,9[12C5%[1;9H[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;1H[38;5;81m#include [m[95m<kern/unistd.h>[m[37;84H[K[37;84H7,9[12C4%[1;9H[?12l[?25h[?25l[37;84H8[2;9H[?12l[?25h[?25l[37;84H9[3;9H[?12l[?25h[?25l[37;84H10,9[4;9H[?12l[?25h[?25l[37;85H1[5;9H[?12l[?25h[?25l[37;85H2[6;9H[?12l[?25h[?25l[37;85H3[7;9H[?12l[?25h[?25l[37;85H4[8;9H[?12l[?25h[?25l[37;85H5[9;9H[?12l[?25h[?25l[37;85H6[10;9H[?12l[?25h[?25l[37;85H7[11;9H[?12l[?25h[?25l[37;85H8[12;9H[?12l[?25h[?25l[37;85H9[13;9H[?12l[?25h[?25l[37;84H20,0-1[14;1H[?12l[?25h[?25l[37;85H1,2  [15;2H[?12l[?25h[?25l[37;85H0,0-1[14;1H[?12l[?25h[?25l[37;85H1,1  [15;1H[?12l[?25h[?25l[37;85H2,2[16;2H[?12l[?25h[?25l[37;85H1[15;2H[?12l[?25h[?25l[37;85H0,0-1[14;1H[?12l[?25h[?25l[37;1H[1m-- INSERT --[m[37;84H[K[37;84H20,1[11C4%[14;1H[?12l[?25h[?25l[15;36r[15;1H[L[1;37r[37;84H[K[37;84H21,1[11C4%[15;1H[?12l[?25h[?25l[16;36r[16;1H[L[1;37r[37;84H[K[37;84H22,1[11C4%[16;1H[?12l[?25h[?25l[37;85H1[15;1H[?12l[?25h[?25l/[37;87H2[15;2H[?12l[?25h[?25l[96m/*[m

[97m[101m/[m[37;87H3[15;3H[?12l[?25h[?25l[96m [m[37;87H4[15;4H[?12l[?25h[?25l[96mT[m[37;87H5[15;5H[?12l[?25h[?25l[96mh[m[37;87H6[15;6H[?12l[?25h[?25l[96mi[m[37;87H7[15;7H[?12l[?25h[?25l[96ms[m[37;87H8[15;8H[?12l[?25h[?25l[96m [m[37;87H9[15;9H[?12l[?25h[?25l[96mi[m[37;87H10[15;10H[?12l[?25h[?25l[96ms[m[37;88H1[15;11H[?12l[?25h[?25l[96m [m[37;88H2[15;12H[?12l[?25h[?25l[96ma[m[37;88H3[15;13H[?12l[?25h[?25l[96m [m[37;88H4[15;14H[?12l[?25h[?25l[96mc[m[37;88H5[15;15H[?12l[?25h[?25l[96mo[m[37;88H6[15;16H[?12l[?25h[?25l[96mm[m[37;88H7[15;17H[?12l[?25h[?25l[96mm[m[37;88H8[15;18H[?12l[?25h[?25l[96me[m[37;88H9[15;19H[?12l[?25h[?25l[96mn[m[37;87H20[15;20H[?12l[?25h[?25l[96mt[m[37;88H1[15;21H[?12l[?25h[?25l[96m [m[37;88H2[15;22H[?12l[?25h[?25l[96mw[m[37;88H3[15;23H[?12l[?25h[?25l[96mi[m[37;88H4[15;24H[?12l[?25h[?25l[96mt[m[37;88H5[15;25H[?12l[?25h[?25l[96mh[m[37;88H6[15;26H[?12l[?25h[?25l[96m [m[37;88H7[15;27H[?12l[?25h[?25l[96mm[m[37;88H8[15;28H[?12l[?25h[?25l[96my[m[37;88H9[15;29H[?12l[?25h[?25l[96m [m[37;87H30[15;30H[?12l[?25h[?25l[96mn[m[37;88H1[15;31H[?12l[?25h[?25l[96ma[m[37;88H2[15;32H[?12l[?25h[?25l[96mm[m[37;88H3[15;33H[?12l[?25h[?25l[96me[m[37;88H4[15;34H[?12l[?25h[?25l[96m [m[37;88H5[15;35H[?12l[?25h[?25l[96mD[m[37;88H6[15;36H[?12l[?25h[?25l[96ma[m[37;88H7[15;37H[?12l[?25h[?25l[96mv[m[37;88H8[15;38H[?12l[?25h[?25l[96mi[m[37;88H9[15;39H[?12l[?25h[?25l[96md[m[37;87H40[15;40H[?12l[?25h[?25l[96m [m[37;88H1[15;41H[?12l[?25h[?25l[96mj[m[37;88H2[15;42H[?12l[?25h[?25l[96mu[m[37;88H3[15;43H[?12l[?25h[?25l[96mn[m[37;88H4[15;44H[?12l[?25h[?25l[96mg[m[37;88H5[15;45H[?12l[?25h[?25l[15;44H[K[37;88H4[15;44H[?12l[?25h[?25l[15;43H[K[37;88H3[15;43H[?12l[?25h[?25l[15;42H[K[37;88H2[15;42H[?12l[?25h[?25l[15;41H[K[37;88H1[15;41H[?12l[?25h[?25l[96mJ[m[37;88H2[15;42H[?12l[?25h[?25l[96mu[m[37;88H3[15;43H[?12l[?25h[?25l[96mn[m[37;88H4[15;44H[?12l[?25h[?25l[96mg[m[37;88H5[15;45H[?12l[?25h[?25l[96m [m[37;88H6[15;46H[?12l[?25h[?25l[96m*[m[37;88H7[15;47H[?12l[?25h[?25l[96m/

/[m[37;88H8[15;48H[?12l[?25h[?25l[37;1H[K[37;84H21,47[10C4%[15;47H[?12l[?25h[?25l[37;84H[K[37;1H:[?12l[?25hw[?25l[?12l[?25ha[?25l[?12l[?25h[?25l[37;3H[K[37;3H[?12l[?25hq[?25l[?12l[?25h[?25l"main.c" 170L, 3645C written
[?1l>[?12l[?25h[?1049lbash-4.2$ git diff
[?1h=diff --git a/bin/cat/depend.mk b/bin/cat/depend.mk[m
index 94637dd..6f88e64 100644[m
--- a/bin/cat/depend.mk[m
+++ b/bin/cat/depend.mk[m
@@ -10,3 +10,4 @@ cat.o: \[m
  $(OSTREE)/include/string.h \[m
  $(OSTREE)/include/err.h \[m
  $(OSTREE)/include/stdarg.h[m
+[m
diff --git a/bin/cp/depend.mk b/bin/cp/depend.mk[m
index 10e8c59..de47503 100644[m
--- a/bin/cp/depend.mk[m
+++ b/bin/cp/depend.mk[m
@@ -9,3 +9,4 @@ cp.o: \[m
  $(OSTREE)/include/kern/ioctl.h \[m
  $(OSTREE)/include/err.h \[m
  $(OSTREE)/include/stdarg.h[m
+[m
diff --git a/bin/false/depend.mk b/bin/false/depend.mk[m
index f0fbc95..fb0be2d 100644[m
--- a/bin/false/depend.mk[m
+++ b/bin/false/depend.mk[m
@@ -8,3 +8,4 @@ false.o: \[m
  $(OSTREE)/include/kern/unistd.h \[m
  $(OSTREE)/include/kern/ioctl.h \[m
  $(OSTREE)/include/stdlib.h[m
+[m
diff --git a/bin/ln/depend.mk b/bin/ln/depend.mk[m
index ac1d5eb..490b5b1 100644[m
--- a/bin/ln/depend.mk[m
+++ b/bin/ln/depend.mk[m
@@ -11,3 +11,4 @@ ln.o: \[m
  $(OSTREE)/include/string.h \[m
  $(OSTREE)/include/err.h \[m
  $(OSTREE)/include/stdarg.h[m
+[m
:[K[Kdiff --git a/bin/ls/depend.mk b/bin/ls/depend.mk[m
:[K[Kindex f92b234..1d5e8a4 100644[m
:[K[K--- a/bin/ls/depend.mk[m
:[K[K+++ b/bin/ls/depend.mk[m
:[K[K@@ -15,3 +15,4 @@ ls.o: \[m
:[K[K  $(OSTREE)/include/errno.h \[m
:[K[K  $(OSTREE)/include/kern/errno.h \[m
:[K[K  $(OSTREE)/include/err.h[m
:[K[K+[m
:[K[Kdiff --git a/bin/mkdir/depend.mk b/bin/mkdir/depend.mk[m
:[K[Kindex 42144ef..597b0a3 100644[m
:[K[K--- a/bin/mkdir/depend.mk[m
:[K[K+++ b/bin/mkdir/depend.mk[m
:[K[K@@ -11,3 +11,4 @@ mkdir.o: \[m
:[K[K  $(OSTREE)/include/kern/ioctl.h \[m
:[K[K  $(OSTREE)/include/err.h \[m
:[K[K  $(OSTREE)/include/stdarg.h[m
:[K[K+[m
:[K[Kdiff --git a/bin/mv/depend.mk b/bin/mv/depend.mk[m
:[K[Kindex c4d1bc8..54d486a 100644[m
:[K[K--- a/bin/mv/depend.mk[m
:[K[K+++ b/bin/mv/depend.mk[m
:[K[K@@ -9,3 +9,4 @@ mv.o: \[m
:[K[K  $(OSTREE)/include/kern/ioctl.h \[m
:[K[K  $(OSTREE)/include/err.h \[m
:[K[K  $(OSTREE)/include/stdarg.h[m
:[K[K+[m
:[K[Kdiff --git a/bin/pwd/depend.mk b/bin/pwd/depend.mk[m
:[K[Kindex 41dba83..50cae5f 100644[m
:[K[K--- a/bin/pwd/depend.mk[m
:[K[K+++ b/bin/pwd/depend.mk[m
:[K[K@@ -13,3 +13,4 @@ pwd.o: \[m
:[K[K  $(OSTREE)/include/err.h \[m
:[K[K  $(OSTREE)/include/limits.h \[m
:[K[K  $(OSTREE)/include/kern/limits.h[m
:[K[K+[m
:[K[Kdiff --git a/bin/rm/depend.mk b/bin/rm/depend.mk[m
:[K[Kindex 62d6177..5dde52e 100644[m
:[K[K--- a/bin/rm/depend.mk[m
:[K[K+++ b/bin/rm/depend.mk[m
:[K[K@@ -9,3 +9,4 @@ rm.o: \[m
:[K[K  $(OSTREE)/include/kern/ioctl.h \[m
:[K[K  $(OSTREE)/include/err.h \[m
:[K[K  $(OSTREE)/include/stdarg.h[m
:[K[K+[m
:[K[Kdiff --git a/bin/rmdir/depend.mk b/bin/rmdir/depend.mk[m
:[K[Kindex f361720..d752ff4 100644[m
:[K[K--- a/bin/rmdir/depend.mk[m
:[K[K+++ b/bin/rmdir/depend.mk[m
:[K[K@@ -9,3 +9,4 @@ rmdir.o: \[m
:[K[K  $(OSTREE)/include/kern/ioctl.h \[m
:[K[K  $(OSTREE)/include/err.h \[m
:[K[K  $(OSTREE)/include/stdarg.h[m
:[K[K+[m
:[K[Kdiff --git a/bin/sh/depend.mk b/bin/sh/depend.mk[m
:[K[Kindex db813ac..58deaf8 100644[m
:[K[K--- a/bin/sh/depend.mk[m
:[K[K+++ b/bin/sh/depend.mk[m
:[K[K@@ -1,3 +1,4 @@[m
:[K[K [m
:[K[K sh.o: \[m
:[K[K  sh.c[m
:[K[K+[m
:[K[Kdiff --git a/bin/sh/dependh.mk b/bin/sh/dependh.mk[m
:[K[Kindex 325543a..53c8282 100644[m
:[K[K--- a/bin/sh/dependh.mk[m
:[K[K+++ b/bin/sh/dependh.mk[m
:[K[K@@ -2,3 +2,4 @@[m
:[K[K sh.ho: \[m
:[K[K  sh.c \[m
:[K[K  $(OSTREE)/hostinclude/hostcompat.h[m
:[K[K+[m
:[K[Kdiff --git a/bin/sync/depend.mk b/bin/sync/depend.mk[m
:[K[Kindex 4f79baa..1db5338 100644[m
:[K[K--- a/bin/sync/depend.mk[m
:[K[K+++ b/bin/sync/depend.mk[m
:[K[K@@ -7,3 +7,4 @@ sync.o: \[m
:[K[K  $(OSTREE)/include/kern/types.h \[m
:[K[K  $(OSTREE)/include/kern/unistd.h \[m
:[K[K  $(OSTREE)/include/kern/ioctl.h[m
:[K[K+[m
:[K[Kdiff --git a/bin/true/depend.mk b/bin/true/depend.mk[m
:[K[Kindex 1fd4de7..9ced686 100644[m
:[K[K--- a/bin/true/depend.mk[m
:[K[K+++ b/bin/true/depend.mk[m
:[K[K@@ -8,3 +8,4 @@ true.o: \[m
:[K[K  $(OSTREE)/include/kern/unistd.h \[m
:[K[K  $(OSTREE)/include/kern/ioctl.h \[m
:[K[K  $(OSTREE)/include/stdlib.h[m
:[K[K+[m
:[K[Kdiff --git a/kern/conf/conf.kern b/kern/conf/conf.kern[m
:[K[Kindex 7d7d9c9..e2da985 100644[m
:[K[K--- a/kern/conf/conf.kern[m
:[K[K+++ b/kern/conf/conf.kern[m
:[K[K@@ -372,6 +372,7 @@ file      thread/thread.c[m
:[K[K [m
:[K[K file      main/main.c[m
:[K[K file      main/menu.c[m
:[K[K+file     main/hello.c[m
:[K[K [m
:[K[K #[m
:[K[K # User-level programming/system call support[m
:[K[Kdiff --git a/kern/main/hello.c b/kern/main/hello.c[m
:[K[Kindex e69de29..0bdf332 100644[m
:[K[K--- a/kern/main/hello.c[m
:[K[K+++ b/kern/main/hello.c[m
:[K[K@@ -0,0 +1,4 @@[m
:[K[K+hello() {[m
:[K[K+       kprintf("Hello World!\n");[m
:[K[K+}[m
:[K[K+[m
:[K[Kdiff --git a/kern/main/main.c b/kern/main/main.c[m
:[K[Kindex a19b0f2..7885ef6 100644[m
:[K[K--- a/kern/main/main.c[m
:[K[K+++ b/kern/main/main.c[m
:[K[K@@ -16,6 +16,9 @@[m
:[K[K #include <vm.h>[m
:[K[K #include <syscall.h>[m
:[K[K #include <version.h>[m
:[K[K+#include <hello.h> /* see ~/cs161/src/kern/include */[m
:[K[K+[m
:[K[K+/* This is a comment with my name David Jung */[m
:[K[K [m
:[K[K /*[m
:[K[K  * These two pieces of data are maintained by the makefiles and build system.[m
:[K[K@@ -69,7 +72,7 @@ boot(void)[m
:[K[K        kprintf("Put-your-group-name-here's system version %s (%s #%d)\n", [m
:[K[K                GROUP_VERSION, buildconfig, buildversion);[m
:[K[K        kprintf("\n");[m
:[K[K-[m
:[K[K+       hello();[m
:[K[K        ram_bootstrap();[m
:[K[K        scheduler_bootstrap();[m
:[K[K        thread_bootstrap();[m
:[K[Kdiff --git a/lib/hostcompat/dependh.mk b/lib/hostcompat/dependh.mk[m
:[K[Kindex 58d01a5..cc3b67e 100644[m
:[K[K--- a/lib/hostcompat/dependh.mk[m
:[K[K+++ b/lib/hostcompat/dependh.mk[m
:[K[K@@ -8,3 +8,4 @@ time.ho: \[m
:[K[K hostcompat.ho: \[m
:[K[K  hostcompat.c \[m
:[K[K  hostcompat.h[m
:[K[K+[m
:[K[Kdiff --git a/lib/libc/depend.mk b/lib/libc/depend.mk[m
:[K[Kindex e8aad83..c073747 100644[m
:[K[K--- a/lib/libc/depend.mk[m
:[K[K+++ b/lib/libc/depend.mk[m
:[K[K@@ -244,3 +244,4 @@ syscalls.o: \[m
:[K[K  syscalls.S \[m
:[K[K  $(OSTREE)/include/kern/callno.h \[m
:[K[K  $(OSTREE)/include/machine/asmdefs.h[m
:[K[K+[m
:[K[Kdiff --git a/sbin/dumpsfs/depend.mk b/sbin/dumpsfs/depend.mk[m
:[K[Kindex 6f2f559..639ebd8 100644[m
:[K[K--- a/sbin/dumpsfs/depend.mk[m
:[K[K+++ b/sbin/dumpsfs/depend.mk[m
:[K[K@@ -35,3 +35,4 @@ disk.o: \[m
:[K[K  disk.h[m
:[K[K support.o: \[m
:[K[K  support.c[m
:[K[K+[m
:[K[Kdiff --git a/sbin/dumpsfs/dependh.mk b/sbin/dumpsfs/dependh.mk[m
:[K[Kindex a23239e..7e39e2d 100644[m
:[K[K--- a/sbin/dumpsfs/dependh.mk[m
:[K[K+++ b/sbin/dumpsfs/dependh.mk[m
:[K[K@@ -11,3 +11,4 @@ disk.ho: \[m
:[K[K  disk.h[m
:[K[K support.ho: \[m
:[K[K  support.c[m
:[K[K+[m
:[K[Kdiff --git a/sbin/halt/depend.mk b/sbin/halt/depend.mk[m
:[K[Kindex 451ea93..d14efee 100644[m
:[K[K--- a/sbin/halt/depend.mk[m
:[K[K+++ b/sbin/halt/depend.mk[m
:[K[K@@ -7,3 +7,4 @@ halt.o: \[m
:[K[K  $(OSTREE)/include/kern/types.h \[m
:[K[K  $(OSTREE)/include/kern/unistd.h \[m
:[K[K  $(OSTREE)/include/kern/ioctl.h[m
:[K[K+[m
:[K[Kdiff --git a/sbin/mksfs/depend.mk b/sbin/mksfs/depend.mk[m
:[K[Kindex 5a3827c..5b85e4a 100644[m
:[K[K--- a/sbin/mksfs/depend.mk[m
:[K[K+++ b/sbin/mksfs/depend.mk[m
:[K[K@@ -34,3 +34,4 @@ disk.o: \[m
:[K[K  disk.h[m
:[K[K support.o: \[m
:[K[K  support.c[m
:[K[K+[m
:[K[Kdiff --git a/sbin/mksfs/dependh.mk b/sbin/mksfs/dependh.mk[m
:[K[Kindex 400e712..0900d3c 100644[m
:[K[K--- a/sbin/mksfs/dependh.mk[m
:[K[K+++ b/sbin/mksfs/dependh.mk[m
:[K[K@@ -11,3 +11,4 @@ disk.ho: \[m
:[K[K  disk.h[m
:[K[K support.ho: \[m
:[K[K  support.c[m
:[K[K+[m
:[K[Kdiff --git a/sbin/poweroff/depend.mk b/sbin/poweroff/depend.mk[m
:[K[Kindex 566e6fb..0c9eeef 100644[m
:[K[K--- a/sbin/poweroff/depend.mk[m
:[K[K+++ b/sbin/poweroff/depend.mk[m
:[K[K@@ -7,3 +7,4 @@ poweroff.o: \[m
:[K[K  $(OSTREE)/include/kern/types.h \[m
:[K[K  $(OSTREE)/include/kern/unistd.h \[m
:[K[K  $(OSTREE)/include/kern/ioctl.h[m
:[K[K+[m
:[K[Kdiff --git a/sbin/reboot/depend.mk b/sbin/reboot/depend.mk[m
:[K[Kindex bdbe5b1..165bc61 100644[m
:[K[K--- a/sbin/reboot/depend.mk[m
:[K[K+++ b/sbin/reboot/depend.mk[m
:[K[K@@ -7,3 +7,4 @@ reboot.o: \[m
:[K[K  $(OSTREE)/include/kern/types.h \[m
:[K[K  $(OSTREE)/include/kern/unistd.h \[m
:[K[K  $(OSTREE)/include/kern/ioctl.h[m
:[K[K+[m
:[K[Kdiff --git a/testbin/add/depend.mk b/testbin/add/depend.mk[m
:[K[Kindex 0de8861..56be6ee 100644[m
:[K[K--- a/testbin/add/depend.mk[m
:[K[K+++ b/testbin/add/depend.mk[m
:[K[K@@ -8,3 +8,4 @@ add.o: \[m
:[K[K  $(OSTREE)/include/stdarg.h \[m
:[K[K  $(OSTREE)/include/stdlib.h \[m
:[K[K  $(OSTREE)/include/err.h[m
:[K[K+[m
:[K[Kdiff --git a/testbin/argtest/depend.mk b/testbin/argtest/depend.mk[m
:[K[Kindex ec3a3f4..f23a14b 100644[m
:[K[K--- a/testbin/argtest/depend.mk[m
:[K[K+++ b/testbin/argtest/depend.mk[m
:[K[K@@ -6,3 +6,4 @@ argtest.o: \[m
:[K[K  $(OSTREE)/include/machine/types.h \[m
:[K[K  $(OSTREE)/include/kern/types.h \[m
:[K[K  $(OSTREE)/include/stdarg.h[m
:[K[K+[m
:[K[Kdiff --git a/testbin/badcall/depend.mk b/testbin/badcall/depend.mk[m
:[K[Kindex 3a64c26..03c1204 100644[m
:[K[K--- a/testbin/badcall/depend.mk[m
:[K[K+++ b/testbin/badcall/depend.mk[m
:[K[K@@ -431,3 +431,4 @@ driver.o: \[m
:[K[K  $(OSTREE)/include/err.h \[m
:[K[K  config.h \[m
:[K[K  test.h[m
:[K[K+[m
:[K[Kdiff --git a/testbin/bigfile/depend.mk b/testbin/bigfile/depend.mk[m
:[K[Kindex 7158550..c66c235 100644[m
:[K[K--- a/testbin/bigfile/depend.mk[m
:[K[K+++ b/testbin/bigfile/depend.mk[m
:[K[K@@ -12,3 +12,4 @@ bigfile.o: \[m
:[K[K  $(OSTREE)/include/kern/unistd.h \[m
:[K[K  $(OSTREE)/include/kern/ioctl.h \[m
:[K[K  $(OSTREE)/include/err.h[m
:[K[K+[m
:[K[Kdiff --git a/testbin/conman/depend.mk b/testbin/conman/depend.mk[m
:[K[Kindex 1f4394d..87716fa 100644[m
:[K[K--- a/testbin/conman/depend.mk[m
:[K[K+++ b/testbin/conman/depend.mk[m
:[K[K@@ -9,3 +9,4 @@ conman.o: \[m
:[K[K  $(OSTREE)/include/kern/ioctl.h \[m
:[K[K  $(OSTREE)/include/err.h \[m
:[K[K  $(OSTREE)/include/stdarg.h[m
:[K[K+[m
:[K[Kdiff --git a/testbin/crash/depend.mk b/testbin/crash/depend.mk[m
:[K[Kindex 6ac8823..444def3 100644[m
:[K[K--- a/testbin/crash/depend.mk[m
:[K[K+++ b/testbin/crash/depend.mk[m
:[K[K@@ -10,3 +10,4 @@ crash.o: \[m
:[K[K  $(OSTREE)/include/kern/unistd.h \[m
:[K[K  $(OSTREE)/include/kern/ioctl.h \[m
:[K[K  $(OSTREE)/include/err.h[m
:[K[K+[m
:[K[Kdiff --git a/testbin/ctest/depend.mk b/testbin/ctest/depend.mk[m
:[K[Kindex e2a65ad..e3529ba 100644[m
:[K[K--- a/testbin/ctest/depend.mk[m
:[K[K+++ b/testbin/ctest/depend.mk[m
:[K[K@@ -7,3 +7,4 @@ ctest.o: \[m
:[K[K  $(OSTREE)/include/kern/types.h \[m
:[K[K  $(OSTREE)/include/stdarg.h \[m
:[K[K  $(OSTREE)/include/stdlib.h[m
:[K[K+[m
:[K[Kdiff --git a/testbin/dirconc/depend.mk b/testbin/dirconc/depend.mk[m
:[K[Kindex e8767da..942660f 100644[m
:[K[K--- a/testbin/dirconc/depend.mk[m
:[K[K+++ b/testbin/dirconc/depend.mk[m
:[K[K@@ -16,3 +16,4 @@ dirconc.o: \[m
:[K[K  $(OSTREE)/include/stdarg.h \[m
:[K[K  $(OSTREE)/include/stdlib.h \[m
:[K[K  $(OSTREE)/include/string.h[m
:[K[K+[m
:[K[Kdiff --git a/testbin/dirseek/depend.mk b/testbin/dirseek/depend.mk[m
:[K[Kindex f2bf933..9db5ff7 100644[m
:[K[K--- a/testbin/dirseek/depend.mk[m
:[K[K+++ b/testbin/dirseek/depend.mk[m
:[K[K@@ -14,3 +14,4 @@ dirseek.o: \[m
:[K[K  $(OSTREE)/include/stdarg.h \[m
:[K[K  $(OSTREE)/include/stdlib.h \[m
:[K[K  $(OSTREE)/include/err.h[m
:[K[K+[m
:[K[Kdiff --git a/testbin/dirtest/depend.mk b/testbin/dirtest/depend.mk[m
:[K[Kindex 345fa42..e9bcc32 100644[m
:[K[K--- a/testbin/dirtest/depend.mk[m
:[K[K+++ b/testbin/dirtest/depend.mk[m
:[K[K@@ -13,3 +13,4 @@ dirtest.o: \[m
:[K[K  $(OSTREE)/include/kern/ioctl.h \[m
:[K[K  $(OSTREE)/include/string.h \[m
:[K[K  $(OSTREE)/include/err.h[m
:[K[K+[m
:[K[Kdiff --git a/testbin/f_test/depend.mk b/testbin/f_test/depend.mk[m
:[K[Kindex c8f7278..51dc892 100644[m
:[K[K--- a/testbin/f_test/depend.mk[m
:[K[K+++ b/testbin/f_test/depend.mk[m
:[K[K@@ -38,3 +38,4 @@ f_write.o: \[m
:[K[K  $(OSTREE)/include/stdarg.h \[m
:[K[K  $(OSTREE)/include/err.h \[m
:[K[K  f_hdr.h[m
:[K[K+[m
:[K[Kdiff --git a/testbin/farm/depend.mk b/testbin/farm/depend.mk[m
:[K[Kindex 1852367..0a07787 100644[m
:[K[K--- a/testbin/farm/depend.mk[m
:[K[K+++ b/testbin/farm/depend.mk[m
:[K[K@@ -9,3 +9,4 @@ farm.o: \[m
:[K[K  $(OSTREE)/include/kern/ioctl.h \[m
:[K[K  $(OSTREE)/include/err.h \[m
:[K[K  $(OSTREE)/include/stdarg.h[m
:[K[K+[m
:[K[Kdiff --git a/testbin/faulter/depend.mk b/testbin/faulter/depend.mk[m
:[K[Kindex 83d5abb..b74d4bc 100644[m
:[K[K--- a/testbin/faulter/depend.mk[m
:[K[K+++ b/testbin/faulter/depend.mk[m
:[K[K@@ -6,3 +6,4 @@ faulter.o: \[m
:[K[K  $(OSTREE)/include/machine/types.h \[m
:[K[K  $(OSTREE)/include/kern/types.h \[m
:[K[K  $(OSTREE)/include/stdarg.h[m
:[K[K+[m
:[K[Kdiff --git a/testbin/filetest/depend.mk b/testbin/filetest/depend.mk[m
:[K[Kindex 55c745c..56dcf92 100644[m
:[K[K--- a/testbin/filetest/depend.mk[m
:[K[K+++ b/testbin/filetest/depend.mk[m
:[K[K@@ -11,3 +11,4 @@ filetest.o: \[m
:[K[K  $(OSTREE)/include/kern/unistd.h \[m
:[K[K  $(OSTREE)/include/kern/ioctl.h \[m
:[K[K  $(OSTREE)/include/err.h[m
:[K[K+[m
:[K[Kdiff --git a/testbin/forkbomb/depend.mk b/testbin/forkbomb/depend.mk[m
:[K[Kindex dbe3742..572d01a 100644[m
:[K[K--- a/testbin/forkbomb/depend.mk[m
:[K[K+++ b/testbin/forkbomb/depend.mk[m
:[K[K@@ -9,3 +9,4 @@ forkbomb.o: \[m
:[K[K  $(OSTREE)/include/kern/ioctl.h \[m
:[K[K  $(OSTREE)/include/err.h \[m
:[K[K  $(OSTREE)/include/stdarg.h[m
:[K[K+[m
:[K[Kdiff --git a/testbin/forktest/depend.mk b/testbin/forktest/depend.mk[m
:[K[Kindex c41f367..5ba124e 100644[m
:[K[K--- a/testbin/forktest/depend.mk[m
:[K[K+++ b/testbin/forktest/depend.mk[m
:[K[K@@ -12,3 +12,4 @@ forktest.o: \[m
:[K[K  $(OSTREE)/include/stdio.h \[m
:[K[K  $(OSTREE)/include/stdarg.h \[m
:[K[K  $(OSTREE)/include/err.h[m
:[K[K+[m
:[K[Kdiff --git a/testbin/guzzle/depend.mk b/testbin/guzzle/depend.mk[m
:[K[Kindex 37c69c9..ce9c289 100644[m
:[K[K--- a/testbin/guzzle/depend.mk[m
:[K[K+++ b/testbin/guzzle/depend.mk[m
:[K[K@@ -9,3 +9,4 @@ guzzle.o: \[m
:[K[K  $(OSTREE)/include/unistd.h \[m
:[K[K  $(OSTREE)/include/kern/unistd.h \[m
:[K[K  $(OSTREE)/include/kern/ioctl.h[m
:[K[K+[m
:[K[Kdiff --git a/testbin/hash/depend.mk b/testbin/hash/depend.mk[m
:[K[Kindex 227e234..b4e4d72 100644[m
:[K[K--- a/testbin/hash/depend.mk[m
:[K[K+++ b/testbin/hash/depend.mk[m
:[K[K@@ -11,3 +11,4 @@ hash.o: \[m
:[K[K  $(OSTREE)/include/kern/ioctl.h \[m
:[K[K  $(OSTREE)/include/fcntl.h \[m
:[K[K  $(OSTREE)/include/err.h[m
:[K[K+[m
:[K[Kdiff --git a/testbin/hash/dependh.mk b/testbin/hash/dependh.mk[m
:[K[Kindex d495ef2..aadaf5b 100644[m
:[K[K--- a/testbin/hash/dependh.mk[m
:[K[K+++ b/testbin/hash/dependh.mk[m
:[K[K@@ -2,3 +2,4 @@[m
:[K[K hash.ho: \[m
:[K[K  hash.c \[m
:[K[K  $(OSTREE)/hostinclude/hostcompat.h[m
:[K[K+[m
:[K[Kdiff --git a/testbin/hog/depend.mk b/testbin/hog/depend.mk[m
:[K[Kindex fb65ead..7d097df 100644[m
:[K[K--- a/testbin/hog/depend.mk[m
:[K[K+++ b/testbin/hog/depend.mk[m
:[K[K@@ -1,3 +1,4 @@[m
:[K[K [m
:[K[K hog.o: \[m
:[K[K  hog.c[m
:[K[K+[m
:[K[Kdiff --git a/testbin/huge/depend.mk b/testbin/huge/depend.mk[m
:[K[Kindex e67cda0..c031b06 100644[m
:[K[K--- a/testbin/huge/depend.mk[m
:[K[K+++ b/testbin/huge/depend.mk[m
:[K[K@@ -7,3 +7,4 @@ huge.o: \[m
:[K[K  $(OSTREE)/include/kern/types.h \[m
:[K[K  $(OSTREE)/include/stdarg.h \[m
:[K[K  $(OSTREE)/include/stdlib.h[m
:[K[K+[m
:[K[Kdiff --git a/testbin/kitchen/depend.mk b/testbin/kitchen/depend.mk[m
:[K[Kindex e0108c4..b0f4dbb 100644[m
:[K[K--- a/testbin/kitchen/depend.mk[m
:[K[K+++ b/testbin/kitchen/depend.mk[m
:[K[K@@ -9,3 +9,4 @@ kitchen.o: \[m
:[K[K  $(OSTREE)/include/kern/ioctl.h \[m
:[K[K  $(OSTREE)/include/err.h \[m
:[K[K  $(OSTREE)/include/stdarg.h[m
:[K[K+[m
:[K[Kdiff --git a/testbin/matmult/depend.mk b/testbin/matmult/depend.mk[m
:[K[Kindex 745d5a0..ad0560b 100644[m
:[K[K--- a/testbin/matmult/depend.mk[m
:[K[K+++ b/testbin/matmult/depend.mk[m
:[K[K@@ -9,3 +9,4 @@ matmult.o: \[m
:[K[K  $(OSTREE)/include/kern/ioctl.h \[m
:[K[K  $(OSTREE)/include/stdio.h \[m
:[K[K  $(OSTREE)/include/stdarg.h[m
:[K[K+[m
:[K[Kdiff --git a/testbin/palin/depend.mk b/testbin/palin/depend.mk[m
:[K[Kindex 3145f2e..7f6e291 100644[m
:[K[K--- a/testbin/palin/depend.mk[m
:[K[K+++ b/testbin/palin/depend.mk[m
:[K[K@@ -7,3 +7,4 @@ palin.o: \[m
:[K[K  $(OSTREE)/include/kern/types.h \[m
:[K[K  $(OSTREE)/include/stdarg.h \[m
:[K[K  $(OSTREE)/include/string.h[m
:[K[K+[m
:[K[Kdiff --git a/testbin/parallelvm/depend.mk b/testbin/parallelvm/depend.mk[m
:[K[Kindex 00862ec..d389cb5 100644[m
:[K[K--- a/testbin/parallelvm/depend.mk[m
:[K[K+++ b/testbin/parallelvm/depend.mk[m
:[K[K@@ -13,3 +13,4 @@ parallelvm.o: \[m
:[K[K  $(OSTREE)/include/string.h \[m
:[K[K  $(OSTREE)/include/stdlib.h \[m
:[K[K  $(OSTREE)/include/err.h[m
:[K[K+[m
:[K[Kdiff --git a/testbin/randcall/depend.mk b/testbin/randcall/depend.mk[m
:[K[Kindex 1f2d367..7530013 100644[m
:[K[K--- a/testbin/randcall/depend.mk[m
:[K[K+++ b/testbin/randcall/depend.mk[m
:[K[K@@ -27,3 +27,4 @@ main.o: \[m
:[K[K  $(OSTREE)/include/stdarg.h \[m
:[K[K  $(OSTREE)/include/string.h \[m
:[K[K  extern.h[m
:[K[K+[m
:[K[Kdiff --git a/testbin/rmdirtest/depend.mk b/testbin/rmdirtest/depend.mk[m
:[K[Kindex 36d4f39..1af4c14 100644[m
:[K[K--- a/testbin/rmdirtest/depend.mk[m
:[K[K+++ b/testbin/rmdirtest/depend.mk[m
:[K[K@@ -18,3 +18,4 @@ rmdirtest.o: \[m
:[K[K  $(OSTREE)/include/limits.h \[m
:[K[K  $(OSTREE)/include/kern/limits.h \[m
:[K[K  $(OSTREE)/include/err.h[m
:[K[K+[m
:[K[Kdiff --git a/testbin/rmtest/depend.mk b/testbin/rmtest/depend.mk[m
:[K[Kindex 449be7e..ebd9f2c 100644[m
:[K[K--- a/testbin/rmtest/depend.mk[m
:[K[K+++ b/testbin/rmtest/depend.mk[m
:[K[K@@ -14,3 +14,4 @@ rmtest.o: \[m
:[K[K  $(OSTREE)/include/errno.h \[m
:[K[K  $(OSTREE)/include/kern/errno.h \[m
:[K[K  $(OSTREE)/include/err.h[m
:[K[K+[m
:[K[Kdiff --git a/testbin/sink/depend.mk b/testbin/sink/depend.mk[m
:[K[Kindex b88468f..bfbfc2f 100644[m
:[K[K--- a/testbin/sink/depend.mk[m
:[K[K+++ b/testbin/sink/depend.mk[m
:[K[K@@ -9,3 +9,4 @@ sink.o: \[m
:[K[K  $(OSTREE)/include/kern/ioctl.h \[m
:[K[K  $(OSTREE)/include/err.h \[m
:[K[K  $(OSTREE)/include/stdarg.h[m
:[K[K+[m
:[K[Kdiff --git a/testbin/sort/depend.mk b/testbin/sort/depend.mk[m
:[K[Kindex 9ee1d08..723a324 100644[m
:[K[K--- a/testbin/sort/depend.mk[m
:[K[K+++ b/testbin/sort/depend.mk[m
:[K[K@@ -8,3 +8,4 @@ sort.o: \[m
:[K[K  $(OSTREE)/include/string.h \[m
:[K[K  $(OSTREE)/include/err.h \[m
:[K[K  $(OSTREE)/include/stdarg.h[m
:[K[K+[m
:[K[Kdiff --git a/testbin/sty/depend.mk b/testbin/sty/depend.mk[m
:[K[Kindex f041ddc..7759e5a 100644[m
:[K[K--- a/testbin/sty/depend.mk[m
:[K[K+++ b/testbin/sty/depend.mk[m
:[K[K@@ -9,3 +9,4 @@ sty.o: \[m
:[K[K  $(OSTREE)/include/kern/ioctl.h \[m
:[K[K  $(OSTREE)/include/err.h \[m
:[K[K  $(OSTREE)/include/stdarg.h[m
:[K[K+[m
:[K[Kdiff --git a/testbin/tail/depend.mk b/testbin/tail/depend.mk[m
:[K[Kindex 909395b..ae4c592 100644[m
:[K[K--- a/testbin/tail/depend.mk[m
:[K[K+++ b/testbin/tail/depend.mk[m
:[K[K@@ -10,3 +10,4 @@ tail.o: \[m
:[K[K  $(OSTREE)/include/stdlib.h \[m
:[K[K  $(OSTREE)/include/err.h \[m
:[K[K  $(OSTREE)/include/stdarg.h[m
:[K[K+[m
:[K[Kdiff --git a/testbin/tictac/depend.mk b/testbin/tictac/depend.mk[m
:[K[Kindex 49fe0cc..7e89f94 100644[m
:[K[K--- a/testbin/tictac/depend.mk[m
:[K[K+++ b/testbin/tictac/depend.mk[m
:[K[K@@ -9,3 +9,4 @@ tictac.o: \[m
:[K[K  $(OSTREE)/include/unistd.h \[m
:[K[K  $(OSTREE)/include/kern/unistd.h \[m
:[K[K  $(OSTREE)/include/kern/ioctl.h[m
:[K[K+[m
:[K[Kdiff --git a/testbin/triplehuge/depend.mk b/testbin/triplehuge/depend.mk[m
:[K[Kindex 7878d48..e625ec5 100644[m
:[K[K--- a/testbin/triplehuge/depend.mk[m
:[K[K+++ b/testbin/triplehuge/depend.mk[m
:[K[K@@ -14,3 +14,4 @@ triple.o: \[m
:[K[K  $(OSTREE)/include/kern/ioctl.h \[m
:[K[K  $(OSTREE)/include/err.h \[m
:[K[K  triple.h[m
:[K[K+[m
:[K[Kdiff --git a/testbin/triplemat/depend.mk b/testbin/triplemat/depend.mk[m
:[K[Kindex 2b1a546..0929f5d 100644[m
:[K[K--- a/testbin/triplemat/depend.mk[m
:[K[K+++ b/testbin/triplemat/depend.mk[m
:[K[K@@ -14,3 +14,4 @@ triple.o: \[m
:[K[K  $(OSTREE)/include/kern/ioctl.h \[m
:[K[K  $(OSTREE)/include/err.h \[m
:[K[K  triple.h[m
:[K[K+[m
:[K[Kdiff --git a/testbin/triplesort/depend.mk b/testbin/triplesort/depend.mk[m
:[K[Kindex c0f7cf0..21318c1 100644[m
:[K[K--- a/testbin/triplesort/depend.mk[m
:[K[K+++ b/testbin/triplesort/depend.mk[m
:[K[K@@ -14,3 +14,4 @@ triple.o: \[m
:[K[K  $(OSTREE)/include/kern/ioctl.h \[m
:[K[K  $(OSTREE)/include/err.h \[m
:[K[K  triple.h[m
:[K[K+[m
:[K[K[K[7m(END)[27m[K[K[K[7m(END)[27m[K[K[K[7m(END)[27m[K[K[K[7m(END)[27m[K[K[K[7m(END)[27m[K[K[K[7m(END)[27m[K[K[K[7m(END)[27m[K[K[7m(END)[27m[K[K[K[7m(END)[27m[K[K[K[7m(END)[27m[K[K [K::[K^?^?[K[7m(END)[27m[K[K [K::[Kqq[K[?1l>
bash-4.2$ uit[K[K[Kgit commit
[?1049h[?1h=[1;37r[?12;25h[?12l[?25h[27m[m[H[2J[?25l[37;1H".git/COMMIT_EDITMSG" 292L, 9425C[2;1H# Please enter the commit message for your changes. Lines starting
# with '#' will be ignored, and an empty message aborts the commit.
#
# Committer: David J Jung <djj0013@tux059.eng.auburn.edu>
#
# On branch master
# Changes to be committed:
#   (use "git reset HEAD <file>..." to unstage)
#
#[7Cnew file:   hello.c
#
# Changes not staged for commit:
#   (use "git add <file>..." to update what will be committed)
#   (use "git checkout -- <file>..." to discard changes in working directory)
#
#[7Cmodified:   ../../bin/cat/depend.mk
#[7Cmodified:   ../../bin/cp/depend.mk
#[7Cmodified:   ../../bin/false/depend.mk
#[7Cmodified:   ../../bin/ln/depend.mk
#[7Cmodified:   ../../bin/ls/depend.mk
#[7Cmodified:   ../../bin/mkdir/depend.mk
#[7Cmodified:   ../../bin/mv/depend.mk
#[7Cmodified:   ../../bin/pwd/depend.mk
#[7Cmodified:   ../../bin/rm/depend.mk
#[7Cmodified:   ../../bin/rmdir/depend.mk
#[7Cmodified:   ../../bin/sh/depend.mk
#[7Cmodified:   ../../bin/sh/dependh.mk
#[7Cmodified:   ../../bin/sync/depend.mk
#[7Cmodified:   ../../bin/true/depend.mk
#[7Cmodified:   ../conf/conf.kern
#[7Cmodified:   hello.c
#[7Cmodified:   main.c
#[7Cmodified:   ../../lib/hostcompat/dependh.mk
#[7Cmodified:   ../../lib/libc/depend.mk
#[7Cmodified:   ../../sbin/dumpsfs/depend.mk[1;1H[?12l[?25h


































[?25l[1;36r[36;1H
[1;37r[36;1H#[7Cmodified:   ../../sbin/dumpsfs/dependh.mk[37;1H[K[36;1H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H#[7Cmodified:   ../../sbin/halt/depend.mk[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H#[7Cmodified:   ../../sbin/mksfs/depend.mk[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H#[7Cmodified:   ../../sbin/mksfs/dependh.mk[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H#[7Cmodified:   ../../sbin/poweroff/depend.mk[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H#[7Cmodified:   ../../sbin/reboot/depend.mk[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H#[7Cmodified:   ../../testbin/add/depend.mk[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H#[7Cmodified:   ../../testbin/argtest/depend.mk[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H#[7Cmodified:   ../../testbin/badcall/depend.mk[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H#[7Cmodified:   ../../testbin/bigfile/depend.mk[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H#[7Cmodified:   ../../testbin/conman/depend.mk[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H#[7Cmodified:   ../../testbin/crash/depend.mk[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H#[7Cmodified:   ../../testbin/ctest/depend.mk[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H#[7Cmodified:   ../../testbin/dirconc/depend.mk[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H#[7Cmodified:   ../../testbin/dirseek/depend.mk[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H#[7Cmodified:   ../../testbin/dirtest/depend.mk[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H#[7Cmodified:   ../../testbin/f_test/depend.mk[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H#[7Cmodified:   ../../testbin/farm/depend.mk[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H#[7Cmodified:   ../../testbin/faulter/depend.mk[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H#[7Cmodified:   ../../testbin/filetest/depend.mk[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H#[7Cmodified:   ../../testbin/forkbomb/depend.mk[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H#[7Cmodified:   ../../testbin/forktest/depend.mk[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H#[7Cmodified:   ../../testbin/guzzle/depend.mk[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H#[7Cmodified:   ../../testbin/hash/depend.mk[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H#[7Cmodified:   ../../testbin/hash/dependh.mk[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H#[7Cmodified:   ../../testbin/hog/depend.mk[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H#[7Cmodified:   ../../testbin/huge/depend.mk[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H#[7Cmodified:   ../../testbin/kitchen/depend.mk[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H#[7Cmodified:   ../../testbin/matmult/depend.mk[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H#[7Cmodified:   ../../testbin/palin/depend.mk[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H#[7Cmodified:   ../../testbin/parallelvm/depend.mk[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H#[7Cmodified:   ../../testbin/randcall/depend.mk[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H#[7Cmodified:   ../../testbin/rmdirtest/depend.mk[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H#[7Cmodified:   ../../testbin/rmtest/depend.mk[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H#[7Cmodified:   ../../testbin/sink/depend.mk[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H#[7Cmodified:   ../../testbin/sort/depend.mk[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H#[7Cmodified:   ../../testbin/sty/depend.mk[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H#[7Cmodified:   ../../testbin/tail/depend.mk[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H#[7Cmodified:   ../../testbin/tictac/depend.mk[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H#[7Cmodified:   ../../testbin/triplehuge/depend.mk[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H#[7Cmodified:   ../../testbin/triplemat/depend.mk[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H#[7Cmodified:   ../../testbin/triplesort/depend.mk[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H#[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H# Untracked files:[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H#   (use "git add <file>..." to include in what will be committed)[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H#[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H#[7C../../bin/cat/cat[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H#[7C../../bin/cat/cat.o[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H#[7C../../bin/cp/cp[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H#[7C../../bin/cp/cp.o[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H#[7C../../bin/false/false[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H#[7C../../bin/false/false.o[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H#[7C../../bin/ln/ln[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H#[7C../../bin/ln/ln.o[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H#[7C../../bin/ls/ls[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H#[7C../../bin/ls/ls.o[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H#[7C../../bin/mkdir/mkdir[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H#[7C../../bin/mkdir/mkdir.o[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H#[7C../../bin/mv/mv[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H#[7C../../bin/mv/mv.o[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H#[7C../../bin/pwd/pwd[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H#[7C../../bin/pwd/pwd.o[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H#[7C../../bin/rm/rm[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H#[7C../../bin/rm/rm.o[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H#[7C../../bin/rmdir/rmdir[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H#[7C../../bin/rmdir/rmdir.o[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H#[7C../../bin/sh/host-sh[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H#[7C../../bin/sh/sh[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H#[7C../../bin/sh/sh.ho[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H#[7C../../bin/sh/sh.o[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H#[7C../../bin/sync/sync[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H#[7C../../bin/sync/sync.o[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H#[7C../../bin/true/true[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H#[7C../../bin/true/true.o[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H#[7C../../defs.mk[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H#[7C../../git-use.script[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H#[7C../compile/ASST0/[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H#[7C../include/hello.h[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H#[7C../../lib/crt0/crt0.o[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H#[7C../../lib/hostcompat/err.ho[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H#[7C../../lib/hostcompat/hostcompat.ho[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H#[7C../../lib/hostcompat/libhostcompat.ha[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H#[7C../../lib/hostcompat/time.ho[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H#[7C../../lib/libc/__assert.o[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H#[7C../../lib/libc/__printf.o[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H#[7C../../lib/libc/__puts.o[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H#[7C../../lib/libc/abort.o[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H#[7C../../lib/libc/atoi.o[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H#[7C../../lib/libc/bzero.o[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H#[7C../../lib/libc/err.o[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H#[7C../../lib/libc/errno.o[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H#[7C../../lib/libc/exit.o[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H#[7C../../lib/libc/getchar.o[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H#[7C../../lib/libc/getcwd.o[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H#[7C../../lib/libc/libc.a[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H#[7C../../lib/libc/memcmp.o[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H#[7C../../lib/libc/memcpy.o[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H#[7C../../lib/libc/memmove.o[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H#[7C../../lib/libc/memset.o[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H#[7C../../lib/libc/mips-setjmp.o[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H#[7C../../lib/libc/printf.o[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H#[7C../../lib/libc/putchar.o[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H#[7C../../lib/libc/puts.o[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H#[7C../../lib/libc/random.o[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H#[7C../../lib/libc/snprintf.o[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H#[7C../../lib/libc/strcat.o[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H#[7C../../lib/libc/strchr.o[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H#[7C../../lib/libc/strcmp.o[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H#[7C../../lib/libc/strcpy.o[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H#[7C../../lib/libc/strerror.o[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H#[7C../../lib/libc/strlen.o[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H#[7C../../lib/libc/strrchr.o[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H#[7C../../lib/libc/strtok.o[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H#[7C../../lib/libc/strtok_r.o[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H#[7C../../lib/libc/syscalls.S[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H#[7C../../lib/libc/syscalls.o[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H#[7C../../lib/libc/system.o[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H#[7C../../lib/libc/time.o[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H#[7C../../sbin/dumpsfs/disk.c[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H#[7C../../sbin/dumpsfs/disk.h[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H#[7C../../sbin/dumpsfs/disk.ho[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H#[7C../../sbin/dumpsfs/disk.o[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H#[7C../../sbin/dumpsfs/dumpsfs[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H#[7C../../sbin/dumpsfs/dumpsfs.ho[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H#[7C../../sbin/dumpsfs/dumpsfs.o[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H#[7C../../sbin/dumpsfs/host-dumpsfs[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H#[7C../../sbin/dumpsfs/support.c[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H#[7C../../sbin/dumpsfs/support.h[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H#[7C../../sbin/dumpsfs/support.ho[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H#[7C../../sbin/dumpsfs/support.o[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H#[7C../../sbin/halt/halt[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H#[7C../../sbin/halt/halt.o[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H#[7C../../sbin/mksfs/disk.ho[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H#[7C../../sbin/mksfs/disk.o[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H#[7C../../sbin/mksfs/host-mksfs[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H#[7C../../sbin/mksfs/mksfs[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H#[7C../../sbin/mksfs/mksfs.ho[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H#[7C../../sbin/mksfs/mksfs.o[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H#[7C../../sbin/mksfs/support.ho[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H#[7C../../sbin/mksfs/support.o[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H#[7C../../sbin/poweroff/poweroff[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H#[7C../../sbin/poweroff/poweroff.o[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H#[7C../../sbin/reboot/reboot[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H#[7C../../sbin/reboot/reboot.o[?12l[?25h[?25l
Type  :quit<Enter>  to exit Vim[36;1H[?12l[?25h[?25l[37;1H[K[37;1H:[?12l[?25hquit[?25l[37;1H[K[37;1H[?1l>[?12l[?25h[?1049lAborting commit due to empty commit message.
bash-4.2$ git commit 
[?1049h[?1h=[1;37r[?12;25h[?12l[?25h[27m[m[H[2J[?25l[37;1H".git/COMMIT_EDITMSG" 292L, 9425C[2;1H# Please enter the commit message for your changes. Lines starting
# with '#' will be ignored, and an empty message aborts the commit.
#
# Committer: David J Jung <djj0013@tux059.eng.auburn.edu>
#
# On branch master
# Changes to be committed:
#   (use "git reset HEAD <file>..." to unstage)
#
#[7Cnew file:   hello.c
#
# Changes not staged for commit:
#   (use "git add <file>..." to update what will be committed)
#   (use "git checkout -- <file>..." to discard changes in working directory)
#
#[7Cmodified:   ../../bin/cat/depend.mk
#[7Cmodified:   ../../bin/cp/depend.mk
#[7Cmodified:   ../../bin/false/depend.mk
#[7Cmodified:   ../../bin/ln/depend.mk
#[7Cmodified:   ../../bin/ls/depend.mk
#[7Cmodified:   ../../bin/mkdir/depend.mk
#[7Cmodified:   ../../bin/mv/depend.mk
#[7Cmodified:   ../../bin/pwd/depend.mk
#[7Cmodified:   ../../bin/rm/depend.mk
#[7Cmodified:   ../../bin/rmdir/depend.mk
#[7Cmodified:   ../../bin/sh/depend.mk
#[7Cmodified:   ../../bin/sh/dependh.mk
#[7Cmodified:   ../../bin/sync/depend.mk
#[7Cmodified:   ../../bin/true/depend.mk
#[7Cmodified:   ../conf/conf.kern
#[7Cmodified:   hello.c
#[7Cmodified:   main.c
#[7Cmodified:   ../../lib/hostcompat/dependh.mk
#[7Cmodified:   ../../lib/libc/depend.mk
#[7Cmodified:   ../../sbin/dumpsfs/depend.mk[1;1H[?12l[?25h[?25l[37;1HType  :quit<Enter>  to exit Vim[37;32H[K[1;1H[?12l[?25h[?25l[37;1H[K[37;1H:[?12l[?25hquit[?25l[37;5H[K[37;5H[?12l[?25h[?25l[37;4H[K[37;4H[?12l[?25h[?25l[37;3H[K[37;3H[?12l[?25h[?25l[37;2H[K[37;2H[?12l[?25h [1;1H[?25l[37;1HType  :quit<Enter>  to exit Vim[1;1H[?12l[?25h[?25l[?12l[?25h[?25l[37;1H[K[37;1H:[?12l[?25hquit[?25l[37;1H[K[37;1H[?1l>[?12l[?25h[?1049lAborting commit due to empty commit message.
bash-4.2$ git commit
[?1049h[?1h=[1;37r[?12;25h[?12l[?25h[27m[m[H[2J[?25l[37;1H".git/COMMIT_EDITMSG" 292L, 9425C[2;1H# Please enter the commit message for your changes. Lines starting
# with '#' will be ignored, and an empty message aborts the commit.
#
# Committer: David J Jung <djj0013@tux059.eng.auburn.edu>
#
# On branch master
# Changes to be committed:
#   (use "git reset HEAD <file>..." to unstage)
#
#[7Cnew file:   hello.c
#
# Changes not staged for commit:
#   (use "git add <file>..." to update what will be committed)
#   (use "git checkout -- <file>..." to discard changes in working directory)
#
#[7Cmodified:   ../../bin/cat/depend.mk
#[7Cmodified:   ../../bin/cp/depend.mk
#[7Cmodified:   ../../bin/false/depend.mk
#[7Cmodified:   ../../bin/ln/depend.mk
#[7Cmodified:   ../../bin/ls/depend.mk
#[7Cmodified:   ../../bin/mkdir/depend.mk
#[7Cmodified:   ../../bin/mv/depend.mk
#[7Cmodified:   ../../bin/pwd/depend.mk
#[7Cmodified:   ../../bin/rm/depend.mk
#[7Cmodified:   ../../bin/rmdir/depend.mk
#[7Cmodified:   ../../bin/sh/depend.mk
#[7Cmodified:   ../../bin/sh/dependh.mk
#[7Cmodified:   ../../bin/sync/depend.mk
#[7Cmodified:   ../../bin/true/depend.mk
#[7Cmodified:   ../conf/conf.kern
#[7Cmodified:   hello.c
#[7Cmodified:   main.c
#[7Cmodified:   ../../lib/hostcompat/dependh.mk
#[7Cmodified:   ../../lib/libc/depend.mk
#[7Cmodified:   ../../sbin/dumpsfs/depend.mk[1;1H[?12l[?25h[?25l[37;1H[1m-- INSERT --[m[37;13H[K[1;1H[?12l[?25h[?25lt[?12l[?25h[?25l[2;36r[2;1H[L[1;37r[2;1H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[1;1Ht[36;1H#[7Cmodified:   ../../sbin/dumpsfs/depend.mk[1;2H[?12l[?25h[?25l[1;1H[K[1;1H[?12l[?25h[?25lc[?12l[?25h[?25lo[?12l[?25h[?25lm[?12l[?25h[?25lm[?12l[?25h[?25li[?12l[?25h[?25lt[?12l[?25h[?25l[2;36r[2;1H[L[1;37r[2;1H[?12l[?25h[?25l[37;1H[K[2;1H[?12l[?25h[?25l[37;1H:[?12l[?25hquit[?25l[97m[41mE37: No write since last change (add ! to override)[2;1H[?12l[?25h[?25l[m[37;1HType  :quit<Enter>  to exit Vim[37;32H[K[2;1H[?12l[?25h
[?25l[?12l[?25h
[3;66H[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[37;1H[K[37;1H:[?12l[?25hquit![?25l[37;1H[K[37;1H[?1l>[?12l[?25h[?1049lAborting commit due to empty commit message.
bash-4.2$ git commit -m "10.3 step commit yuour[K[K[K[Kour changes using git commit"
[master 9c39082] 10.3 step commit your changes using git commit
 Committer: David J Jung <djj0013@tux059.eng.auburn.edu>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

After doing this, you may fix the identity used for this commit with:

    git commit --amend --reset-author

 1 file changed, 0 insertions(+), 0 deletions(-)
 create mode 100644 kern/main/hello.c
bash-4.2$ g[Kvim main.c
[?1049h[?1h=[2;1Hâ–½[6n[2;1H  [1;1H]11;?[1;37r[?12;25h[?12l[?25h[27m[m[H[2J[?25l[37;1H"main.c" 170L, 3645C[>c[1;1H[34m/*
 * Main.
 */[m

[35m#include [m[31m<types.h>[m
[35m#include [m[31m<kern/errno.h>[m
[35m#include [m[31m<kern/unistd.h>[m
[35m#include [m[31m<lib.h>[m
[35m#include [m[31m<machine/spl.h>[m
[35m#include [m[31m<test.h>[m
[35m#include [m[31m<synch.h>[m
[35m#include [m[31m<thread.h>[m
[35m#include [m[31m<scheduler.h>[m
[35m#include [m[31m<dev.h>[m
[35m#include [m[31m<vfs.h>[m
[35m#include [m[31m<vm.h>[m
[35m#include [m[31m<syscall.h>[m
[35m#include [m[31m<version.h>[m
[35m#include [m[31m<hello.h>[m [34m/* see ~/cs161/src/kern/include */

/* This is a comment with my name David Jung */

/*
 * These two pieces of data are maintained by the makefiles and build system.
 * buildconfig is the name of the config file the kernel was configured with.
 * buildversion starts at 1 and is incremented every time you link a kernel. 
 *
 * The purpose is not to show off how many kernels you've linked, but
 * to make it easy to make sure that the kernel you just booted is the
 * same one you just built.
 */[m
[32mextern[m [32mconst[m [32mint[m buildversion;
[32mextern[m [32mconst[m [32mchar[m buildconfig[];

[34m/*
 * Copyright message for the OS/161 base code.[m[37;84H21,1[10CTop[21;1H[?12l[?25h[27m[m[H[2J[?25l[1;1H[96m/*
 * Main.
 */[m

[38;5;81m#include [m[95m<types.h>[m
[38;5;81m#include [m[95m<kern/errno.h>[m
[38;5;81m#include [m[95m<kern/unistd.h>[m
[38;5;81m#include [m[95m<lib.h>[m
[38;5;81m#include [m[95m<machine/spl.h>[m
[38;5;81m#include [m[95m<test.h>[m
[38;5;81m#include [m[95m<synch.h>[m
[38;5;81m#include [m[95m<thread.h>[m
[38;5;81m#include [m[95m<scheduler.h>[m
[38;5;81m#include [m[95m<dev.h>[m
[38;5;81m#include [m[95m<vfs.h>[m
[38;5;81m#include [m[95m<vm.h>[m
[38;5;81m#include [m[95m<syscall.h>[m
[38;5;81m#include [m[95m<version.h>[m
[38;5;81m#include [m[95m<hello.h>[m [96m/* see ~/cs161/src/kern/include */

/* This is a comment with my name David Jung */

/*
 * These two pieces of data are maintained by the makefiles and build system.
 * buildconfig is the name of the config file the kernel was configured with.
 * buildversion starts at 1 and is incremented every time you link a kernel. 
 *
 * The purpose is not to show off how many kernels you've linked, but
 * to make it easy to make sure that the kernel you just booted is the
 * same one you just built.
 */[m
[38;5;121mextern[m [38;5;121mconst[m [38;5;121mint[m buildversion;
[38;5;121mextern[m [38;5;121mconst[m [38;5;121mchar[m buildconfig[];

[96m/*
 * Copyright message for the OS/161 base code.[m[37;84H21,1[10CTop"main.c" 170L, 3645C[21;1H[?12l[?25h[?25l[37;85H2,0-1[22;1H[?12l[?25h[?25l[37;85H3,1  [23;1H[?12l[?25h[?25l[37;85H4[24;1H[?12l[?25h[?25l[37;85H5[25;1H[?12l[?25h[?25l[37;85H6[26;1H[?12l[?25h[?25l[37;85H7[27;1H[?12l[?25h[?25l[37;85H8[28;1H[?12l[?25h[?25l[37;85H9[29;1H[?12l[?25h[?25l[37;84H30[30;1H[?12l[?25h[?25l[37;85H1[31;1H[?12l[?25h[?25l[37;85H2[32;1H[?12l[?25h[?25l[37;85H3[33;1H[?12l[?25h[?25l[37;85H4,0-1[34;1H[?12l[?25h[?25l[37;85H5,1  [35;1H[?12l[?25h[?25l[37;85H6[36;1H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H[96m */[m[37;1H[K[37;84H37,1[11C0%[36;1H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H[38;5;121mstatic[m [38;5;121mconst[m [38;5;121mchar[m harvard_copyright[] =[37;84H[K[37;84H38,1[11C1%[36;1H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;5H[95m"Copyright (c) 2000, 2001, 2002, 2003[m[38;5;224m\n[m[95m"[m[37;84H[K[37;84H39,1[11C2%[36;1H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;5H[95m"   President and Fellows of Harvard College.  All rights reserved.[m[38;5;224m\n[m[95m"[m;[37;84H[K[37;84H40,1[11C2%[36;1H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[37;84H[K[37;84H41,0-1[9C3%[36;1H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[37;84H[K[37;84H42,0-1[9C4%[36;1H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H[96m/*[m[37;84H[K[37;84H43,1[11C5%[36;1H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H[96m * Initial boot sequence.[m[37;84H[K[37;84H44,1[11C5%[36;1H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H[96m */[m[37;84H[K[37;84H45,1[11C6%[36;1H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H[38;5;121mstatic[m[37;84H[K[37;84H46,1[11C7%[36;1H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H[38;5;121mvoid[m[37;84H[K[37;84H47,1[11C8%[36;1H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1Hboot([38;5;121mvoid[m)[37;84H[K[37;84H48,1[11C8%[36;1H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H{[37;84H[K[37;84H49,1[11C9%[36;1H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;9H[96m/*[m[37;84H[K[37;84H50,1-8[8C10%[36;8H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H[96m         * The order of these is important![m[37;84H[K[37;84H51,1-8[8C11%[36;8H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H[96m         * Don't go changing it without thinking about the consequences.[m[37;84H[K[37;84H52,1-8[8C11%[36;8H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H[96m         *[m[37;84H[K[37;84H53,1-8[8C12%[36;8H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H[96m         * Among other things, be aware that console output gets[m[37;84H[K[37;84H54,1-8[8C13%[36;8H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H[96m         * buffered up at first and does not actually appear until[m[37;84H[K[37;84H55,1-8[8C14%[36;8H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H[96m         * dev_bootstrap() attaches the console device. This can be[m[37;84H[K[37;84H56,1-8[8C14%[36;8H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H[96m         * remarkably confusing if a bug occurs at this point. So[m[37;84H[K[37;84H57,1-8[8C15%[36;8H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H[96m         * don't put new code before dev_bootstrap if you don't[m[37;84H[K[37;84H58,1-8[8C16%[36;8H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H[96m         * absolutely have to.[m[37;84H[K[37;84H59,1-8[8C17%[36;8H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H[96m         *[m[37;84H[K[37;84H60,1-8[8C17%[36;8H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H[96m         * Also note that the buffer for this is only 1k. If you[m[37;84H[K[37;84H61,1-8[8C18%[36;8H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H[96m         * overflow it, the system will crash without printing[m[37;84H[K[37;84H62,1-8[8C19%[36;8H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H[96m         * anything at all. You can make it larger though (it's in[m[37;84H[K[37;84H63,1-8[8C20%[36;8H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H[96m         * dev/generic/console.c).[m[37;84H[K[37;84H64,1-8[8C20%[36;8H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H[96m         */[m[37;84H[K[37;84H65,1-8[8C21%[36;8H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[37;84H[K[37;84H66,0-1[8C22%[36;1H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;9Hkprintf([95m"[m[38;5;224m\n[m[95m"[m);[37;84H[K[37;84H67,1-8[8C23%[36;8H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;9Hkprintf([95m"OS/161 base system version [m[38;5;224m%s\n[m[95m"[m, BASE_VERSION);[37;84H[K[37;84H68,1-8[8C23%[36;8H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;9Hkprintf([95m"[m[38;5;224m%s[m[95m"[m, harvard_copyright);[37;84H[K[37;84H69,1-8[8C24%[36;8H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;9Hkprintf([95m"[m[38;5;224m\n[m[95m"[m);[37;84H[K[37;84H70,1-8[8C25%[36;8H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[37;84H[K[37;84H71,0-1[8C26%[36;1H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;9Hkprintf([95m"Put-your-group-name-here's system version [m[38;5;224m%s[m[95m ([m[38;5;224m%s[m[95m #[m[38;5;224m%d[m[95m)[m[38;5;224m\n[m[95m"[m,[37;84H[K[37;84H72,1-8[8C26%[36;8H[?12l[?25h[?25l[37;84H[K[37;1H:[?12l[?25hn[?25l[?12l[?25hu[?25l[?12l[?25hm[?25l[?12l[?25h[?25l[37;4H[K[37;4H[?12l[?25h[?25l[37;3H[K[37;3H[?12l[?25h[?25l[37;2H[K[37;2H[?12l[?25hs[?25l[?12l[?25he[?25l[?12l[?25ht[?25l[?12l[?25h[?25l [?12l[?25hn[?25l[?12l[?25hu[?25l[?12l[?25hm[?25l[?12l[?25hbe[?25l[?12l[?25hr[?25l[?12l[?25h[?25l[1;1H[93m 37 [m[96m */[m
[93m 38 [m[38;5;121mstatic[m [38;5;121mconst[m [38;5;121mchar[m harvard_copyright[] =
[93m 39 [m    [95m"Copyright (c) 2000, 2001, 2002, 2003[m[38;5;224m\n[m[95m"[m
[93m 40 [m    [95m"   President and Fellows of Harvard College.  All rights reserved.[m[38;5;224m\n[m[95m"[m;
[93m 41 
 42 
 43 [m[96m/*[m
[93m 44 [m[96m * Initial boot sequence.[m
[93m 45 [m[96m */[m
[93m 46 [m[38;5;121mstatic[m
[93m 47 [m[38;5;121mvoid[m
[93m 48 [mboot([38;5;121mvoid[m)
[93m 49 [m{
[93m 50 [m        [96m/*[m
[93m 51 [m[5C[96m    * The order of these is important![m
[93m 52 [m[5C[96m    * Don't go changing it without thinking about the consequences.[m
[93m 53 [m[5C[96m    *[m
[93m 54 [m[5C[96m    * Among other things, be aware that console output gets[m
[93m 55 [m[5C[96m    * buffered up at first and does not actually appear until[m
[93m 56 [m[5C[96m    * dev_bootstrap() attaches the console device. This can be[m
[93m 57 [m[5C[96m    * remarkably confusing if a bug occurs at this point. So[m
[93m 58 [m[5C[96m    * don't put new code before dev_bootstrap if you don't[m
[93m 59 [m[5C[96m    * absolutely have to.[m
[93m 60 [m[5C[96m    *[m
[93m 61 [m[5C[96m    * Also note that the buffer for this is only 1k. If you[m
[93m 62 [m[5C[96m    * overflow it, the system will crash without printing[m
[93m 63 [m[5C[96m    * anything at all. You can make it larger though (it's in[m
[93m 64 [m[5C[96m    * dev/generic/console.c).[m
[93m 65 [m[5C[96m    */[m
[93m 66 
 67 [m        kprintf([95m"[m[38;5;224m\n[m[95m"[m);
[93m 68 [m        kprintf([95m"OS/161 base system version [m[38;5;224m%s\n[m[95m"[m, BASE_VERSION);
[93m 69 [m        kprintf([95m"[m[38;5;224m%s[m[95m"[m, harvard_copyright);
[93m 70 [m        kprintf([95m"[m[38;5;224m\n[m[95m"[m);
[93m 71 
 72 [m        kprintf([95m"Put-your-group-name-here's system version [3C([m[1C[38;5;224ms[m[95m #[m[38;5;224m%d[m[95m)[m[38;5;224m\n[m[95m"[m,[37;84H72,1-8[8C26%[36;12H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H[93m 73 [m[16CGROUP_VERSION, buildconfig, buildversion);[37;1H[K[37;84H73,1-8[8C27%[36;12H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H[93m 74 [m[8Ckprintf([95m"[m[38;5;224m\n[m[95m"[m);[37;84H[K[37;84H74,1-8[8C28%[36;12H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H[93m 75 [m[8Chello();[37;84H[K[37;84H75,1-8[8C29%[36;12H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H[93m 76 [m[8Cram_bootstrap();[37;84H[K[37;84H76,1-8[8C29%[36;12H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H[93m 77 [m[8Cscheduler_bootstrap();[37;84H[K[37;84H77,1-8[8C30%[36;12H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H[93m 78 [m[8Cthread_bootstrap();[37;84H[K[37;84H78,1-8[8C31%[36;12H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H[93m 79 [m[8Cvfs_bootstrap();[37;84H[K[37;84H79,1-8[8C32%[36;12H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H[93m 80 [m[8Cdev_bootstrap();[37;84H[K[37;84H80,1-8[8C32%[36;12H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H[93m 81 [m[8Cvm_bootstrap();[37;84H[K[37;84H81,1-8[8C33%[36;12H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H[93m 82 [m[8Ckprintf_bootstrap();[37;84H[K[37;84H82,1-8[8C34%[36;12H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H[93m 83 [m[37;84H[K[37;84H83,0-1[8C35%[36;5H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H[93m 84 [m[8C[96m/* Default bootfs - but ignore failure, in case emu0 doesn't exist */[m[37;84H[K[37;84H84,1-8[8C35%[36;12H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H[93m 85 [m[8Cvfs_setbootfs([95m"emu0"[m);[37;84H[K[37;84H85,1-8[8C36%[36;12H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H[93m 86 [m[37;84H[K[37;84H86,0-1[8C37%[36;5H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H[93m 87 [m[37;84H[K[37;84H87,0-1[8C38%[36;5H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H[93m 88 [m[8C[96m/*[m[37;84H[K[37;84H88,1-8[8C38%[36;12H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H[93m 89 [m[96m         * Make sure various things aren't screwed up.[m[37;84H[K[37;84H89,1-8[8C39%[36;12H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H[93m 90 [m[96m         */[m[37;84H[K[37;84H90,1-8[8C40%[36;12H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H[93m 91 [m[8Cassert([93msizeof[m(userptr_t)==[93msizeof[m([38;5;121mchar[m *));[37;84H[K[37;84H91,1-8[8C41%[36;12H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H[93m 92 [m[8Cassert([93msizeof[m(*(userptr_t)[95m0[m)==[93msizeof[m([38;5;121mchar[m));[37;84H[K[37;84H92,1-8[8C41%[36;12H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H[93m 93 [m}[37;84H[K[37;84H93,1[10C42%[36;5H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H[93m 94 [m[37;84H[K[37;84H94,0-1[8C43%[36;5H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H[93m 95 [m[96m/*[m[37;84H[K[37;84H95,2[10C44%[36;6H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H[93m 96 [m[96m * Shutdown sequence. Opposite to boot().[m[37;84H[K[37;84H96,8[10C44%[36;12H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H[93m 97 [m[96m */[m[37;84H[K[37;84H97,3[10C45%[36;7H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H[93m 98 [m[38;5;121mstatic[m[37;84H[K[37;84H98,6[10C46%[36;10H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H[93m 99 [m[38;5;121mvoid[m[37;84H[K[37;84H99,4[10C47%[36;8H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H[93m100 [mshutdown([38;5;121mvoid[m)[37;84H[K[37;84H100,8[9C47%[36;12H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H[93m101 [m{[37;84H[K[37;84H101,1[9C48%[36;5H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H[93m102 [m[37;84H[K[37;84H102,0-1[7C49%[36;5H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H[93m103 [m[8Ckprintf([95m"Shutting down.[m[38;5;224m\n[m[95m"[m);[37;84H[K[37;84H103,1-8[7C50%[36;12H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H[93m104 [m[37;84H[K[37;84H104,1-8[7C50%[36;12H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H[93m105 [m[8Cvfs_clearbootfs();[37;84H[K[37;84H105,1-8[7C51%[36;12H[?12l[?25h[?25l[37;86H4[35;12H[?12l[?25h[?25l[37;86H3[34;12H[?12l[?25h[?25l[37;86H2,0-1[33;5H[?12l[?25h[?25l[37;86H1,1  [32;5H[?12l[?25h[?25l[37;86H0,8[31;12H[?12l[?25h[?25l[37;84H99,4 [30;8H[?12l[?25h[?25l[37;85H8,6[29;10H[?12l[?25h[?25l[37;85H7,3[28;7H[?12l[?25h[?25l[37;85H8,6[29;10H[?12l[?25h[?25l[37;85H9,4[30;8H[?12l[?25h[?25l[37;84H100,8[31;12H[?12l[?25h[?25l[37;86H1,1[32;5H[?12l[?25h[?25l[37;86H0,8[31;12H[?12l[?25h[?25l[37;88H7[31;11H[?12l[?25h[?25l[37;88H8[31;12H[?12l[?25h[?25ln[46m([4C)[m[37;88H9[31;13H[?12l[?25h[?25l([4C)[37;88H10[31;14H[?12l[?25h[?25l[37;89H1[31;15H[?12l[?25h[?25l[37;89H2[31;16H[?12l[?25h[?25l[37;1H[1m-- INSERT --[m[37;84H[K[37;84H100,12[8C51%[31;16H[?12l[?25h[?25lvid)[31;18H[K[37;89H1[31;15H[?12l[?25h[?25lid)[31;17H[K[31;13H[46m([mid[46m)[m[37;89H0[31;14H[?12l[?25h[?25l(id)[37;89H1[31;15H[?12l[?25h[?25l[46m([mid[46m)[m[37;89H2[31;16H[?12l[?25h[?25l[37;89H3[31;17H[?12l[?25h[?25l[31;16H[K[32;5H[97m[101m{[m[31;13H([37;89H2[31;16H[?12l[?25h[?25l[31;15H[K[37;89H1[31;15H[?12l[?25h[?25l[31;14H[K[37;89H0[31;14H[?12l[?25h[?25l[31;13H[K[32;5H{[37;88H9 [31;13H[?12l[?25h[?25l[31;12H[K[37;88H8[31;12H[?12l[?25h[?25l[31;11H[K[37;88H7[31;11H[?12l[?25h[?25l[31;10H[K[37;88H6[31;10H[?12l[?25h[?25l[31;9H[K[37;88H5[31;9H[?12l[?25h[?25l[31;7H[K[37;88H3[31;7H[?12l[?25h[?25l[31;6H[K[37;88H2[31;6H[?12l[?25h[?25l[31;5H[K[37;88H1[31;5H[?12l[?25h[?25l{[32;5H[K[33;13Hkprintf([95m"Shutting down.[m[38;5;224m\n[m[95m"[m);[34;13H[K[35;13Hvfs_clearbootfs();[36;22Hcurdir[37;84H99,5 [30;9H[?12l[?25h[?25lvoi[30;8H[K[37;87H4[30;8H[?12l[?25h[?25l[30;7H[K[37;87H3[30;7H[?12l[?25h[?25l[30;6H[K[37;87H2[30;6H[?12l[?25h[?25l[30;5H[K[37;87H1[30;5H[?12l[?25h[?25l{[31;5H[K[32;13Hkprintf([95m"Shutting down.[m[38;5;224m\n[m[95m"[m);[33;13H[K[34;13Hvfs_clearbootfs();[35;22Hcurdir[36;17Hunmountall();[36;30H[K[37;85H8,7[11C2[29;11H[?12l[?25h[?25l[29;5Hstati[29;10H[K[37;87H6[29;10H[?12l[?25h[?25l[29;9H[K[37;87H5[29;9H[?12l[?25h[?25l[29;8H[K[37;87H4[29;8H[?12l[?25h[?25l[29;6H[K[37;87H2[29;6H[?12l[?25h[?25l[29;5H[K[37;87H1[29;5H[?12l[?25h[?25l{[30;5H[K[31;13Hkprintf([95m"Shutting down.[m[38;5;224m\n[m[95m"[m);[32;13H[K[33;13Hvfs_clearbootfs();[34;22Hcurdir[35;17Hunmountall();[35;30H[K[36;13H[K[37;85H7,4[28;8H[?12l[?25h[?25l[28;7H[K[29;5H[96m{[31;5H        kprintf("Shutting down.\n");[32;5H        [33;5H        vfs_clearbootfs();[34;5H        vfs_clearcurdir();[35;5H        vfs_unmountall();[m[37;87H3[28;7H[?12l[?25h[?25l[28;6H[K[37;87H2[28;6H[?12l[?25h[?25l[28;5H[K[37;87H1[28;5H[?12l[?25h[?25l[96m{[m[29;5H[K[30;5H[96m        kprintf("Shutting down.\n");[m[31;13H[K[32;13H[96mvfs_clearbootfs();[33;22Hcurdir[34;17Hunmountall();[m[34;30H[K[35;5H[K[36;5H[96m        splhigh();[m[37;85H6,42[10C3[27;46H[?12l[?25h[?25l[27;45H[K[27;43H[96m[46m()[m[37;88H1[27;45H[?12l[?25h[?25l[27;44H[K[27;43H[96m([m[37;88H0[27;44H[?12l[?25h[?25l[27;43H[K[37;87H39[27;43H[?12l[?25h[?25l[27;42H[K[37;88H8[27;42H[?12l[?25h[?25l[27;40H[K[37;88H6[27;40H[?12l[?25h[?25l[27;39H[K[37;88H5[27;39H[?12l[?25h[?25l[27;38H[K[37;88H4[27;38H[?12l[?25h[?25l[27;37H[K[37;88H3[27;37H[?12l[?25h[?25l[27;36H[K[37;88H2[27;36H[?12l[?25h[?25l[27;35H[K[37;88H1[27;35H[?12l[?25h[?25l[27;34H[K[37;88H0[27;34H[?12l[?25h[?25l[27;33H[K[37;87H29[27;33H[?12l[?25h[?25l[27;32H[K[37;88H8[27;32H[?12l[?25h[?25l[27;31H[K[37;88H7[27;31H[?12l[?25h[?25l[27;30H[K[37;88H6[27;30H[?12l[?25h[?25l[27;29H[K[37;88H5[27;29H[?12l[?25h[?25l[27;27H[K[37;88H3[27;27H[?12l[?25h[?25l[27;26H[K[37;88H2[27;26H[?12l[?25h[?25l[27;25H[K[37;88H1[27;25H[?12l[?25h[?25l[27;24H[K[37;88H0[27;24H[?12l[?25h[?25l[27;23H[K[37;87H19[27;23H[?12l[?25h[?25l[27;22H[K[37;88H8[27;22H[?12l[?25h[?25l[27;21H[K[37;88H7[27;21H[?12l[?25h[?25l[27;20H[K[37;88H6[27;20H[?12l[?25h[?25l[27;19H[K[37;88H5[27;19H[?12l[?25h[?25l[27;18H[K[37;88H4[27;18H[?12l[?25h[?25l[27;17H[K[37;88H3[27;17H[?12l[?25h[?25l[27;15H[K[37;88H1[27;15H[?12l[?25h[?25l[27;14H[K[37;88H0[27;14H[?12l[?25h[?25l[27;13H[K[37;87H9 [27;13H[?12l[?25h[?25l[27;12H[K[37;87H8[27;12H[?12l[?25h[?25l[27;11H[K[37;87H7[27;11H[?12l[?25h[?25l[27;10H[K[37;87H6[27;10H[?12l[?25h[?25l[27;9H[K[37;87H5[27;9H[?12l[?25h[?25l[27;8H[K[37;87H4[27;8H[?12l[?25h[?25l[27;7H[K[37;87H3[27;7H[?12l[?25h[?25l[27;6H[K[37;87H2[27;6H[?12l[?25h[?25l[27;5H[K[37;87H1[27;5H[?12l[?25h[?25l[96m{[m[28;5H[K[29;5H[96m        kprintf("Shutting down.\n");[m[30;13H[K[31;13H[96mvfs_clearbootfs();[32;22Hcurdir[33;17Hunmountall();[m[33;30H[K[34;5H[K[35;5H[96m        splhigh();[m[36;5H[K[37;85H5,3[26;7H[?12l[?25h[?25l/[26;6H[K[27;5H{[29;5H        kprintf([95m"Shutting down.[m[38;5;224m\n[m[95m"[m);[30;5H        [31;5H        vfs_clearbootfs();[32;5H        vfs_clearcurdir();[33;5H        vfs_unmountall();[35;5H        splhigh();[37;87H2[26;6H[?12l[?25h[?25l[26;5H[K[37;87H1[26;5H[?12l[?25h[?25l{[27;5H[K[28;13Hkprintf([95m"Shutting down.[m[38;5;224m\n[m[95m"[m);[29;13H[K[30;13Hvfs_clearbootfs();[31;22Hcurdir[32;17Hunmountall();[32;30H[K[33;13H[K[34;13Hsplhigh();[35;13H[K[36;13Hscheduler_shutdown();[37;85H4[25;5H[?12l[?25h[?25l{[26;5H[K[27;13Hkprintf([95m"Shutting down.[m[38;5;224m\n[m[95m"[m);[28;13H[K[29;13Hvfs_clearbootfs();[30;22Hcurdir[31;17Hunmountall();[31;30H[K[32;13H[K[33;13Hsplhigh();[34;13H[K[35;13Hscheduler_shutdown();[36;13Hthread_shutdown();[36;31H[K[37;85H3,2[11C4[24;6H[?12l[?25h[?25l[24;5H[K[37;87H1[24;5H[?12l[?25h[?25l{[25;5H[K[26;13Hkprintf([95m"Shutting down.[m[38;5;224m\n[m[95m"[m);[27;13H[K[28;13Hvfs_clearbootfs();[29;22Hcurdir[30;17Hunmountall();[30;30H[K[31;13H[K[32;13Hsplhigh();[33;13H[K[34;13Hscheduler_shutdown();[35;13Hthread_shutdown();[35;31H[K[36;5H}[36;13H[K[37;85H2,46-53[23;57H[?12l[?25h[?25l[23;56H[K[23;19H[46m([35C)[m[37;88H5-52[23;56H[?12l[?25h[?25l[23;55H[K[24;5H[97m[101m{[36;5H}[m[23;19H([29C[46m([4C)[m[37;88H4-51[23;55H[?12l[?25h[?25l[23;54H[K[23;49H([37;88H3-50[23;54H[?12l[?25h[?25lcha[23;53H[K[37;88H2-49[23;53H[?12l[?25h[?25l[23;52H[K[37;88H1-48[23;52H[?12l[?25h[?25l[23;51H[K[37;88H0-47[23;51H[?12l[?25h[?25l[23;50H[K[37;87H39-46[23;50H[?12l[?25h[?25l[23;49H[K[37;88H8-45[23;49H[?12l[?25h[?25lsizeo[23;48H[K[37;88H7-44[23;48H[?12l[?25h[?25l[23;47H[K[37;88H6-43[23;47H[?12l[?25h[?25l[23;46H[K[37;88H5-42[23;46H[?12l[?25h[?25l[23;45H[K[37;88H4-41[23;45H[?12l[?25h[?25l[23;44H[K[37;88H3-40[23;44H[?12l[?25h[?25l[23;43H[K[37;88H2-39[23;43H[?12l[?25h[?25l[23;42H[K[37;88H1-38[23;42H[?12l[?25h[?25l[23;41H[K[23;26H[46m([13C)[m[37;88H0-37[23;41H[?12l[?25h[?25l[23;40H[K[23;26H([37;87H29-36[23;40H[?12l[?25h[?25l[23;39H[K[23;28H[46m([9C)[m[37;88H8-35[23;39H[?12l[?25h[?25l[23;38H[K[23;28H([37;88H7-34[23;38H[?12l[?25h[?25l[23;37H[K[37;88H6-33[23;37H[?12l[?25h[?25l[23;36H[K[37;88H5-32[23;36H[?12l[?25h[?25l[23;35H[K[37;88H4-31[23;35H[?12l[?25h[?25l[23;34H[K[37;88H3-30[23;34H[?12l[?25h[?25l[23;33H[K[37;88H2-29[23;33H[?12l[?25h[?25l[23;32H[K[37;88H1-28[23;32H[?12l[?25h[?25l[23;31H[K[37;88H0-27[23;31H[?12l[?25h[?25l[23;30H[K[37;87H19-26[23;30H[?12l[?25h[?25l[23;29H[K[37;88H8-25[23;29H[?12l[?25h[?25l[23;28H[K[37;88H7-24[23;28H[?12l[?25h[?25l[23;27H[K[37;88H6-23[23;27H[?12l[?25h[?25l[23;26H[K[37;88H5-22[23;26H[?12l[?25h[?25lsizeo[23;25H[K[37;88H4-21[23;25H[?12l[?25h[?25l[23;24H[K[37;88H3-20[23;24H[?12l[?25h[?25l[23;23H[K[37;88H2-19[23;23H[?12l[?25h[?25l[23;22H[K[37;88H1-18[23;22H[?12l[?25h[?25l[23;21H[K[37;88H0-17[23;21H[?12l[?25h[?25l[23;20H[K[37;87H9-16 [23;20H[?12l[?25h[?25l[23;19H[K[24;5H{[36;5H}[37;87H8-15[23;19H[?12l[?25h[?25l[23;18H[K[37;87H7-14[23;18H[?12l[?25h[?25l[23;17H[K[37;87H6-13[23;17H[?12l[?25h[?25l[23;16H[K[37;87H5-12[23;16H[?12l[?25h[?25l[23;15H[K[37;87H4-11[23;15H[?12l[?25h[?25l[23;14H[K[37;87H3-10[23;14H[?12l[?25h[?25l[23;13H[K[37;87H2-9 [23;13H[?12l[?25h[?25l[37;87H1  [23;5H[?12l[?25h[?25l{[24;5H[K[25;13Hkprintf([95m"Shutting down.[m[38;5;224m\n[m[95m"[m);[26;13H[K[27;13Hvfs_clearbootfs();[28;22Hcurdir[29;17Hunmountall();[29;30H[K[30;13H[K[31;13Hsplhigh();[32;13H[K[33;13Hscheduler_shutdown();[34;13Hthread_shutdown();[34;31H[K[35;5H}[35;13H[K[36;5H[K[37;85H1,44-51[7C5[22;55H[?12l[?25h[?25l[22;54H[K[22;19H[46m([33C)[m[37;88H3-50[22;54H[?12l[?25h[?25l[22;53H[K[23;5H[97m[101m{[35;5H}[m[22;19H([25C[46m([6C)[m[37;88H2-49[22;53H[?12l[?25h[?25l[22;52H[K[22;45H([37;88H1-48[22;52H[?12l[?25h[?25l[22;51H[K[37;88H0-47[22;51H[?12l[?25h[?25l[37;87H39-46[22;50H[?12l[?25h[?25lcha[22;49H[K[37;88H8-45[22;49H[?12l[?25h[?25l[22;48H[K[37;88H7-44[22;48H[?12l[?25h[?25l[22;47H[K[37;88H6-43[22;47H[?12l[?25h[?25l[22;46H[K[37;88H5-42[22;46H[?12l[?25h[?25l[22;45H[K[37;88H4-41[22;45H[?12l[?25h[?25lsizeo[22;44H[K[37;88H3-40[22;44H[?12l[?25h[?25l[22;43H[K[37;88H2-39[22;43H[?12l[?25h[?25l[22;42H[K[37;88H1-38[22;42H[?12l[?25h[?25l[22;41H[K[37;88H0-37[22;41H[?12l[?25h[?25l[22;40H[K[37;87H29-36[22;40H[?12l[?25h[?25l[22;39H[K[37;88H8-35[22;39H[?12l[?25h[?25l[22;38H[K[37;88H7-34[22;38H[?12l[?25h[?25l[22;37H[K[22;26H[46m([9C)[m[37;88H6-33[22;37H[?12l[?25h[?25l[22;36H[K[22;26H([37;88H5-32[22;36H[?12l[?25h[?25l[22;35H[K[37;88H4-31[22;35H[?12l[?25h[?25l[22;34H[K[37;88H3-30[22;34H[?12l[?25h[?25l[22;33H[K[37;88H2-29[22;33H[?12l[?25h[?25l[22;32H[K[37;88H1-28[22;32H[?12l[?25h[?25l[22;31H[K[37;88H0-27[22;31H[?12l[?25h[?25l[22;30H[K[37;87H19-26[22;30H[?12l[?25h[?25l[22;29H[K[37;88H8-25[22;29H[?12l[?25h[?25l[22;28H[K[37;88H7-24[22;28H[?12l[?25h[?25l[22;27H[K[37;88H6-23[22;27H[?12l[?25h[?25l[22;26H[K[37;88H5-22[22;26H[?12l[?25h[?25lsizeo[22;25H[K[37;88H4-21[22;25H[?12l[?25h[?25l[22;24H[K[37;88H3-20[22;24H[?12l[?25h[?25l[37;85H0,5-12 [21;16H[?12l[?25h[?25li[37;87H6-13[21;17H[?12l[?25h[?25l[21;16H[K[37;87H5-12[21;16H[?12l[?25h[?25l[37;1H[K[37;84H90,4-11[7C55%[21;15H[?12l[?25h[?25l[37;1H[1m-- VISUAL --[m[37;84H[K[37;84H90,4-11[7C55%[21;15H[?12l[?25h[?25l[96m[48;5;242m/[m[37;87H3-10[21;14H[?12l[?25h[?25l[96m[48;5;242m*[m[37;87H2-9 [21;13H[?12l[?25h[?25l[21;6H[48;5;242m       [m[96m[48;5;242m [m[37;87H1  [21;5H[?12l[?25h[?25l[96m[48;5;242m [m[37;84H89,48-55[20;59H[?12l[?25h[?25l[48;5;242m [m[37;88H7-54[20;58H[?12l[?25h[?25l[96m[48;5;242m.[m[37;88H6-53[20;57H[?12l[?25h[?25l[96m[48;5;242mp[m[37;88H5-52[20;56H[?12l[?25h[?25l[96m[48;5;242mu[m[37;88H4-51[20;55H[?12l[?25h[?25l[96m[48;5;242m [m[37;88H3-50[20;54H[?12l[?25h[?25l[96m[48;5;242md[m[37;88H2-49[20;53H[?12l[?25h[?25l[96m[48;5;242me[m[37;88H1-48[20;52H[?12l[?25h[?25l[96m[48;5;242mw[m[37;88H0-47[20;51H[?12l[?25h[?25l[96m[48;5;242me[m[37;87H39-46[20;50H[?12l[?25h[?25l[96m[48;5;242mr[m[37;88H8-45[20;49H[?12l[?25h[?25l[20;5H[96m[48;5;242m [m[48;5;242m       [m[96m[48;5;242m * Make sure various things aren't sc[m[37;85H8,4-11 [19;15H[?12l[?25h[?25l[19;5H[48;5;242m        [m[96m[48;5;242m/*[m[48;5;242m [m[37;85H7,0-1 [18;5H[?12l[?25h[?25l[48;5;242m [m[37;85H6[17;5H[?12l[?25h[?25l[48;5;242m [m[37;85H5,24-31[16;35H[?12l[?25h[?25l[15;50H[96m[48;5;242me, in case emu0 doesn't exist */[m[48;5;242m [16;5H        vfs_setbootfs([m[95m[48;5;242m"emu0"[m[48;5;242m); [m[37;85H4,38-45[15;49H[?12l[?25h[?25l[15;5H[48;5;242m        [m[96m[48;5;242m/* Default bootfs - but ignore failur[m[37;85H3,0-1  [14;5H[?12l[?25h[?25l[48;5;242m [m[37;85H2,22-29[13;33H[?12l[?25h[?25l[13;5H[48;5;242m        kprintf_bootstrap(); [m[37;85H1,17-24[12;28H[?12l[?25h[?25l[12;5H[48;5;242m        vm_bootstrap(); [m[37;85H0,18-25[11;29H[?12l[?25h[?25l[11;5H[48;5;242m        dev_bootstrap(); [m[37;84H79[10;29H[?12l[?25h[?25l[10;5H[48;5;242m        vfs_bootstrap(); [m[37;85H8,21-28[9;32H[?12l[?25h[?25l[9;5H[48;5;242m        thread_bootstrap(); [m[37;85H7,24-31[8;35H[?12l[?25h[?25l[8;5H[48;5;242m        scheduler_bootstrap(); [m[37;85H6,18-25[7;29H[?12l[?25h[?25l[7;5H[48;5;242m        ram_bootstrap(); [m[37;85H5,10-17[6;21H[?12l[?25h[?25l[6;5H[48;5;242m        hello(); [m[37;85H4,16-23[5;27H[?12l[?25h[?25l[4;50H[48;5;242muildversion); [5;5H        kprintf([m[95m[48;5;242m"[m[38;5;224m[48;5;242m\n[m[95m[48;5;242m"[m[48;5;242m); [m[37;85H3,31-45[4;49H[?12l[?25h[?25l[3;50H[95m[48;5;242mystem version [m[38;5;224m[48;5;242m%s[m[95m[48;5;242m ([m[38;5;224m[48;5;242m%s[m[95m[48;5;242m #[m[38;5;224m[48;5;242m%d[m[95m[48;5;242m)[m[38;5;224m[48;5;242m\n[m[95m[48;5;242m"[m[48;5;242m,  [4;5H                GROUP_VERSION, buildconfig, b[m[37;85H2,38[3;49H[?12l[?25h[?25l[3;5H[48;5;242m        kprintf([m[95m[48;5;242m"Put-your-group-name-here's s[m[37;85H1,0-1  [2;5H[?12l[?25h[?25l[48;5;242m [m[37;85H0,16-23[1;27H[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;1H[93m 69 [m[8Ckprintf([95m"[m[38;5;224m%s[m[95m"[m, harvard_copyright);[2;5H[48;5;242m        kprintf([m[95m[48;5;242m"[m[38;5;224m[48;5;242m\n[m[95m[48;5;242m"[m[48;5;242m); [m[37;84H[K[37;84H69,35-42      54%[1;46H[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;1H[93m 68 [m[8Ckprintf([95m"OS/161 base system version [m[38;5;224m%[m[38;5;224m[48;5;242ms\n[m[95m[48;5;242m"[m[48;5;242m, BASE_VERSION); [2;5H        kprintf([m[95m[48;5;242m"[m[38;5;224m[48;5;242m%s[m[95m[48;5;242m"[m[48;5;242m, harvard_copyright); [m[37;84H[K[37;84H68,38-45      53%[1;49H[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;1H[93m 67 [m[8Ckprintf([95m"[m[38;5;224m\n[m[95m"[m);[2;5H[48;5;242m        kprintf([m[95m[48;5;242m"OS/161 base system version [m[38;5;224m[48;5;242m%[m[37;84H[K[37;84H67,16-23      52%[1;27H[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;1H[93m 66 [m[2;5H[48;5;242m        kprintf([m[95m[48;5;242m"[m[38;5;224m[48;5;242m\n[m[95m[48;5;242m"[m[48;5;242m); [m[37;84H[K[37;84H66,0-1[8C52%[1;5H[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;1H[93m 65 [m[96m         */[m[2;5H[48;5;242m [m[37;84H[K[37;84H65,5-12[7C51%[1;16H[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;1H[93m 64 [m[96m         * dev/generic/console.c).[m[2;5H[96m[48;5;242m [m[48;5;242m       [m[96m[48;5;242m */[m[48;5;242m [m[37;84H[K[37;84H64,28-35      50%[1;39H[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;1H[93m 63 [m[96m         * anything at all. You can make it l[m[96m[48;5;242marger though (it's in[m[48;5;242m [m[2;5H[96m[48;5;242m [m[48;5;242m       [m[96m[48;5;242m * dev/generic/console.c).[m[48;5;242m [m[37;84H[K[37;84H63,38-45      49%[1;49H[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;1H[93m 62 [m[96m         * overflow it, the system will crash[m[96m[48;5;242m without printing[m[48;5;242m [m[2;5H[96m[48;5;242m [m[48;5;242m       [m[96m[48;5;242m * anything at all. You can make it l[m[37;84H[K[37;84H62,38-45      48%[1;49H[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;1H[93m 61 [m[96m         * Also note that the buffer for this[m[96m[48;5;242m is only 1k. If you[m[48;5;242m [m[2;5H[96m[48;5;242m [m[48;5;242m       [m[96m[48;5;242m * overflow it, the system will crash[m[37;84H[K[37;84H61,38-45      48%[1;49H[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;1H[93m 60 [m[96m         *[m[2;5H[96m[48;5;242m [m[48;5;242m       [m[96m[48;5;242m * Also note that the buffer for this[m[37;84H[K[37;84H60,4-11[7C47%[1;15H[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;1H[93m 59 [m[96m         * absolutely have to.[m[2;5H[96m[48;5;242m [m[48;5;242m       [m[96m[48;5;242m *[m[48;5;242m [m[37;84H[K[37;84H59,24-31      46%[1;35H[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;1H[93m 58 [m[96m         * don't put new code before dev_boot[m[96m[48;5;242mstrap if you don't[m[48;5;242m [m[2;5H[96m[48;5;242m [m[48;5;242m       [m[96m[48;5;242m * absolutely have to.[m[48;5;242m [m[37;84H[K[37;84H58,38-45      45%[1;49H[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;1H[93m 57 [m[96m         * remarkably confusing if a bug occu[m[96m[48;5;242mrs at this point. So[m[48;5;242m [m[2;5H[96m[48;5;242m [m[48;5;242m       [m[96m[48;5;242m * don't put new code before dev_boot[m[37;84H[K[37;84H57,38-45      44%[1;49H[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;1H[93m 56 [m[96m         * dev_bootstrap() attaches the conso[m[96m[48;5;242mle device. This can be[m[48;5;242m [m[2;5H[96m[48;5;242m [m[48;5;242m       [m[96m[48;5;242m * remarkably confusing if a bug occu[m[37;84H[K[37;84H56,38-45      44%[1;49H[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;1H[93m 55 [m[96m         * buffered up at first and does not [m[96m[48;5;242mactually appear until[m[48;5;242m [m[2;5H[96m[48;5;242m [m[48;5;242m       [m[96m[48;5;242m * dev_bootstrap() attaches the conso[m[37;84H[K[37;84H55,38-45      43%[1;49H[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;1H[93m 54 [m[96m         * Among other things, be aware that [m[96m[48;5;242mconsole output gets[m[48;5;242m [m[2;5H[96m[48;5;242m [m[48;5;242m       [m[96m[48;5;242m * buffered up at first and does not [m[37;84H[K[37;84H54,38-45      42%[1;49H[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;1H[93m 53 [m[96m         *[m[2;5H[96m[48;5;242m [m[48;5;242m       [m[96m[48;5;242m * Among other things, be aware that [m[37;84H[K[37;84H53,4-11[7C41%[1;15H[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;1H[93m 52 [m[96m         * Don't go changing it without think[m[96m[48;5;242ming about the consequences.[m[48;5;242m [m[2;5H[96m[48;5;242m [m[48;5;242m       [m[96m[48;5;242m *[m[48;5;242m [m[37;84H[K[37;84H52,38-45      40%[1;49H[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;1H[93m 51 [m[96m         * The order of these is important![m[2;5H[96m[48;5;242m [m[48;5;242m       [m[96m[48;5;242m * Don't go changing it without think[m[37;84H[K[37;84H51,37-44      40%[1;48H[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;1H[93m 50 [m[8C[96m/*[m[2;5H[96m[48;5;242m [m[48;5;242m       [m[96m[48;5;242m * The order of these is important![m[48;5;242m [m[37;84H[K[37;84H50,4-11[7C39%[1;15H[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;1H[93m 49 [m{[2;5H[48;5;242m        [m[96m[48;5;242m/*[m[48;5;242m [m[37;84H[K[37;84H49,2[10C38%[1;6H[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;1H[93m 48 [mboot([38;5;121mvoid[m)[2;5H[48;5;242m{ [m[37;84H[K[37;84H48,11[9C37%[1;15H[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;1H[93m 47 [m[38;5;121mvoid[m[2;5H[48;5;242mboot([m[38;5;121m[48;5;242mvoid[m[48;5;242m) [m[37;84H[K[37;84H47,5[10C36%[1;9H[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;1H[93m 46 [m[38;5;121mstatic[m[2;5H[38;5;121m[48;5;242mvoid[m[48;5;242m [m[37;84H[K[37;84H46,7[10C36%[1;11H[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;1H[93m 45 [m[96m */[m[2;5H[38;5;121m[48;5;242mstatic[m[48;5;242m [m[37;84H[K[37;84H45,4[10C35%[1;8H[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;1H[93m 44 [m[96m * Initial boot sequence.[m[2;5H[96m[48;5;242m */[m[48;5;242m [m[37;84H[K[37;84H44,26[9C34%[1;30H[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;1H[93m 43 [m[96m/*[m[2;5H[96m[48;5;242m * Initial boot sequence.[m[48;5;242m [m[37;84H[K[37;84H43,3[10C33%[1;7H[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;1H[93m 42 [m[2;5H[96m[48;5;242m/*[m[48;5;242m [m[37;84H[K[37;84H42,0-1[8C32%[1;5H[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;1H[93m 41 [m[2;5H[48;5;242m [m[37;84H[K[37;84H41,0-1[8C32%[1;5H[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;1H[93m 40 [m    [95m"   President and Fellows of Harvard Coll[m[95m[48;5;242mege.  All rights reserved.[m[38;5;224m[48;5;242m\n[m[95m[48;5;242m"[m[48;5;242m; [2;5H [m[37;84H[K[37;84H40,45[9C31%[1;49H[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;1H[93m 39 [m    [95m"Copyright (c) 2000, 2001, 2002, 2003[m[38;5;224m\n[m[95m"[m[2;5H[48;5;242m    [m[95m[48;5;242m"   President and Fellows of Harvard Coll[m[37;84H[K[37;84H39,45[9C30%[1;49H[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;1H[93m 38 [m[38;5;121mstatic[m [38;5;121mconst[m [38;5;121mchar[m harvard_copyright[] =[2;5H[48;5;242m    [m[95m[48;5;242m"Copyright (c) 2000, 2001, 2002, 2003[m[38;5;224m[48;5;242m\n[m[95m[48;5;242m"[m[48;5;242m [m[37;84H[K[37;84H38,40[9C29%[1;44H[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;1H[93m 37 [m[96m */[m[2;5H[38;5;121m[48;5;242mstatic[m[48;5;242m [m[38;5;121m[48;5;242mconst[m[48;5;242m [m[38;5;121m[48;5;242mchar[m[48;5;242m harvard_copyright[] = [m[37;84H[K[37;84H37,4[10C28%[1;8H[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;1H[93m 36 [m[96m * Copyright message for the OS/161 base code[m[96m[48;5;242m.[m[48;5;242m [m[2;5H[96m[48;5;242m */[m[48;5;242m [m[37;84H[K[37;84H36,45[9C28%[1;49H[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;1H[93m 35 [m[96m/*[m[2;5H[96m[48;5;242m * Copyright message for the OS/161 base code[m[37;84H[K[37;84H35,3[10C27%[1;7H[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;1H[93m 34 [m[2;5H[96m[48;5;242m/*[m[48;5;242m [m[37;84H[K[37;84H34,0-1[8C26%[1;5H[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;1H[93m 33 [m[38;5;121mextern[m [38;5;121mconst[m [38;5;121mchar[m buildconfig[];[2;5H[48;5;242m [m[37;84H[K[37;84H33,33[9C25%[1;37H[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;1H[93m 32 [m[38;5;121mextern[m [38;5;121mconst[m [38;5;121mint[m buildversion;[2;5H[38;5;121m[48;5;242mextern[m[48;5;242m [m[38;5;121m[48;5;242mconst[m[48;5;242m [m[38;5;121m[48;5;242mchar[m[48;5;242m buildconfig[]; [m[37;84H[K[37;84H32,31[9C24%[1;35H[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;1H[93m 31 [m[96m */[m[2;5H[38;5;121m[48;5;242mextern[m[48;5;242m [m[38;5;121m[48;5;242mconst[m[48;5;242m [m[38;5;121m[48;5;242mint[m[48;5;242m buildversion; [m[37;84H[K[37;84H31,4[10C24%[1;8H[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;1H[93m 30 [m[96m * same one you just built.[m[2;5H[96m[48;5;242m */[m[48;5;242m [m[37;84H[K[37;84H30,28[9C23%[1;32H[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;1H[93m 29 [m[96m * to make it easy to make sure that the kern[m[96m[48;5;242mel you just booted is the[m[48;5;242m [m[2;5H[96m[48;5;242m * same one you just built.[m[48;5;242m [m[37;84H[K[37;84H29,45[9C22%[1;49H[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;1H[93m 28 [m[96m * The purpose is not to show off how many ke[m[96m[48;5;242mrnels you've linked, but[m[48;5;242m [m[2;5H[96m[48;5;242m * to make it easy to make sure that the kern[m[37;84H[K[37;84H28,45[9C21%[1;49H[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;1H[93m 27 [m[96m *[m[2;5H[96m[48;5;242m * The purpose is not to show off how many ke[m[37;84H[K[37;84H27,3[10C20%[1;7H[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;1H[93m 26 [m[96m * buildversion starts at 1 and is incremente[m[96m[48;5;242md every time you link a kernel. [m[48;5;242m [m[2;5H[96m[48;5;242m *[m[48;5;242m [m[37;84H[K[37;84H26,45[9C20%[1;49H[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;1H[93m 25 [m[96m * buildconfig is the name of the config file[m[96m[48;5;242m the kernel was configured with.[m[48;5;242m [m[2;5H[96m[48;5;242m * buildversion starts at 1 and is incremente[m[37;84H[K[37;84H25,45[9C19%[1;49H[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;1H[93m 24 [m[96m * These two pieces of data are maintained by[m[96m[48;5;242m the makefiles and build system.[m[48;5;242m [m[2;5H[96m[48;5;242m * buildconfig is the name of the config file[m[37;84H[K[37;84H24,45[9C18%[1;49H[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;1H[93m 23 [m[96m/*[m[2;5H[96m[48;5;242m * These two pieces of data are maintained by[m[37;84H[K[37;84H23,3[10C17%[1;7H[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;1H[93m 22 [m[2;5H[96m[48;5;242m/*[m[48;5;242m [m[37;84H[K[37;84H22,0-1[8C16%[1;5H[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;1H[93m 21 [m[96m/* This is a comment with my name David Jung [m[96m[48;5;242m*/[m[48;5;242m [2;5H [m[37;84H[K[37;84H21,45[9C16%[1;49H[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;1H[93m 20 [m[2;5H[96m[48;5;242m/* This is a comment with my name David Jung [m[37;84H[K[37;84H20,0-1[8C15%[1;5H[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;1H[93m 19 [m[38;5;81m#include [m[95m<hello.h>[m [96m/* see ~/cs161/src/kern/in[m[96m[48;5;242mclude */[m[48;5;242m [2;5H [m[37;84H[K[37;84H19,45[9C14%[1;49H[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;1H[93m 18 [m[38;5;81m#include [m[95m<version.h>[m[2;5H[38;5;81m[48;5;242m#include [m[95m[48;5;242m<hello.h>[m[48;5;242m [m[96m[48;5;242m/* see ~/cs161/src/kern/in[m[37;84H[K[37;84H18,21[9C13%[1;25H[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;1H[93m 17 [m[38;5;81m#include [m[95m<syscall.h>[m[2;5H[38;5;81m[48;5;242m#include [m[95m[48;5;242m<version.h>[m[48;5;242m [m[37;84H[K[37;84H17,21[9C12%[1;25H[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;1H[93m 16 [m[38;5;81m#include [m[95m<vm.h>[m[2;5H[38;5;81m[48;5;242m#include [m[95m[48;5;242m<syscall.h>[m[48;5;242m [m[37;84H[K[37;84H16,16[9C12%[1;20H[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;1H[93m 15 [m[38;5;81m#include [m[95m<vfs.h>[m[2;5H[38;5;81m[48;5;242m#include [m[95m[48;5;242m<vm.h>[m[48;5;242m [m[37;84H[K[37;84H15,17[9C11%[1;21H[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;1H[93m 14 [m[38;5;81m#include [m[95m<dev.h>[m[2;5H[38;5;81m[48;5;242m#include [m[95m[48;5;242m<vfs.h>[m[48;5;242m [m[37;84H[K[37;84H14,17[9C10%[1;21H[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;1H[93m 13 [m[38;5;81m#include [m[95m<scheduler.h>[m[2;5H[38;5;81m[48;5;242m#include [m[95m[48;5;242m<dev.h>[m[48;5;242m [m[37;84H[K[37;84H13,23[10C9%[1;27H[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;1H[93m 12 [m[38;5;81m#include [m[95m<thread.h>[m[2;5H[38;5;81m[48;5;242m#include [m[95m[48;5;242m<scheduler.h>[m[48;5;242m [m[37;84H[K[37;84H12,20[10C8%[1;24H[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;1H[93m 11 [m[38;5;81m#include [m[95m<synch.h>[m[2;5H[38;5;81m[48;5;242m#include [m[95m[48;5;242m<thread.h>[m[48;5;242m [m[37;84H[K[37;84H11,19[10C8%[1;23H[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;1H[93m 10 [m[38;5;81m#include [m[95m<test.h>[m[2;5H[38;5;81m[48;5;242m#include [m[95m[48;5;242m<synch.h>[m[48;5;242m [m[37;84H[K[37;84H10,18[10C7%[1;22H[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;1H[93m  9 [m[38;5;81m#include [m[95m<machine/spl.h>[m[2;5H[38;5;81m[48;5;242m#include [m[95m[48;5;242m<test.h>[m[48;5;242m [m[37;84H[K[37;84H9,25[11C6%[1;29H[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;1H[93m  8 [m[38;5;81m#include [m[95m<lib.h>[m[2;5H[38;5;81m[48;5;242m#include [m[95m[48;5;242m<machine/spl.h>[m[48;5;242m [m[37;84H[K[37;84H8,17[11C5%[1;21H[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;1H[93m  7 [m[38;5;81m#include [m[95m<kern/unistd.h>[m[2;5H[38;5;81m[48;5;242m#include [m[95m[48;5;242m<lib.h>[m[48;5;242m [m[37;84H[K[37;84H7,25[11C4%[1;29H[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;1H[93m  6 [m[38;5;81m#include [m[95m<kern/errno.h>[m[2;5H[38;5;81m[48;5;242m#include [m[95m[48;5;242m<kern/unistd.h>[m[48;5;242m [m[37;84H[K[37;84H6,24[11C4%[1;28H[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;1H[93m  5 [m[38;5;81m#include [m[95m<types.h>[m[2;5H[38;5;81m[48;5;242m#include [m[95m[48;5;242m<kern/errno.h>[m[48;5;242m [m[37;84H[K[37;84H5,19[11C3%[1;23H[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;1H[93m  4 [m[2;5H[38;5;81m[48;5;242m#include [m[95m[48;5;242m<types.h>[m[48;5;242m [m[37;84H[K[37;84H4,0-1[10C2%[1;5H[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;1H[93m  3 [m[96m */[m[2;5H[48;5;242m [m[37;84H[K[37;84H3,4[12C1%[1;8H[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;1H[93m  2 [m[96m * Main.[m[2;5H[96m[48;5;242m */[m[48;5;242m [m[37;84H[K[37;84H2,9[12C0%[1;13H[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;1H[93m  1 [m[96m/*[m[2;5H[96m[48;5;242m * Main.[m[48;5;242m [m[37;84H[K[37;84H1,3[11CTop[1;7H[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[48;5;242m [m[37;86H2[1;6H[?12l[?25h[?25l[96m[48;5;242m*[m[37;86H1[1;5H[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[37;1H89 fewer lines[37;84H[K[1;5H[K[2;5H        assert(size[3;5H[97m[101m{[m[3;6H[K[4;5H[K[5;5H        kprintf([95m"Shutting down.[m[38;5;224m\n[m[95m"[m);[6;5H        [6;13H[K[7;5H        vfs_clearbootfs();[8;5H        vfs_clearcurdir();[9;5H        vfs_unmountall();[10;5H[K[11;5H        splhigh();[11;23H[K[12;5H[K[13;5H        scheduler_shutdown();[14;5H        thread_shutdown();[15;5H[97m[101m}[m[15;6H[K[16;5H[K[17;5H[96m/*****************************************/[m[18;5H[K[19;5H[96m/*[m[19;7H[K[20;5H[96m * reboot() system call.[21;5H *[m[21;7H[K[22;5H[96m * Note: this is here because it's directly related to the code above,[23;5H * not because this is where system call code should go. Other syscall[24;5H * code should probably live in the "userprog" directory.[m[24;62H[K[25;5H[96m */[m[25;8H[K[26;5H[38;5;121mint[m[26;8H[K[27;5Hsys_reboot([38;5;121mint[m code)[28;5H[97m[101m{[m[28;6H[K[29;5H        [93mswitch[m (code) [97m[101m{[m[29;28H[K[30;5H            [93mcase[m RB_REBOOT:[30;32H[K[31;5H    [8C[93mcase[m RB_HALT:[32;5H            [93mcase[m RB_POWEROFF:[32;34H[K[33;5H                [93mbreak[m;[33;27H[K[34;5H [11C[93mdefault[m:[35;5H   [13C[93mreturn[m [95mEINVAL[m;[36;5H        [97m[101m}[m[36;14H[K[37;84H1,0-1[9CTop[37;84H[K[37;84H1,0-1[9CTop[1;5H[?12l[?25h[?25l[37;84H2,1-8[2;12H[?12l[?25h[?25l[3;5H[97m[46m{[15;5H}[m[37;84H3,1  [3;5H[?12l[?25h[?25l[97m[101m{[15;5H}[m[37;84H4,0-1[4;5H[?12l[?25h[?25l[37;84H5,1-8[5;12H[?12l[?25h[?25l[37;84H6[6;12H[?12l[?25h[?25l[37;84H7[7;12H[?12l[?25h[?25l[37;84H8[8;12H[?12l[?25h[?25l[37;84H9[9;12H[?12l[?25h[?25l[37;84H10,0-1[10;5H[?12l[?25h[?25l[37;85H1,1-8[11;12H[?12l[?25h[?25l[37;85H2,0-1[12;5H[?12l[?25h[?25l[37;85H3,1-8[13;12H[?12l[?25h[?25l[37;85H4[14;12H[?12l[?25h[?25l[3;5H[97m[46m{[15;5H}[m[37;85H5,1  [15;5H[?12l[?25h[?25l[3;5H[97m[101m{[15;5H}[m[37;85H6,0-1[16;5H[?12l[?25h[?25l[37;85H7,1  [17;5H[?12l[?25h[?25l[37;85H8,0-1[18;5H[?12l[?25h[?25l[37;85H9,1  [19;5H[?12l[?25h[?25l[37;84H20[20;5H[?12l[?25h[?25l[37;85H1[21;5H[?12l[?25h[?25l[37;85H2[22;5H[?12l[?25h[?25l[37;85H3[23;5H[?12l[?25h[?25l[37;85H4[24;5H[?12l[?25h[?25l[37;85H5[25;5H[?12l[?25h[?25l[37;85H6[26;5H[?12l[?25h[?25l[37;85H7[27;5H[?12l[?25h[?25l[37;85H8[28;5H[?12l[?25h[?25l[37;85H9,1-8[29;12H[?12l[?25h[?25l[37;84H30[30;12H[?12l[?25h[?25l[37;85H1[31;12H[?12l[?25h[?25l[37;85H2[32;12H[?12l[?25h[?25l[37;85H3[33;12H[?12l[?25h[?25l[37;85H4[34;12H[?12l[?25h[?25l[37;85H5[35;12H[?12l[?25h[?25l[37;85H6[36;12H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H[93m 37 [m[37;1H[K[37;84H37,0-1[9C2%[36;5H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H[93m 38 [m[8Cshutdown();[37;84H[K[37;84H38,1-8[9C5%[36;12H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H[93m 39 [m[37;84H[K[37;84H39,0-1[9C8%[36;5H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H[93m 40 [8Cswitch[m (code) [97m[101m{[m[37;84H[K[37;84H40,1-8[8C11%[36;12H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H[93m 41 [12Ccase[m RB_HALT:[37;84H[K[37;84H41,1-8[8C13%[36;12H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H[93m 42 [m[16Ckprintf([95m"The system is halted.[m[38;5;224m\n[m[95m"[m);[37;84H[K[37;84H42,1-8[8C16%[36;12H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H[93m 43 [m[16Cmd_halt();[37;84H[K[37;84H43,1-8[8C19%[36;12H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H[93m 44 [16Cbreak[m;[37;84H[K[37;84H44,1-8[8C22%[36;12H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H[93m 45 [12Ccase[m RB_REBOOT:[37;84H[K[37;84H45,1-8[8C25%[36;12H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H[93m 46 [m[16Ckprintf([95m"Rebooting...[m[38;5;224m\n[m[95m"[m);[37;84H[K[37;84H46,1-8[8C27%[36;12H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H[93m 47 [m[16Cmd_reboot();[37;84H[K[37;84H47,1-8[8C30%[36;12H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H[93m 48 [16Cbreak[m;[37;84H[K[37;84H48,1-8[8C33%[36;12H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H[93m 49 [12Ccase[m RB_POWEROFF:[37;84H[K[37;84H49,1-8[8C36%[36;12H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H[93m 50 [m[16Ckprintf([95m"The system is halted.[m[38;5;224m\n[m[95m"[m);[37;84H[K[37;84H50,1-8[8C38%[36;12H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H[93m 51 [m[16Cmd_poweroff();[37;84H[K[37;84H51,1-8[8C41%[36;12H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H[93m 52 [16Cbreak[m;[37;84H[K[37;84H52,1-8[8C44%[36;12H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H[93m 53 [m[8C[97m[101m}[m[37;84H[K[37;84H53,1-8[8C47%[36;12H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H[93m 54 [m[37;84H[K[37;84H54,0-1[8C50%[36;5H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H[93m 55 [m[8Cpanic([95m"reboot operation failed[m[38;5;224m\n[m[95m"[m);[37;84H[K[37;84H55,1-8[8C52%[36;12H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H[93m 56 [8Creturn[m [95m0[m;[37;84H[K[37;84H56,1-8[8C55%[36;12H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[7;5H[97m[46m{[m[36;1H[93m 57 [m[46m}[m[37;84H[K[37;84H57,1[10C58%[36;5H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[6;5H[97m[101m{[m[35;5H}
[93m 58 [m[37;84H[K[37;84H58,0-1[8C61%[36;5H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H[93m 59 [m[96m/*[m[37;84H[K[37;84H59,1[10C63%[36;5H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H[93m 60 [m[96m * Kernel main. Boot up, then fork the menu thread; wait for a reboot[m[37;84H[K[37;84H60,1[10C66%[36;5H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H[93m 61 [m[96m * request, and then shut down.[m[37;84H[K[37;84H61,1[10C69%[36;5H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H[93m 62 [m[96m */[m[37;84H[K[37;84H62,1[10C72%[36;5H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H[93m 63 [m[38;5;121mint[m[37;84H[K[37;84H63,1[10C75%[36;5H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H[93m 64 [mkmain([38;5;121mchar[m *arguments)[37;84H[K[37;84H64,1[10C77%[36;5H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H[93m 65 [m{[37;84H[K[37;84H65,1[10C80%[36;5H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H[93m 66 [m[8Cboot();[37;84H[K[37;84H66,1-8[8C83%[36;12H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H[93m 67 [m[37;84H[K[37;84H67,0-1[8C86%[36;5H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H[93m 68 [m[8Cmenu(arguments);[37;84H[K[37;84H68,1-8[8C88%[36;12H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H[93m 69 [m[37;84H[K[37;84H69,0-1[8C91%[36;5H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H[93m 70 [m[8C[96m/* Should not get here */[m[37;84H[K[37;84H70,1-8[8C94%[36;12H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H[93m 71 [8Creturn[m [95m0[m;[37;84H[K[37;84H71,1-8[8C97%[36;12H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[29;5H[46m{[m[36;1H[93m 72 [m[46m}[m[37;84H[K[37;84H72,1[10CBot[36;5H[?12l[?25h[?25l[29;5H{[36;5H}[37;85H1,1-8[35;12H[?12l[?25h[?25l[37;85H0[34;12H[?12l[?25h[?25l[37;84H69,0-1[33;5H[?12l[?25h[?25l[37;85H8,1-8[32;12H[?12l[?25h[?25l[37;85H7,0-1[31;5H[?12l[?25h[?25l[37;85H6,1-8[30;12H[?12l[?25h[?25l[29;5H[46m{[36;5H}[m[37;85H5,1  [29;5H[?12l[?25h[?25l{[36;5H}[37;85H4[28;5H[?12l[?25h[?25l[37;85H3[27;5H[?12l[?25h[?25l[37;85H2[26;5H[?12l[?25h[?25l[37;85H1[25;5H[?12l[?25h[?25l[37;85H0[24;5H[?12l[?25h[?25l[37;84H59[23;5H[?12l[?25h[?25l[37;85H8,0-1[22;5H[?12l[?25h[?25l[37;85H7,1  [21;5H[?12l[?25h[?25l[37;85H6,1-8[20;12H[?12l[?25h[?25l[37;85H5[19;12H[?12l[?25h[?25l[37;85H4,0-1[18;5H[?12l[?25h[?25l[37;85H3,1-8[17;12H[?12l[?25h[?25l[37;85H2[16;12H[?12l[?25h[?25l[37;85H1[15;12H[?12l[?25h[?25l[37;85H0[14;12H[?12l[?25h[?25l[37;84H49[13;12H[?12l[?25h[?25l[37;85H8[12;12H[?12l[?25h[?25l[37;85H7[11;12H[?12l[?25h[?25l[37;85H6[10;12H[?12l[?25h[?25l[37;85H5[9;12H[?12l[?25h[?25l[37;85H4[8;12H[?12l[?25h[?25l[37;85H3[7;12H[?12l[?25h[?25l[37;85H2[6;12H[?12l[?25h[?25l[37;85H1[5;12H[?12l[?25h[?25l[37;85H0[4;12H[?12l[?25h[?25l[37;84H39,0-1[3;5H[?12l[?25h[?25l[37;85H8,1-8[2;12H[?12l[?25h[?25l[37;85H7,0-1[1;5H[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;1H[93m 36 [m[8C[97m[101m}[m[37;84H[K[37;84H36,1-8[8C97%[1;12H[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;1H[93m 35 [16Creturn[m [95mEINVAL[m;[37;84H[K[37;84H35,1-8[8C94%[1;12H[?12l[?25h[?25l[37;1HType  :quit<Enter>  to exit Vim[37;84H[K[37;84H35,1-8[8C94%[1;12H[?12l[?25h[?25l[37;1H[K[37;1H:[?12l[?25hw[?25l[?12l[?25hw[?25l[?12l[?25hq[?25l[?12l[?25h[?25l[37;4H[K[37;4H[?12l[?25h[?25l[37;3H[K[37;3H[?12l[?25hq[?25l[?12l[?25h[?25l"main.c" 72L, 1132C written
[?1l>[?12l[?25h[?1049lbash-4.2$ cd ~cs[K[K/cs161/root
bash-4.2$ .sys[K[K[K/sys161 kernel
sys161: System/161 release 1.14, compiled Jan 29 2022 20:41:47

OS/161 base system version 1.10
Copyright (c) 2000, 2001, 2002, 2003
   President and Fellows of Harvard College.  All rights reserved.

Put-your-group-name-here's system version 0 (ASST0 #2)

Hello World!
Cpu is MIPS r2000/r3000
1872k physical memory available
Device probe...
lamebus0 (system main bus)
emu0 at lamebus0
ltrace0 at lamebus0
ltimer0 at lamebus0
hardclock on ltimer0 (100 hz)
beep0 at ltimer0
rtclock0 at ltimer0
lrandom0 at lamebus0
random0 at lrandom0
lser0 at lamebus0
con0 at lser0
pseudorand0 (virtual)

OS/161 kernel [? for menu]: p /sbuin   in/poweroff re >  <return? >
Operation took 0.000162800 seconds
OS/161 kernel [? for menu]: Shutting down.
The system is halted.
sys161: 668471500 cycles (6587894k, 18u, 661883588i)
sys161: 3351 irqs 6 exns 0r/0w disk 40r/708w console 8r/0w/3m emufs 0r/0w net
sys161: Elapsed real time: 26.713885 seconds (25.0234 mhz)
sys161: Elapsed virtual time: 26.738860000 seconds (25 mhz)
bash-4.2$ cd k[K[K[K[Kls
bin	     hostlib	  include	lib   stat161	    sys161-1.14		testbin
hostbin      hub161	  kernel	man   stat161-1.14  sys161.conf		trace161
hostinclude  hub161-1.14  kernel-ASST0	sbin  sys161	    sys161.conf.sample	trace161-1.14
bash-4.2$ cd ..
bash-4.2$ ls
asst0		    cs161-binutils-1.5.tgz  cs161-gdb-1.5      root	    sys161-1.14.tar.gz
bin		    cs161-gcc-1.5	    cs161-gdb-1.5.tgz  src	    tools
cs161-binutils-1.5  cs161-gcc-1.5.tgz	    os161-1.10.tar.gz  sys161-1.14
bash-4.2$ cd src
bash-4.2$ cd kern/main/[K/
bash-4.2$ ls
hello.c  main.c  menu.c
bash-4.2$ ./main.c
bash: ./main.c: Permission denied
bash-4.2$ ./[K[K/main.c
bash: /main.c: No such file or directory
bash-4.2$ ./main.c
bash: ./main.c: Permission denied
bash-4.2$ cd ~/cs161/src/kern/[K[K[K[K[K[K[K[K[Ksrc
bash-4.2$ ls
bin	 configure  defs.mk	    git-use.script  kern  Makefile  mk	  testbin
CHANGES  COPYING    defs.mk.sample  include	    lib   man	    sbin
bash-4.2$ cd kern
bash-4.2$ ls
arch  asst1  compile  conf  dev  fs  include  lib  main  Makefile  test  thread  userprog  vm
bash-4.2$ cd compile
bash-4.2$ make depend
make: *** No rule to make target `depend'.  Stop.
bash-4.2$ make
make: *** No targets specified and no makefile found.  Stop.
bash-4.2$ ls
ASST0
bash-4.2$ m[Kcd ASST0
bash-4.2$ make
cs161-gcc   -mno-abicalls -fno-pic -Wall -W -Wwrite-strings -g -nostdinc -I../../include -I../../dev -I.  -ffreestanding -D_KERNEL -G 0 -c ../../main/main.c
../../main/main.c:3: error: expected â€˜)â€™ before â€˜{â€™ token
make: *** [main.o] Error 1
bash-4.2$ cd ...[K[K[K~/cs161/
bash-4.2$ ls
asst0		    cs161-binutils-1.5.tgz  cs161-gdb-1.5      root	    sys161-1.14.tar.gz
bin		    cs161-gcc-1.5	    cs161-gdb-1.5.tgz  src	    tools
cs161-binutils-1.5  cs161-gcc-1.5.tgz	    os161-1.10.tar.gz  sys161-1.14
bash-4.2$ cd src
bash-4.2$ cd kern/main/m[K
bash-4.2$ ls
hello.c  main.c  menu.c
bash-4.2$ rm main.c
bash-4.2$ git checkout main.c
bash-4.2$ cd [K[K[Kcd ~[K[K[K[Kls
hello.c  main.c  menu.c
bash-4.2$ vi main.c
[?1049h[?1h=[1;37r[?12;25h[?12l[?25h[27m[m[H[2J[?25l[37;1H"main.c" 167L, 3533C[1;1H/*
 * Main.
 */

#include <types.h>
#include <kern/errno.h>
#include <kern/unistd.h>
#include <lib.h>
#include <machine/spl.h>
#include <test.h>
#include <synch.h>
#include <thread.h>
#include <scheduler.h>
#include <dev.h>
#include <vfs.h>
#include <vm.h>
#include <syscall.h>
#include <version.h>

/*
 * These two pieces of data are maintained by the makefiles and build system.
 * buildconfig is the name of the config file the kernel was configured with.
 * buildversion starts at 1 and is incremented every time you link a kernel.
 *
 * The purpose is not to show off how many kernels you've linked, but
 * to make it easy to make sure that the kernel you just booted is the
 * same one you just built.
 */
extern const int buildversion;
extern const char buildconfig[];

/*
 * Copyright message for the OS/161 base code.
 */
static const char harvard_copyright[] =
    "Copyright (c) 2000, 2001, 2002, 2003\n"[1;1H[?12l[?25h[?25l[37;1HType  :quit<Enter>  to exit Vim[1;1H[?12l[?25h[?25l[37;1H[K[37;1H:[?12l[?25hquit[?25l[37;1H[K[37;1H[?1l>[?12l[?25h[?1049lbash-4.2$ vi main.c
[?1049h[?1h=[1;37r[?12;25h[?12l[?25h[27m[m[H[2J[?25l[37;1H"main.c" 167L, 3533C[1;1H/*
 * Main.
 */

#include <types.h>
#include <kern/errno.h>
#include <kern/unistd.h>
#include <lib.h>
#include <machine/spl.h>
#include <test.h>
#include <synch.h>
#include <thread.h>
#include <scheduler.h>
#include <dev.h>
#include <vfs.h>
#include <vm.h>
#include <syscall.h>
#include <version.h>

/*
 * These two pieces of data are maintained by the makefiles and build system.
 * buildconfig is the name of the config file the kernel was configured with.
 * buildversion starts at 1 and is incremented every time you link a kernel.
 *
 * The purpose is not to show off how many kernels you've linked, but
 * to make it easy to make sure that the kernel you just booted is the
 * same one you just built.
 */
extern const int buildversion;
extern const char buildconfig[];

/*
 * Copyright message for the OS/161 base code.
 */
static const char harvard_copyright[] =
    "Copyright (c) 2000, 2001, 2002, 2003\n"[1;1H[?12l[?25h


































[?25l[1;36r[36;1H
[1;37r[36;5H"   President and Fellows of Harvard College.  All rights reserved.\n";[37;1H[K[36;1H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H/*[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;2H* Initial boot sequence.[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;2H*/[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1Hstatic[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1Hvoid[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1Hboot(void)[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H{[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;9H/*[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;10H* The order of these is important![36;8H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;10H* Don't go changing it without thinking about the consequences.[36;8H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;10H*[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;10H* Among other things, be aware that console output gets[36;8H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;10H* buffered up at first and does not actually appear until[36;8H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;10H* dev_bootstrap() attaches the console device. This can be[36;8H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;10H* remarkably confusing if a bug occurs at this point. So[36;8H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;10H* don't put new code before dev_bootstrap if you don't[36;8H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;10H* absolutely have to.[36;8H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;10H*[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;10H* Also note that the buffer for this is only 1k. If you[36;8H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;10H* overflow it, the system will crash without printing[36;8H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;10H* anything at all. You can make it larger though (it's in[36;8H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;10H* dev/generic/console.c).[36;8H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;10H*/[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;9Hkprintf("\n");[36;8H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;9Hkprintf("OS/161 base system version %s\n", BASE_VERSION);[36;8H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;9Hkprintf("%s", harvard_copyright);[36;8H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;9Hkprintf("\n");[36;8H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;9Hkprintf("Put-your-group-name-here's system version %s (%s #%d)\n",[36;8H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;17HGROUP_VERSION, buildconfig, buildversion);[36;8H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;9Hkprintf("\n");[36;8H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;9Hram_bootstrap();[36;8H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;9Hscheduler_bootstrap();[36;8H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;9Hthread_bootstrap();[36;8H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;9Hvfs_bootstrap();[36;8H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;9Hdev_bootstrap();[36;8H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;9Hvm_bootstrap();[36;8H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;9Hkprintf_bootstrap();[36;8H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;9H/* Default bootfs - but ignore failure, in case emu0 doesn't exist */[36;8H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;9Hvfs_setbootfs("emu0");[36;8H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;9H/*[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;10H* Make sure various things aren't screwed up.[36;8H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;10H*/[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;9Hassert(sizeof(userptr_t)==sizeof(char *));[36;8H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;9Hassert(sizeof(*(userptr_t)0)==sizeof(char));[36;8H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H}[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H/*[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;2H* Shutdown sequence. Opposite to boot().[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;2H*/[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1Hstatic[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1Hvoid[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1Hshutdown(void)[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H{[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;9Hkprintf("Shutting down.\n");[36;8H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;8H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;9Hvfs_clearbootfs();[36;8H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;9Hvfs_clearcurdir();[36;8H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;9Hvfs_unmountall();[36;8H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;9Hsplhigh();[36;8H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;9Hscheduler_shutdown();[36;8H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;9Hthread_shutdown();[36;8H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H}[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H[?12l[?25h[35;1H[34;8H[33;8H[32;1H[31;8H[30;1H[29;8H[28;8H[27;8H[26;8H[25;8H[24;1H[23;1H[22;1H[21;1H[20;1H[19;1H[18;1H[17;1H[16;1H[15;1H[14;8H[13;8H[12;8H[11;8H[10;8H[9;1H[8;1H[7;8H[6;8H[5;1H[4;8H[3;8H[2;8H[1;8H[?25l[1;36r[1;1H[L[1;37r[1;9Hthread_bootstrap();[1;8H[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;9Hscheduler_bootstrap();[1;8H[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;9Hram_bootstrap();[1;8H[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;1H[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;9Hkprintf("\n");[1;8H[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;17HGROUP_VERSION, buildconfig, buildversion);[1;8H[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;9Hkprintf("Put-your-group-name-here's system version %s (%s #%d)\n",[1;8H[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;1H[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;9Hkprintf("\n");[1;8H[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;9Hkprintf("%s", harvard_copyright);[1;8H[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;9Hkprintf("OS/161 base system version %s\n", BASE_VERSION);[1;8H[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;9Hkprintf("\n");[1;8H[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;1H[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;10H*/[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;10H* dev/generic/console.c).[1;8H[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;10H* anything at all. You can make it larger though (it's in[1;8H[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;10H* overflow it, the system will crash without printing[1;8H[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;10H* Also note that the buffer for this is only 1k. If you[1;8H[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;10H*[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;10H* absolutely have to.[1;8H[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;10H* don't put new code before dev_bootstrap if you don't[1;8H[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;10H* remarkably confusing if a bug occurs at this point. So[1;8H[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;10H* dev_bootstrap() attaches the console device. This can be[1;8H[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;10H* buffered up at first and does not actually appear until[1;8H[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;10H* Among other things, be aware that console output gets[1;8H[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;10H*[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;10H* Don't go changing it without thinking about the consequences.[1;8H[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;10H* The order of these is important![1;8H[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;9H/*[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;1H{[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;1Hboot(void)[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;1Hvoid[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;1Hstatic[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;2H*/[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;2H* Initial boot sequence.[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;1H/*[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;1H[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;1H[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;5H"   President and Fellows of Harvard College.  All rights reserved.\n";[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;5H"Copyright (c) 2000, 2001, 2002, 2003\n"[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;1Hstatic const char harvard_copyright[] =[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;2H*/[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;2H* Copyright message for the OS/161 base code.[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;1H/*[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;1H[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;1Hextern const char buildconfig[];[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;1Hextern const int buildversion;[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;2H*/[?12l[?25h

















[20;8H[21;8H[22;8H[23;8H[24;8H[25;8H[26;8H[27;8H[28;8H[29;8H[30;8H[31;8H[32;8H[33;8H[34;8H[35;8H
[?25l[1;36r[36;1H
[1;37r[36;9Hkprintf("\n");[36;8H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;9Hkprintf("OS/161 base system version %s\n", BASE_VERSION);[36;8H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;9Hkprintf("%s", harvard_copyright);[36;8H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;9Hkprintf("\n");[36;8H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;9Hkprintf("Put-your-group-name-here's system version %s (%s #%d)\n",[36;8H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;17HGROUP_VERSION, buildconfig, buildversion);[36;8H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;9Hkprintf("\n");[36;8H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;9Hram_bootstrap();[36;8H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;9Hscheduler_bootstrap();[36;8H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;9Hthread_bootstrap();[36;8H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;9Hvfs_bootstrap();[36;8H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;9Hdev_bootstrap();[36;8H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;9Hvm_bootstrap();[36;8H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;9Hkprintf_bootstrap();[36;8H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;9H/* Default bootfs - but ignore failure, in case emu0 doesn't exist */[36;8H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;9Hvfs_setbootfs("emu0");[36;8H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;9H/*[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;10H* Make sure various things aren't screwed up.[36;8H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;10H*/[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;9Hassert(sizeof(userptr_t)==sizeof(char *));[36;8H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;9Hassert(sizeof(*(userptr_t)0)==sizeof(char));[36;8H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H}[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H/*[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;2H* Shutdown sequence. Opposite to boot().[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;2H*/[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1Hstatic[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1Hvoid[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1Hshutdown(void)[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H{[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;9Hkprintf("Shutting down.\n");[36;8H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;8H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;9Hvfs_clearbootfs();[36;8H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;9Hvfs_clearcurdir();[36;8H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;9Hvfs_unmountall();[36;8H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;9Hsplhigh();[36;8H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;9Hscheduler_shutdown();[36;8H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;9Hthread_shutdown();[36;8H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H}[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H/*****************************************/[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H/*[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;2H* reboot() system call.[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;2H*[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;2H* Note: this is here because it's directly related to the code above,[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;2H* not because this is where system call code should go. Other syscall[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;2H* code should probably live in the "userprog" directory.[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;2H*/[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1Hint[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1Hsys_reboot(int code)[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H{[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;9Hswitch (code) {[36;8H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;13Hcase RB_REBOOT:[36;8H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;13Hcase RB_HALT:[36;8H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;13Hcase RB_POWEROFF:[36;8H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;17Hbreak;[36;8H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;13Hdefault:[36;8H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;17Hreturn EINVAL;[36;8H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;9H}[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;9Hshutdown();[36;8H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;9Hswitch (code) {[36;8H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;13Hcase RB_HALT:[36;8H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;17Hkprintf("The system is halted.\n");[36;8H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;17Hmd_halt();[36;8H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;17Hbreak;[36;8H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;13Hcase RB_REBOOT:[36;8H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;17Hkprintf("Rebooting...\n");[36;8H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;17Hmd_reboot();[36;8H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;17Hbreak;[36;8H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;13Hcase RB_POWEROFF:[36;8H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;17Hkprintf("The system is halted.\n");[36;8H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;17Hmd_poweroff();[36;8H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;17Hbreak;[36;8H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;9H}[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;9Hpanic("reboot operation failed\n");[36;8H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;9Hreturn 0;[36;8H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H}[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H/*[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;2H* Kernel main. Boot up, then fork the menu thread; wait for a reboot[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;2H* request, and then shut down.[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;2H*/[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1Hint[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1Hkmain(char *arguments)[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H{[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;9Hboot();[36;8H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;9Hmenu(arguments);[36;8H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;9H/* Should not get here */[36;8H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;9Hreturn 0;[36;8H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H}[?12l[?25h[35;8H[34;8H[33;1H[32;8H
[34;8H[35;8H
[35;8H[34;8H[33;1H[?25l[37;1HType  :quit<Enter>  to exit Vim[33;1H[?12l[?25h[?25l[37;1H[K[37;1H:[?12l[?25hquit[?25l[37;1H[K[37;1H[?1l>[?12l[?25h[?1049lbash-4.2$ vim main.c
[?1049h[?1h=[2;1Hâ–½[6n[2;1H  [1;1H]11;?[1;37r[?12;25h[?12l[?25h[27m[m[H[2J[?25l[37;1H"main.c" 167L, 3533C[>c[1;1H[34m/*
 * Main.
 */[m

[35m#include [m[31m<types.h>[m
[35m#include [m[31m<kern/errno.h>[m
[35m#include [m[31m<kern/unistd.h>[m
[35m#include [m[31m<lib.h>[m
[35m#include [m[31m<machine/spl.h>[m
[35m#include [m[31m<test.h>[m
[35m#include [m[31m<synch.h>[m
[35m#include [m[31m<thread.h>[m
[35m#include [m[31m<scheduler.h>[m
[35m#include [m[31m<dev.h>[m
[35m#include [m[31m<vfs.h>[m
[35m#include [m[31m<vm.h>[m
[35m#include [m[31m<syscall.h>[m
[35m#include [m[31m<version.h>[m

[34m/*
 * These two pieces of data are maintained by the makefiles and build system.
 * buildconfig is the name of the config file the kernel was configured with.
 * buildversion starts at 1 and is incremented every time you link a kernel. 
 *
 * The purpose is not to show off how many kernels you've linked, but
 * to make it easy to make sure that the kernel you just booted is the
 * same one you just built.
 */[m
[32mextern[m [32mconst[m [32mint[m buildversion;
[32mextern[m [32mconst[m [32mchar[m buildconfig[];

[34m/*
 * Copyright message for the OS/161 base code.
 */[m
[32mstatic[m [32mconst[m [32mchar[m harvard_copyright[] =
    [31m"Copyright (c) 2000, 2001, 2002, 2003[m[35m\n[m[31m"[m[37;84H35,1[10CTop[35;1H[?12l[?25h[27m[m[H[2J[?25l[1;1H[96m/*
 * Main.
 */[m

[38;5;81m#include [m[95m<types.h>[m
[38;5;81m#include [m[95m<kern/errno.h>[m
[38;5;81m#include [m[95m<kern/unistd.h>[m
[38;5;81m#include [m[95m<lib.h>[m
[38;5;81m#include [m[95m<machine/spl.h>[m
[38;5;81m#include [m[95m<test.h>[m
[38;5;81m#include [m[95m<synch.h>[m
[38;5;81m#include [m[95m<thread.h>[m
[38;5;81m#include [m[95m<scheduler.h>[m
[38;5;81m#include [m[95m<dev.h>[m
[38;5;81m#include [m[95m<vfs.h>[m
[38;5;81m#include [m[95m<vm.h>[m
[38;5;81m#include [m[95m<syscall.h>[m
[38;5;81m#include [m[95m<version.h>[m

[96m/*
 * These two pieces of data are maintained by the makefiles and build system.
 * buildconfig is the name of the config file the kernel was configured with.
 * buildversion starts at 1 and is incremented every time you link a kernel. 
 *
 * The purpose is not to show off how many kernels you've linked, but
 * to make it easy to make sure that the kernel you just booted is the
 * same one you just built.
 */[m
[38;5;121mextern[m [38;5;121mconst[m [38;5;121mint[m buildversion;
[38;5;121mextern[m [38;5;121mconst[m [38;5;121mchar[m buildconfig[];

[96m/*
 * Copyright message for the OS/161 base code.
 */[m
[38;5;121mstatic[m [38;5;121mconst[m [38;5;121mchar[m harvard_copyright[] =
    [95m"Copyright (c) 2000, 2001, 2002, 2003[m[38;5;224m\n[m[95m"[m[37;84H35,1[10CTop"main.c" 167L, 3533C[35;1H[?12l[?25h[?25l[37;85H6[36;1H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;5H[95m"   President and Fellows of Harvard College.  All rights reserved.[m[38;5;224m\n[m[95m"[m;[37;1H[K[37;84H37,1[11C0%[36;1H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[37;84H[K[37;84H38,0-1[9C1%[36;1H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[37;84H[K[37;84H39,0-1[9C2%[36;1H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H[96m/*[m[37;84H[K[37;84H40,1[11C3%[36;1H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H[96m * Initial boot sequence.[m[37;84H[K[37;84H41,1[11C3%[36;1H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H[96m */[m[37;84H[K[37;84H42,1[11C4%[36;1H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H[38;5;121mstatic[m[37;84H[K[37;84H43,1[11C5%[36;1H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H[38;5;121mvoid[m[37;84H[K[37;84H44,1[11C6%[36;1H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1Hboot([38;5;121mvoid[m)[37;84H[K[37;84H45,1[11C6%[36;1H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H{[37;84H[K[37;84H46,1[11C7%[36;1H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;9H[96m/*[m[37;84H[K[37;84H47,1-8[9C8%[36;8H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H[96m         * The order of these is important![m[37;84H[K[37;84H48,1-8[9C9%[36;8H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H[96m         * Don't go changing it without thinking about the consequences.[m[37;84H[K[37;84H49,1-8[9C9%[36;8H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H[96m         *[m[37;84H[K[37;84H50,1-8[8C10%[36;8H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H[96m         * Among other things, be aware that console output gets[m[37;84H[K[37;84H51,1-8[8C11%[36;8H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H[96m         * buffered up at first and does not actually appear until[m[37;84H[K[37;84H52,1-8[8C12%[36;8H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H[96m         * dev_bootstrap() attaches the console device. This can be[m[37;84H[K[37;84H53,1-8[8C12%[36;8H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H[96m         * remarkably confusing if a bug occurs at this point. So[m[37;84H[K[37;84H54,1-8[8C13%[36;8H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H[96m         * don't put new code before dev_bootstrap if you don't[m[37;84H[K[37;84H55,1-8[8C14%[36;8H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H[96m         * absolutely have to.[m[37;84H[K[37;84H56,1-8[8C15%[36;8H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H[96m         *[m[37;84H[K[37;84H57,1-8[8C16%[36;8H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H[96m         * Also note that the buffer for this is only 1k. If you[m[37;84H[K[37;84H58,1-8[8C16%[36;8H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H[96m         * overflow it, the system will crash without printing[m[37;84H[K[37;84H59,1-8[8C17%[36;8H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H[96m         * anything at all. You can make it larger though (it's in[m[37;84H[K[37;84H60,1-8[8C18%[36;8H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H[96m         * dev/generic/console.c).[m[37;84H[K[37;84H61,1-8[8C19%[36;8H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H[96m         */[m[37;84H[K[37;84H62,1-8[8C19%[36;8H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[37;84H[K[37;84H63,0-1[8C20%[36;1H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;9Hkprintf([95m"[m[38;5;224m\n[m[95m"[m);[37;84H[K[37;84H64,1-8[8C21%[36;8H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;9Hkprintf([95m"OS/161 base system version [m[38;5;224m%s\n[m[95m"[m, BASE_VERSION);[37;84H[K[37;84H65,1-8[8C22%[36;8H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;9Hkprintf([95m"[m[38;5;224m%s[m[95m"[m, harvard_copyright);[37;84H[K[37;84H66,1-8[8C22%[36;8H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;9Hkprintf([95m"[m[38;5;224m\n[m[95m"[m);[37;84H[K[37;84H67,1-8[8C23%[36;8H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[37;84H[K[37;84H68,0-1[8C24%[36;1H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;9Hkprintf([95m"Put-your-group-name-here's system version [m[38;5;224m%s[m[95m ([m[38;5;224m%s[m[95m #[m[38;5;224m%d[m[95m)[m[38;5;224m\n[m[95m"[m,[37;84H[K[37;84H69,1-8[8C25%[36;8H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;17HGROUP_VERSION, buildconfig, buildversion);[37;84H[K[37;84H70,1-8[8C25%[36;8H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;9Hkprintf([95m"[m[38;5;224m\n[m[95m"[m);[37;84H[K[37;84H71,1-8[8C26%[36;8H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[37;84H[K[37;84H72,0-1[8C27%[36;1H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;9Hram_bootstrap();[37;84H[K[37;84H73,1-8[8C28%[36;8H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;9Hscheduler_bootstrap();[37;84H[K[37;84H74,1-8[8C29%[36;8H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;9Hthread_bootstrap();[37;84H[K[37;84H75,1-8[8C29%[36;8H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;9Hvfs_bootstrap();[37;84H[K[37;84H76,1-8[8C30%[36;8H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;9Hdev_bootstrap();[37;84H[K[37;84H77,1-8[8C31%[36;8H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;9Hvm_bootstrap();[37;84H[K[37;84H78,1-8[8C32%[36;8H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;9Hkprintf_bootstrap();[37;84H[K[37;84H79,1-8[8C32%[36;8H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[37;84H[K[37;84H80,0-1[8C33%[36;1H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;9H[96m/* Default bootfs - but ignore failure, in case emu0 doesn't exist */[m[37;84H[K[37;84H81,1-8[8C34%[36;8H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;9Hvfs_setbootfs([95m"emu0"[m);[37;84H[K[37;84H82,1-8[8C35%[36;8H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[37;84H[K[37;84H83,0-1[8C35%[36;1H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[37;84H[K[37;84H84,0-1[8C36%[36;1H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;9H[96m/*[m[37;84H[K[37;84H85,1-8[8C37%[36;8H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H[96m         * Make sure various things aren't screwed up.[m[37;84H[K[37;84H86,1-8[8C38%[36;8H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H[96m         */[m[37;84H[K[37;84H87,1-8[8C38%[36;8H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;9Hassert([93msizeof[m(userptr_t)==[93msizeof[m([38;5;121mchar[m *));[37;84H[K[37;84H88,1-8[8C39%[36;8H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;9Hassert([93msizeof[m(*(userptr_t)[95m0[m)==[93msizeof[m([38;5;121mchar[m));[37;84H[K[37;84H89,1-8[8C40%[36;8H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H}[37;84H[K[37;84H90,1[10C41%[36;1H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[37;84H[K[37;84H91,0-1[8C41%[36;1H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H[96m/*[m[37;84H[K[37;84H92,1[10C42%[36;1H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H[96m * Shutdown sequence. Opposite to boot().[m[37;84H[K[37;84H93,1[10C43%[36;1H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H[96m */[m[37;84H[K[37;84H94,1[10C44%[36;1H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H[38;5;121mstatic[m[37;84H[K[37;84H95,1[10C45%[36;1H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H[38;5;121mvoid[m[37;84H[K[37;84H96,1[10C45%[36;1H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1Hshutdown([38;5;121mvoid[m)[37;84H[K[37;84H97,1[10C46%[36;1H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H{[37;84H[K[37;84H98,1[10C47%[36;1H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[37;84H[K[37;84H99,0-1[8C48%[36;1H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;9Hkprintf([95m"Shutting down.[m[38;5;224m\n[m[95m"[m);[37;84H[K[37;84H100,1-8[7C48%[36;8H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[37;84H[K[37;84H101,1-8[7C49%[36;8H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;9Hvfs_clearbootfs();[37;84H[K[37;84H102,1-8[7C50%[36;8H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;9Hvfs_clearcurdir();[37;84H[K[37;84H103,1-8[7C51%[36;8H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;9Hvfs_unmountall();[37;84H[K[37;84H104,1-8[7C51%[36;8H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[37;84H[K[37;84H105,0-1[7C52%[36;1H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;9Hsplhigh();[37;84H[K[37;84H106,1-8[7C53%[36;8H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[37;84H[K[37;84H107,0-1[7C54%[36;1H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;9Hscheduler_shutdown();[37;84H[K[37;84H108,1-8[7C54%[36;8H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;9Hthread_shutdown();[37;84H[K[37;84H109,1-8[7C55%[36;8H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[24;1H[46m{[36;1H}[m[37;84H[K[37;84H110,1[9C56%[36;1H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[23;1H{[35;1H}[37;84H[K[37;84H111,0-1[7C57%[36;1H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H[96m/*****************************************/[m[37;84H[K[37;84H112,1[9C58%[36;1H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[37;84H[K[37;84H113,0-1[7C58%[36;1H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H[96m/*[m[37;84H[K[37;84H114,1[9C59%[36;1H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H[96m * reboot() system call.[m[37;84H[K[37;84H115,1[9C60%[36;1H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H[96m *[m[37;84H[K[37;84H116,1[9C61%[36;1H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H[96m * Note: this is here because it's directly related to the code above,[m[37;84H[K[37;84H117,1[9C61%[36;1H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H[96m * not because this is where system call code should go. Other syscall[m[37;84H[K[37;84H118,1[9C62%[36;1H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H[96m * code should probably live in the "userprog" directory.[m[37;84H[K[37;84H119,1[9C63%[36;1H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H[96m */[m[37;84H[K[37;84H120,1[9C64%[36;1H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H[38;5;121mint[m[37;84H[K[37;84H121,1[9C64%[36;1H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1Hsys_reboot([38;5;121mint[m code)[37;84H[K[37;84H122,1[9C65%[36;1H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H{[37;84H[K[37;84H123,1[9C66%[36;1H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;9H[93mswitch[m (code) {[37;84H[K[37;84H124,1-8[7C67%[36;8H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;13H[93mcase[m RB_REBOOT:[37;84H[K[37;84H125,1-8[7C67%[36;8H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;13H[93mcase[m RB_HALT:[37;84H[K[37;84H126,1-8[7C68%[36;8H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;13H[93mcase[m RB_POWEROFF:[37;84H[K[37;84H127,1-8[7C69%[36;8H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;17H[93mbreak[m;[37;84H[K[37;84H128,1-8[7C70%[36;8H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;13H[93mdefault[m:[37;84H[K[37;84H129,1-8[7C70%[36;8H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;17H[93mreturn[m [95mEINVAL[m;[37;84H[K[37;84H130,1-8[7C71%[36;8H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;9H}[37;84H[K[37;84H131,1-8[7C72%[36;8H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[37;84H[K[37;84H132,0-1[7C73%[36;1H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;9Hshutdown();[37;84H[K[37;84H133,1-8[7C74%[36;8H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[37;84H[K[37;84H134,0-1[7C74%[36;1H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;9H[93mswitch[m (code) {[37;84H[K[37;84H135,1-8[7C75%[36;8H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;13H[93mcase[m RB_HALT:[37;84H[K[37;84H136,1-8[7C76%[36;8H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;17Hkprintf([95m"The system is halted.[m[38;5;224m\n[m[95m"[m);[37;84H[K[37;84H137,1-8[7C77%[36;8H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;17Hmd_halt();[37;84H[K[37;84H138,1-8[7C77%[36;8H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;17H[93mbreak[m;[37;84H[K[37;84H139,1-8[7C78%[36;8H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;13H[93mcase[m RB_REBOOT:[37;84H[K[37;84H140,1-8[7C79%[36;8H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;17Hkprintf([95m"Rebooting...[m[38;5;224m\n[m[95m"[m);[37;84H[K[37;84H141,1-8[7C80%[36;8H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;17Hmd_reboot();[37;84H[K[37;84H142,1-8[7C80%[36;8H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;17H[93mbreak[m;[37;84H[K[37;84H143,1-8[7C81%[36;8H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;13H[93mcase[m RB_POWEROFF:[37;84H[K[37;84H144,1-8[7C82%[36;8H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;17Hkprintf([95m"The system is halted.[m[38;5;224m\n[m[95m"[m);[37;84H[K[37;84H145,1-8[7C83%[36;8H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;17Hmd_poweroff();[37;84H[K[37;84H146,1-8[7C83%[36;8H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;17H[93mbreak[m;[37;84H[K[37;84H147,1-8[7C84%[36;8H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;9H}[37;84H[K[37;84H148,1-8[7C85%[36;8H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[37;84H[K[37;84H149,0-1[7C86%[36;1H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;9Hpanic([95m"reboot operation failed[m[38;5;224m\n[m[95m"[m);[37;84H[K[37;84H150,1-8[7C87%[36;8H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;9H[93mreturn[m [95m0[m;[37;84H[K[37;84H151,1-8[7C87%[36;8H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[7;1H[46m{[36;1H}[m[37;84H[K[37;84H152,1[9C88%[36;1H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[6;1H{[35;1H}[37;84H[K[37;84H153,0-1[7C89%[36;1H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H[96m/*[m[37;84H[K[37;84H154,1[9C90%[36;1H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H[96m * Kernel main. Boot up, then fork the menu thread; wait for a reboot[m[37;84H[K[37;84H155,1[9C90%[36;1H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H[96m * request, and then shut down.[m[37;84H[K[37;84H156,1[9C91%[36;1H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H[96m */[m[37;84H[K[37;84H157,1[9C92%[36;1H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H[38;5;121mint[m[37;84H[K[37;84H158,1[9C93%[36;1H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1Hkmain([38;5;121mchar[m *arguments)[37;84H[K[37;84H159,1[9C93%[36;1H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H{[37;84H[K[37;84H160,1[9C94%[36;1H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;9Hboot();[37;84H[K[37;84H161,1-8[7C95%[36;8H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[37;84H[K[37;84H162,0-1[7C96%[36;1H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;9Hmenu(arguments);[37;84H[K[37;84H163,1-8[7C96%[36;8H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[37;84H[K[37;84H164,0-1[7C97%[36;1H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;9H[96m/* Should not get here */[m[37;84H[K[37;84H165,1-8[7C98%[36;8H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;9H[93mreturn[m [95m0[m;[37;84H[K[37;84H166,1-8[7C99%[36;8H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[29;1H[46m{[36;1H}[m[37;84H[K[37;84H167,1[9CBot[36;1H[?12l[?25h[?25l
Type  :quit<Enter>  to exit Vim[37;84H[K[37;84H167,1[9CBot[36;1H[?12l[?25h[?25l[37;84H[K[37;84H167,1[9CBot[36;1H[?12l[?25h[?25l[37;1H[K[37;1H:[?12l[?25hq[?25l[?12l[?25hy[?25l[?12l[?25h[?25l[37;3H[K[37;3H[?12l[?25hu[?25l[?12l[?25hi[?25l[?12l[?25ht[?25l[?12l[?25h[?25l[37;1H[K[37;1H[?1l>[?12l[?25h[?1049lbash-4.2$ git status
# On branch master
# Your branch is ahead of 'origin/master' by 1 commit.
#   (use "git push" to publish your local commits)
#
# Changes not staged for commit:
#   (use "git add <file>..." to update what will be committed)
#   (use "git checkout -- <file>..." to discard changes in working directory)
#
#	modified:   ../../bin/cat/depend.mk
#	modified:   ../../bin/cp/depend.mk
#	modified:   ../../bin/false/depend.mk
#	modified:   ../../bin/ln/depend.mk
#	modified:   ../../bin/ls/depend.mk
#	modified:   ../../bin/mkdir/depend.mk
#	modified:   ../../bin/mv/depend.mk
#	modified:   ../../bin/pwd/depend.mk
#	modified:   ../../bin/rm/depend.mk
#	modified:   ../../bin/rmdir/depend.mk
#	modified:   ../../bin/sh/depend.mk
#	modified:   ../../bin/sh/dependh.mk
#	modified:   ../../bin/sync/depend.mk
#	modified:   ../../bin/true/depend.mk
#	modified:   ../conf/conf.kern
#	modified:   hello.c
#	modified:   ../../lib/hostcompat/dependh.mk
#	modified:   ../../lib/libc/depend.mk
#	modified:   ../../sbin/dumpsfs/depend.mk
#	modified:   ../../sbin/dumpsfs/dependh.mk
#	modified:   ../../sbin/halt/depend.mk
#	modified:   ../../sbin/mksfs/depend.mk
#	modified:   ../../sbin/mksfs/dependh.mk
#	modified:   ../../sbin/poweroff/depend.mk
#	modified:   ../../sbin/reboot/depend.mk
#	modified:   ../../testbin/add/depend.mk
#	modified:   ../../testbin/argtest/depend.mk
#	modified:   ../../testbin/badcall/depend.mk
#	modified:   ../../testbin/bigfile/depend.mk
#	modified:   ../../testbin/conman/depend.mk
#	modified:   ../../testbin/crash/depend.mk
#	modified:   ../../testbin/ctest/depend.mk
#	modified:   ../../testbin/dirconc/depend.mk
#	modified:   ../../testbin/dirseek/depend.mk
#	modified:   ../../testbin/dirtest/depend.mk
#	modified:   ../../testbin/f_test/depend.mk
#	modified:   ../../testbin/farm/depend.mk
#	modified:   ../../testbin/faulter/depend.mk
#	modified:   ../../testbin/filetest/depend.mk
#	modified:   ../../testbin/forkbomb/depend.mk
#	modified:   ../../testbin/forktest/depend.mk
#	modified:   ../../testbin/guzzle/depend.mk
#	modified:   ../../testbin/hash/depend.mk
#	modified:   ../../testbin/hash/dependh.mk
#	modified:   ../../testbin/hog/depend.mk
#	modified:   ../../testbin/huge/depend.mk
#	modified:   ../../testbin/kitchen/depend.mk
#	modified:   ../../testbin/matmult/depend.mk
#	modified:   ../../testbin/palin/depend.mk
#	modified:   ../../testbin/parallelvm/depend.mk
#	modified:   ../../testbin/randcall/depend.mk
#	modified:   ../../testbin/rmdirtest/depend.mk
#	modified:   ../../testbin/rmtest/depend.mk
#	modified:   ../../testbin/sink/depend.mk
#	modified:   ../../testbin/sort/depend.mk
#	modified:   ../../testbin/sty/depend.mk
#	modified:   ../../testbin/tail/depend.mk
#	modified:   ../../testbin/tictac/depend.mk
#	modified:   ../../testbin/triplehuge/depend.mk
#	modified:   ../../testbin/triplemat/depend.mk
#	modified:   ../../testbin/triplesort/depend.mk
#
# Untracked files:
#   (use "git add <file>..." to include in what will be committed)
#
#	../../bin/cat/cat
#	../../bin/cat/cat.o
#	../../bin/cp/cp
#	../../bin/cp/cp.o
#	../../bin/false/false
#	../../bin/false/false.o
#	../../bin/ln/ln
#	../../bin/ln/ln.o
#	../../bin/ls/ls
#	../../bin/ls/ls.o
#	../../bin/mkdir/mkdir
#	../../bin/mkdir/mkdir.o
#	../../bin/mv/mv
#	../../bin/mv/mv.o
#	../../bin/pwd/pwd
#	../../bin/pwd/pwd.o
#	../../bin/rm/rm
#	../../bin/rm/rm.o
#	../../bin/rmdir/rmdir
#	../../bin/rmdir/rmdir.o
#	../../bin/sh/host-sh
#	../../bin/sh/sh
#	../../bin/sh/sh.ho
#	../../bin/sh/sh.o
#	../../bin/sync/sync
#	../../bin/sync/sync.o
#	../../bin/true/true
#	../../bin/true/true.o
#	../../defs.mk
#	../../git-use.script
#	../compile/ASST0/
#	../include/hello.h
#	../../lib/crt0/crt0.o
#	../../lib/hostcompat/err.ho
#	../../lib/hostcompat/hostcompat.ho
#	../../lib/hostcompat/libhostcompat.ha
#	../../lib/hostcompat/time.ho
#	../../lib/libc/__assert.o
#	../../lib/libc/__printf.o
#	../../lib/libc/__puts.o
#	../../lib/libc/abort.o
#	../../lib/libc/atoi.o
#	../../lib/libc/bzero.o
#	../../lib/libc/err.o
#	../../lib/libc/errno.o
#	../../lib/libc/exit.o
#	../../lib/libc/getchar.o
#	../../lib/libc/getcwd.o
#	../../lib/libc/libc.a
#	../../lib/libc/memcmp.o
#	../../lib/libc/memcpy.o
#	../../lib/libc/memmove.o
#	../../lib/libc/memset.o
#	../../lib/libc/mips-setjmp.o
#	../../lib/libc/printf.o
#	../../lib/libc/putchar.o
#	../../lib/libc/puts.o
#	../../lib/libc/random.o
#	../../lib/libc/snprintf.o
#	../../lib/libc/strcat.o
#	../../lib/libc/strchr.o
#	../../lib/libc/strcmp.o
#	../../lib/libc/strcpy.o
#	../../lib/libc/strerror.o
#	../../lib/libc/strlen.o
#	../../lib/libc/strrchr.o
#	../../lib/libc/strtok.o
#	../../lib/libc/strtok_r.o
#	../../lib/libc/syscalls.S
#	../../lib/libc/syscalls.o
#	../../lib/libc/system.o
#	../../lib/libc/time.o
#	../../sbin/dumpsfs/disk.c
#	../../sbin/dumpsfs/disk.h
#	../../sbin/dumpsfs/disk.ho
#	../../sbin/dumpsfs/disk.o
#	../../sbin/dumpsfs/dumpsfs
#	../../sbin/dumpsfs/dumpsfs.ho
#	../../sbin/dumpsfs/dumpsfs.o
#	../../sbin/dumpsfs/host-dumpsfs
#	../../sbin/dumpsfs/support.c
#	../../sbin/dumpsfs/support.h
#	../../sbin/dumpsfs/support.ho
#	../../sbin/dumpsfs/support.o
#	../../sbin/halt/halt
#	../../sbin/halt/halt.o
#	../../sbin/mksfs/disk.ho
#	../../sbin/mksfs/disk.o
#	../../sbin/mksfs/host-mksfs
#	../../sbin/mksfs/mksfs
#	../../sbin/mksfs/mksfs.ho
#	../../sbin/mksfs/mksfs.o
#	../../sbin/mksfs/support.ho
#	../../sbin/mksfs/support.o
#	../../sbin/poweroff/poweroff
#	../../sbin/poweroff/poweroff.o
#	../../sbin/reboot/reboot
#	../../sbin/reboot/reboot.o
#	../../testbin/add/add
#	../../testbin/add/add.o
#	../../testbin/argtest/argtest
#	../../testbin/argtest/argtest.o
#	../../testbin/badcall/bad_chdir.o
#	../../testbin/badcall/bad_close.o
#	../../testbin/badcall/bad_dup2.o
#	../../testbin/badcall/bad_execv.o
#	../../testbin/badcall/bad_fsync.o
#	../../testbin/badcall/bad_ftruncate.o
#	../../testbin/badcall/bad_getcwd.o
#	../../testbin/badcall/bad_getdirentry.o
#	../../testbin/badcall/bad_ioctl.o
#	../../testbin/badcall/bad_link.o
#	../../testbin/badcall/bad_lseek.o
#	../../testbin/badcall/bad_mkdir.o
#	../../testbin/badcall/bad_open.o
#	../../testbin/badcall/bad_pipe.o
#	../../testbin/badcall/bad_read.o
#	../../testbin/badcall/bad_readlink.o
#	../../testbin/badcall/bad_reboot.o
#	../../testbin/badcall/bad_remove.o
#	../../testbin/badcall/bad_rename.o
#	../../testbin/badcall/bad_rmdir.o
#	../../testbin/badcall/bad_sbrk.o
#	../../testbin/badcall/bad_stat.o
#	../../testbin/badcall/bad_symlink.o
#	../../testbin/badcall/bad_time.o
#	../../testbin/badcall/bad_waitpid.o
#	../../testbin/badcall/bad_write.o
#	../../testbin/badcall/badcall
#	../../testbin/badcall/common_buf.o
#	../../testbin/badcall/common_fds.o
#	../../testbin/badcall/common_path.o
#	../../testbin/badcall/driver.o
#	../../testbin/bigfile/bigfile
#	../../testbin/bigfile/bigfile.o
#	../../testbin/conman/conman
#	../../testbin/conman/conman.o
#	../../testbin/crash/crash
#	../../testbin/crash/crash.o
#	../../testbin/ctest/ctest
#	../../testbin/ctest/ctest.o
#	../../testbin/dirconc/dirconc
#	../../testbin/dirconc/dirconc.o
#	../../testbin/dirseek/dirseek
#	../../testbin/dirseek/dirseek.o
#	../../testbin/dirtest/dirtest
#	../../testbin/dirtest/dirtest.o
#	../../testbin/f_test/f_read.o
#	../../testbin/f_test/f_test
#	../../testbin/f_test/f_test.o
#	../../testbin/f_test/f_write.o
#	../../testbin/farm/farm
#	../../testbin/farm/farm.o
#	../../testbin/faulter/faulter
#	../../testbin/faulter/faulter.o
#	../../testbin/filetest/filetest
#	../../testbin/filetest/filetest.o
#	../../testbin/forkbomb/forkbomb
#	../../testbin/forkbomb/forkbomb.o
#	../../testbin/forktest/forktest
#	../../testbin/forktest/forktest.o
#	../../testbin/guzzle/guzzle
#	../../testbin/guzzle/guzzle.o
#	../../testbin/hash/hash
#	../../testbin/hash/hash.ho
#	../../testbin/hash/hash.o
#	../../testbin/hash/host-hash
#	../../testbin/hog/hog
#	../../testbin/hog/hog.o
#	../../testbin/huge/huge
#	../../testbin/huge/huge.o
#	../../testbin/kitchen/kitchen
#	../../testbin/kitchen/kitchen.o
#	../../testbin/matmult/matmult
#	../../testbin/matmult/matmult.o
#	../../testbin/palin/palin
#	../../testbin/palin/palin.o
#	../../testbin/parallelvm/parallelvm
#	../../testbin/parallelvm/parallelvm.o
#	../../testbin/randcall/calls.c
#	../../testbin/randcall/calls.o
#	../../testbin/randcall/main.o
#	../../testbin/randcall/randcall
#	../../testbin/rmdirtest/rmdirtest
#	../../testbin/rmdirtest/rmdirtest.o
#	../../testbin/rmtest/rmtest
#	../../testbin/rmtest/rmtest.o
#	../../testbin/sink/sink
#	../../testbin/sink/sink.o
#	../../testbin/sort/sort
#	../../testbin/sort/sort.o
#	../../testbin/sty/sty
#	../../testbin/sty/sty.o
#	../../testbin/tail/tail
#	../../testbin/tail/tail.o
#	../../testbin/tictac/tictac
#	../../testbin/tictac/tictac.o
#	../../testbin/triplehuge/triple.o
#	../../testbin/triplehuge/triplehuge
#	../../testbin/triplehuge/triplehuge.o
#	../../testbin/triplemat/triple.c
#	../../testbin/triplemat/triple.h
#	../../testbin/triplemat/triple.o
#	../../testbin/triplemat/triplemat
#	../../testbin/triplemat/triplemat.o
#	../../testbin/triplesort/triple.c
#	../../testbin/triplesort/triple.h
#	../../testbin/triplesort/triple.o
#	../../testbin/triplesort/triplesort
#	../../testbin/triplesort/triplesort.o
no changes added to commit (use "git add" and/or "git commit -a")
bash-4.2$ cd [K[K[Kgit status
# On branch master
# Your branch is ahead of 'origin/master' by 1 commit.
#   (use "git push" to publish your local commits)
#
# Changes not staged for commit:
#   (use "git add <file>..." to update what will be committed)
#   (use "git checkout -- <file>..." to discard changes in working directory)
#
#	modified:   ../../bin/cat/depend.mk
#	modified:   ../../bin/cp/depend.mk
#	modified:   ../../bin/false/depend.mk
#	modified:   ../../bin/ln/depend.mk
#	modified:   ../../bin/ls/depend.mk
#	modified:   ../../bin/mkdir/depend.mk
#	modified:   ../../bin/mv/depend.mk
#	modified:   ../../bin/pwd/depend.mk
#	modified:   ../../bin/rm/depend.mk
#	modified:   ../../bin/rmdir/depend.mk
#	modified:   ../../bin/sh/depend.mk
#	modified:   ../../bin/sh/dependh.mk
#	modified:   ../../bin/sync/depend.mk
#	modified:   ../../bin/true/depend.mk
#	modified:   ../conf/conf.kern
#	modified:   hello.c
#	modified:   ../../lib/hostcompat/dependh.mk
#	modified:   ../../lib/libc/depend.mk
#	modified:   ../../sbin/dumpsfs/depend.mk
#	modified:   ../../sbin/dumpsfs/dependh.mk
#	modified:   ../../sbin/halt/depend.mk
#	modified:   ../../sbin/mksfs/depend.mk
#	modified:   ../../sbin/mksfs/dependh.mk
#	modified:   ../../sbin/poweroff/depend.mk
#	modified:   ../../sbin/reboot/depend.mk
#	modified:   ../../testbin/add/depend.mk
#	modified:   ../../testbin/argtest/depend.mk
#	modified:   ../../testbin/badcall/depend.mk
#	modified:   ../../testbin/bigfile/depend.mk
#	modified:   ../../testbin/conman/depend.mk
#	modified:   ../../testbin/crash/depend.mk
#	modified:   ../../testbin/ctest/depend.mk
#	modified:   ../../testbin/dirconc/depend.mk
#	modified:   ../../testbin/dirseek/depend.mk
#	modified:   ../../testbin/dirtest/depend.mk
#	modified:   ../../testbin/f_test/depend.mk
#	modified:   ../../testbin/farm/depend.mk
#	modified:   ../../testbin/faulter/depend.mk
#	modified:   ../../testbin/filetest/depend.mk
#	modified:   ../../testbin/forkbomb/depend.mk
#	modified:   ../../testbin/forktest/depend.mk
#	modified:   ../../testbin/guzzle/depend.mk
#	modified:   ../../testbin/hash/depend.mk
#	modified:   ../../testbin/hash/dependh.mk
#	modified:   ../../testbin/hog/depend.mk
#	modified:   ../../testbin/huge/depend.mk
#	modified:   ../../testbin/kitchen/depend.mk
#	modified:   ../../testbin/matmult/depend.mk
#	modified:   ../../testbin/palin/depend.mk
#	modified:   ../../testbin/parallelvm/depend.mk
#	modified:   ../../testbin/randcall/depend.mk
#	modified:   ../../testbin/rmdirtest/depend.mk
#	modified:   ../../testbin/rmtest/depend.mk
#	modified:   ../../testbin/sink/depend.mk
#	modified:   ../../testbin/sort/depend.mk
#	modified:   ../../testbin/sty/depend.mk
#	modified:   ../../testbin/tail/depend.mk
#	modified:   ../../testbin/tictac/depend.mk
#	modified:   ../../testbin/triplehuge/depend.mk
#	modified:   ../../testbin/triplemat/depend.mk
#	modified:   ../../testbin/triplesort/depend.mk
#
# Untracked files:
#   (use "git add <file>..." to include in what will be committed)
#
#	../../bin/cat/cat
#	../../bin/cat/cat.o
#	../../bin/cp/cp
#	../../bin/cp/cp.o
#	../../bin/false/false
#	../../bin/false/false.o
#	../../bin/ln/ln
#	../../bin/ln/ln.o
#	../../bin/ls/ls
#	../../bin/ls/ls.o
#	../../bin/mkdir/mkdir
#	../../bin/mkdir/mkdir.o
#	../../bin/mv/mv
#	../../bin/mv/mv.o
#	../../bin/pwd/pwd
#	../../bin/pwd/pwd.o
#	../../bin/rm/rm
#	../../bin/rm/rm.o
#	../../bin/rmdir/rmdir
#	../../bin/rmdir/rmdir.o
#	../../bin/sh/host-sh
#	../../bin/sh/sh
#	../../bin/sh/sh.ho
#	../../bin/sh/sh.o
#	../../bin/sync/sync
#	../../bin/sync/sync.o
#	../../bin/true/true
#	../../bin/true/true.o
#	../../defs.mk
#	../../git-use.script
#	../compile/ASST0/
#	../include/hello.h
#	../../lib/crt0/crt0.o
#	../../lib/hostcompat/err.ho
#	../../lib/hostcompat/hostcompat.ho
#	../../lib/hostcompat/libhostcompat.ha
#	../../lib/hostcompat/time.ho
#	../../lib/libc/__assert.o
#	../../lib/libc/__printf.o
#	../../lib/libc/__puts.o
#	../../lib/libc/abort.o
#	../../lib/libc/atoi.o
#	../../lib/libc/bzero.o
#	../../lib/libc/err.o
#	../../lib/libc/errno.o
#	../../lib/libc/exit.o
#	../../lib/libc/getchar.o
#	../../lib/libc/getcwd.o
#	../../lib/libc/libc.a
#	../../lib/libc/memcmp.o
#	../../lib/libc/memcpy.o
#	../../lib/libc/memmove.o
#	../../lib/libc/memset.o
#	../../lib/libc/mips-setjmp.o
#	../../lib/libc/printf.o
#	../../lib/libc/putchar.o
#	../../lib/libc/puts.o
#	../../lib/libc/random.o
#	../../lib/libc/snprintf.o
#	../../lib/libc/strcat.o
#	../../lib/libc/strchr.o
#	../../lib/libc/strcmp.o
#	../../lib/libc/strcpy.o
#	../../lib/libc/strerror.o
#	../../lib/libc/strlen.o
#	../../lib/libc/strrchr.o
#	../../lib/libc/strtok.o
#	../../lib/libc/strtok_r.o
#	../../lib/libc/syscalls.S
#	../../lib/libc/syscalls.o
#	../../lib/libc/system.o
#	../../lib/libc/time.o
#	../../sbin/dumpsfs/disk.c
#	../../sbin/dumpsfs/disk.h
#	../../sbin/dumpsfs/disk.ho
#	../../sbin/dumpsfs/disk.o
#	../../sbin/dumpsfs/dumpsfs
#	../../sbin/dumpsfs/dumpsfs.ho
#	../../sbin/dumpsfs/dumpsfs.o
#	../../sbin/dumpsfs/host-dumpsfs
#	../../sbin/dumpsfs/support.c
#	../../sbin/dumpsfs/support.h
#	../../sbin/dumpsfs/support.ho
#	../../sbin/dumpsfs/support.o
#	../../sbin/halt/halt
#	../../sbin/halt/halt.o
#	../../sbin/mksfs/disk.ho
#	../../sbin/mksfs/disk.o
#	../../sbin/mksfs/host-mksfs
#	../../sbin/mksfs/mksfs
#	../../sbin/mksfs/mksfs.ho
#	../../sbin/mksfs/mksfs.o
#	../../sbin/mksfs/support.ho
#	../../sbin/mksfs/support.o
#	../../sbin/poweroff/poweroff
#	../../sbin/poweroff/poweroff.o
#	../../sbin/reboot/reboot
#	../../sbin/reboot/reboot.o
#	../../testbin/add/add
#	../../testbin/add/add.o
#	../../testbin/argtest/argtest
#	../../testbin/argtest/argtest.o
#	../../testbin/badcall/bad_chdir.o
#	../../testbin/badcall/bad_close.o
#	../../testbin/badcall/bad_dup2.o
#	../../testbin/badcall/bad_execv.o
#	../../testbin/badcall/bad_fsync.o
#	../../testbin/badcall/bad_ftruncate.o
#	../../testbin/badcall/bad_getcwd.o
#	../../testbin/badcall/bad_getdirentry.o
#	../../testbin/badcall/bad_ioctl.o
#	../../testbin/badcall/bad_link.o
#	../../testbin/badcall/bad_lseek.o
#	../../testbin/badcall/bad_mkdir.o
#	../../testbin/badcall/bad_open.o
#	../../testbin/badcall/bad_pipe.o
#	../../testbin/badcall/bad_read.o
#	../../testbin/badcall/bad_readlink.o
#	../../testbin/badcall/bad_reboot.o
#	../../testbin/badcall/bad_remove.o
#	../../testbin/badcall/bad_rename.o
#	../../testbin/badcall/bad_rmdir.o
#	../../testbin/badcall/bad_sbrk.o
#	../../testbin/badcall/bad_stat.o
#	../../testbin/badcall/bad_symlink.o
#	../../testbin/badcall/bad_time.o
#	../../testbin/badcall/bad_waitpid.o
#	../../testbin/badcall/bad_write.o
#	../../testbin/badcall/badcall
#	../../testbin/badcall/common_buf.o
#	../../testbin/badcall/common_fds.o
#	../../testbin/badcall/common_path.o
#	../../testbin/badcall/driver.o
#	../../testbin/bigfile/bigfile
#	../../testbin/bigfile/bigfile.o
#	../../testbin/conman/conman
#	../../testbin/conman/conman.o
#	../../testbin/crash/crash
#	../../testbin/crash/crash.o
#	../../testbin/ctest/ctest
#	../../testbin/ctest/ctest.o
#	../../testbin/dirconc/dirconc
#	../../testbin/dirconc/dirconc.o
#	../../testbin/dirseek/dirseek
#	../../testbin/dirseek/dirseek.o
#	../../testbin/dirtest/dirtest
#	../../testbin/dirtest/dirtest.o
#	../../testbin/f_test/f_read.o
#	../../testbin/f_test/f_test
#	../../testbin/f_test/f_test.o
#	../../testbin/f_test/f_write.o
#	../../testbin/farm/farm
#	../../testbin/farm/farm.o
#	../../testbin/faulter/faulter
#	../../testbin/faulter/faulter.o
#	../../testbin/filetest/filetest
#	../../testbin/filetest/filetest.o
#	../../testbin/forkbomb/forkbomb
#	../../testbin/forkbomb/forkbomb.o
#	../../testbin/forktest/forktest
#	../../testbin/forktest/forktest.o
#	../../testbin/guzzle/guzzle
#	../../testbin/guzzle/guzzle.o
#	../../testbin/hash/hash
#	../../testbin/hash/hash.ho
#	../../testbin/hash/hash.o
#	../../testbin/hash/host-hash
#	../../testbin/hog/hog
#	../../testbin/hog/hog.o
#	../../testbin/huge/huge
#	../../testbin/huge/huge.o
#	../../testbin/kitchen/kitchen
#	../../testbin/kitchen/kitchen.o
#	../../testbin/matmult/matmult
#	../../testbin/matmult/matmult.o
#	../../testbin/palin/palin
#	../../testbin/palin/palin.o
#	../../testbin/parallelvm/parallelvm
#	../../testbin/parallelvm/parallelvm.o
#	../../testbin/randcall/calls.c
#	../../testbin/randcall/calls.o
#	../../testbin/randcall/main.o
#	../../testbin/randcall/randcall
#	../../testbin/rmdirtest/rmdirtest
#	../../testbin/rmdirtest/rmdirtest.o
#	../../testbin/rmtest/rmtest
#	../../testbin/rmtest/rmtest.o
#	../../testbin/sink/sink
#	../../testbin/sink/sink.o
#	../../testbin/sort/sort
#	../../testbin/sort/sort.o
#	../../testbin/sty/sty
#	../../testbin/sty/sty.o
#	../../testbin/tail/tail
#	../../testbin/tail/tail.o
#	../../testbin/tictac/tictac
#	../../testbin/tictac/tictac.o
#	../../testbin/triplehuge/triple.o
#	../../testbin/triplehuge/triplehuge
#	../../testbin/triplehuge/triplehuge.o
#	../../testbin/triplemat/triple.c
#	../../testbin/triplemat/triple.h
#	../../testbin/triplemat/triple.o
#	../../testbin/triplemat/triplemat
#	../../testbin/triplemat/triplemat.o
#	../../testbin/triplesort/triple.c
#	../../testbin/triplesort/triple.h
#	../../testbin/triplesort/triple.o
#	../../testbin/triplesort/triplesort
#	../../testbin/triplesort/triplesort.o
no changes added to commit (use "git add" and/or "git commit -a")
bash-4.2$ git [K[K[K[Kls
hello.c  main.c  menu.c
bash-4.2$ vi hello.c
[?1049h[?1h=[1;37r[?12;25h[?12l[?25h[27m[m[H[2J[?25l[37;1H"hello.c" 4L, 41C[1;1Hhello() {[2;9Hkprintf("Hello World!\n");
}

[94m~                                                                                                    [6;1H~                                                                                                    [7;1H~                                                                                                    [8;1H~                                                                                                    [9;1H~                                                                                                    [10;1H~                                                                                                    [11;1H~                                                                                                    [12;1H~                                                                                                    [13;1H~                                                                                                    [14;1H~                                                                                                    [15;1H~                                                                                                    [16;1H~                                                                                                    [17;1H~                                                                                                    [18;1H~                                                                                                    [19;1H~                                                                                                    [20;1H~                                                                                                    [21;1H~                                                                                                    [22;1H~                                                                                                    [23;1H~                                                                                                    [24;1H~                                                                                                    [25;1H~                                                                                                    [26;1H~                                                                                                    [27;1H~                                                                                                    [28;1H~                                                                                                    [29;1H~                                                                                                    [30;1H~                                                                                                    [31;1H~                                                                                                    [32;1H~                                                                                                    [33;1H~                                                                                                    [34;1H~                                                                                                    [35;1H~                                                                                                    [36;1H~                                                                                                    [1;1H[?12l[?25h[?25l[m[37;1HType  :quit<Enter>  to exit Vim[1;1H[?12l[?25h[?25l[37;1H[K[37;1H:[?12l[?25hquit[?25l[37;1H[K[37;1H[?1l>[?12l[?25h[?1049lbash-4.2$ vi h[Ka[K[K main.c
[?1049h[?1h=[1;37r[?12;25h[?12l[?25h[27m[m[H[2J[?25l[37;1H"main.c" 167L, 3533C[1;1H/*
 * Main.
 */

#include <types.h>
#include <kern/errno.h>
#include <kern/unistd.h>
#include <lib.h>
#include <machine/spl.h>
#include <test.h>
#include <synch.h>
#include <thread.h>
#include <scheduler.h>
#include <dev.h>
#include <vfs.h>
#include <vm.h>
#include <syscall.h>
#include <version.h>

/*
 * These two pieces of data are maintained by the makefiles and build system.
 * buildconfig is the name of the config file the kernel was configured with.
 * buildversion starts at 1 and is incremented every time you link a kernel.
 *
 * The purpose is not to show off how many kernels you've linked, but
 * to make it easy to make sure that the kernel you just booted is the
 * same one you just built.
 */
extern const int buildversion;
extern const char buildconfig[];

/*
 * Copyright message for the OS/161 base code.
 */
static const char harvard_copyright[] =
    "Copyright (c) 2000, 2001, 2002, 2003\n"[1;1H[?12l[?25h


































[?25l[1;36r[36;1H
[1;37r[36;5H"   President and Fellows of Harvard College.  All rights reserved.\n";[37;1H[K[36;1H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H/*[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;2H* Initial boot sequence.[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;2H*/[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1Hstatic[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1Hvoid[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1Hboot(void)[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H{[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;9H/*[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;10H* The order of these is important![36;8H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;10H* Don't go changing it without thinking about the consequences.[36;8H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;10H*[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;10H* Among other things, be aware that console output gets[36;8H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;10H* buffered up at first and does not actually appear until[36;8H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;10H* dev_bootstrap() attaches the console device. This can be[36;8H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;10H* remarkably confusing if a bug occurs at this point. So[36;8H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;10H* don't put new code before dev_bootstrap if you don't[36;8H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;10H* absolutely have to.[36;8H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;10H*[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;10H* Also note that the buffer for this is only 1k. If you[36;8H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;10H* overflow it, the system will crash without printing[36;8H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;10H* anything at all. You can make it larger though (it's in[36;8H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;10H* dev/generic/console.c).[36;8H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;10H*/[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;9Hkprintf("\n");[36;8H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;9Hkprintf("OS/161 base system version %s\n", BASE_VERSION);[36;8H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;9Hkprintf("%s", harvard_copyright);[36;8H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;9Hkprintf("\n");[36;8H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;9Hkprintf("Put-your-group-name-here's system version %s (%s #%d)\n",[36;8H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;17HGROUP_VERSION, buildconfig, buildversion);[36;8H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;9Hkprintf("\n");[36;8H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;9Hram_bootstrap();[36;8H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;9Hscheduler_bootstrap();[36;8H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;9Hthread_bootstrap();[36;8H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;9Hvfs_bootstrap();[36;8H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;9Hdev_bootstrap();[36;8H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;9Hvm_bootstrap();[36;8H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;9Hkprintf_bootstrap();[36;8H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;9H/* Default bootfs - but ignore failure, in case emu0 doesn't exist */[36;8H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;9Hvfs_setbootfs("emu0");[36;8H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;9H/*[?12l[?25h[35;1H[34;1H[33;8H[32;8H[31;1H[30;8H[29;8H[28;8H[27;8H[26;8H[25;8H[24;8H[23;1H[22;8H[21;8H[20;8H[19;1H[18;8H[17;8H[16;8H[15;8H[14;1H[13;8H
[15;8H[16;8H[15;8H[14;1H[13;8H[12;8H[11;8H[10;8H[9;8H[8;8H[7;8H[6;8H[5;8H[4;8H[3;8H[2;8H[1;8H[?25l[1;36r[1;1H[L[1;37r[1;10H* Don't go changing it without thinking about the consequences.[1;8H[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;10H* The order of these is important![1;8H[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;9H/*[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;1H{[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;1Hboot(void)[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;1Hvoid[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;1Hstatic[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;2H*/[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;2H* Initial boot sequence.[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;1H/*[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;1H[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;1H[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;5H"   President and Fellows of Harvard College.  All rights reserved.\n";[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;5H"Copyright (c) 2000, 2001, 2002, 2003\n"[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;1Hstatic const char harvard_copyright[] =[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;2H*/[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;2H* Copyright message for the OS/161 base code.[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;1H/*[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;1H[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;1Hextern const char buildconfig[];[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;1Hextern const int buildversion;[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;2H*/[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;2H* same one you just built.[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;2H* to make it easy to make sure that the kernel you just booted is the[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;2H* The purpose is not to show off how many kernels you've linked, but[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;2H*[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;2H* buildversion starts at 1 and is incremented every time you link a kernel.[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;2H* buildconfig is the name of the config file the kernel was configured with.[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;2H* These two pieces of data are maintained by the makefiles and build system.[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;1H/*[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;1H[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;1H#include <version.h>[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;1H#include <syscall.h>[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;1H#include <vm.h>[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;1H#include <vfs.h>[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;1H#include <dev.h>[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;1H#include <scheduler.h>[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;1H#include <thread.h>[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;1H#include <synch.h>[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;1H#include <test.h>[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;1H#include <machine/spl.h>[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;1H#include <lib.h>[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;1H#include <kern/unistd.h>[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;1H#include <kern/errno.h>[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;1H#include <types.h>[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;1H[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;2H*/[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;2H* Main.[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;1H/*[?12l[?25h


[?25l[37;1HType  :quit<Enter>  to exit Vim[4;1H[?12l[?25h[?25l[37;1H[K[37;1H:[?12l[?25hset number[?25l[1;1H[38;5;130m      1 [m/*
[38;5;130m      2 [m * Main.
[38;5;130m      3 [m */
[38;5;130m      4 
      5 [m#include <types.h>
[38;5;130m      6 [m#include <kern/errno.h>
[38;5;130m      7 [m#include <kern/unistd.h>
[38;5;130m      8 [m#include <lib.h>
[38;5;130m      9 [m#include <machine/spl.h>
[38;5;130m     10 [m#include <test.h>
[38;5;130m     11 [m#include <synch.h>
[38;5;130m     12 [m#include <thread.h>
[38;5;130m     13 [m#include <scheduler.h>
[38;5;130m     14 [m#include <dev.h>
[38;5;130m     15 [m#include <vfs.h>
[38;5;130m     16 [m#include <vm.h>
[38;5;130m     17 [m#include <syscall.h>
[38;5;130m     18 [m#include <version.h>
[38;5;130m     19 
     20 [m/*
[38;5;130m     21 [m * These two pieces of data are maintained by the makefiles and build system.
[38;5;130m     22 [m * buildconfig is the name of the config file the kernel was configured with.
[38;5;130m     23 [m * buildversion starts at 1 and is incremented every time you link a kernel.
[38;5;130m     24 [m *
[38;5;130m     25 [m * The purpose is not to show off how many kernels you've linked, but
[38;5;130m     26 [m * to make it easy to make sure that the kernel you just booted is the
[38;5;130m     27 [m * same one you just built.
[38;5;130m     28 [m */
[38;5;130m     29 [mextern const int buildversion;
[38;5;130m     30 [mextern const char buildconfig[];
[38;5;130m     31 
     32 [m/*
[38;5;130m     33 [m * Copyright message for the OS/161 base code.
[38;5;130m     34 [m */
[38;5;130m     35 [mstatic const char harvard_copyright[] =
[38;5;130m     36 [m    "Copyright (c) 2000, 2001, 2002, 2003\n"[4;9H[?12l[?25h[5;9H[6;9H[7;9H[8;9H[9;9H[10;9H[11;9H[12;9H[13;9H[14;9H[15;9H[16;9H[17;9H[18;9H[19;9H[20;9H[21;9H[22;9H[23;9H[24;9H[25;9H[26;9H[27;9H[28;9H[29;9H[30;9H[31;9H[32;9H[33;9H[34;9H[35;9H[36;9H[?25l[1;36r[36;1H
[1;37r[36;1H[38;5;130m     37 [m    "   President and Fellows of Harvard College.  All rights reserved.\n";[37;1H[K[36;9H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H[38;5;130m     38 [?12l[?25h[?25l[1;36r[m[36;1H
[1;37r[36;1H[38;5;130m     39 [?12l[?25h[?25l[1;36r[m[36;1H
[1;37r[36;1H[38;5;130m     40 [m/*[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H[38;5;130m     41 [m * Initial boot sequence.[36;9H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H[38;5;130m     42 [m */[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H[38;5;130m     43 [mstatic[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H[38;5;130m     44 [mvoid[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H[38;5;130m     45 [mboot(void)[36;9H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H[38;5;130m     46 [m{[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H[38;5;130m     47 [m[8C/*[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H[38;5;130m     48 [m[9C* The order of these is important![36;16H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H[38;5;130m     49 [m[9C* Don't go changing it without thinking about the consequences.[36;16H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H[38;5;130m     50 [m[9C*[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H[38;5;130m     51 [m[9C* Among other things, be aware that console output gets[36;16H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H[38;5;130m     52 [m[9C* buffered up at first and does not actually appear until[36;16H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H[38;5;130m     53 [m[9C* dev_bootstrap() attaches the console device. This can be[36;16H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H[38;5;130m     54 [m[9C* remarkably confusing if a bug occurs at this point. So[36;16H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H[38;5;130m     55 [m[9C* don't put new code before dev_bootstrap if you don't[36;16H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H[38;5;130m     56 [m[9C* absolutely have to.[36;16H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H[38;5;130m     57 [m[9C*[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H[38;5;130m     58 [m[9C* Also note that the buffer for this is only 1k. If you[36;16H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H[38;5;130m     59 [m[9C* overflow it, the system will crash without printing[36;16H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H[38;5;130m     60 [m[9C* anything at all. You can make it larger though (it's in[36;16H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H[38;5;130m     61 [m[9C* dev/generic/console.c).[36;16H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H[38;5;130m     62 [m[9C*/[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H[38;5;130m     63 [?12l[?25h[?25l[1;36r[m[36;1H
[1;37r[36;1H[38;5;130m     64 [m[8Ckprintf("\n");[36;16H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H[38;5;130m     65 [m[8Ckprintf("OS/161 base system version %s\n", BASE_VERSION);[36;16H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H[38;5;130m     66 [m[8Ckprintf("%s", harvard_copyright);[36;16H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H[38;5;130m     67 [m[8Ckprintf("\n");[36;16H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H[38;5;130m     68 [?12l[?25h[?25l[1;36r[m[36;1H
[1;37r[36;1H[38;5;130m     69 [m[8Ckprintf("Put-your-group-name-here's system version %s (%s #%d)\n",[36;16H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H[38;5;130m     70 [m[16CGROUP_VERSION, buildconfig, buildversion);[36;16H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H[38;5;130m     71 [m[8Ckprintf("\n");[36;16H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H[38;5;130m     72 [?12l[?25h[?25l[1;36r[m[36;1H
[1;37r[36;1H[38;5;130m     73 [m[8Cram_bootstrap();[36;16H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H[38;5;130m     74 [m[8Cscheduler_bootstrap();[36;16H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H[38;5;130m     75 [m[8Cthread_bootstrap();[36;16H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H[38;5;130m     76 [m[8Cvfs_bootstrap();[36;16H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H[38;5;130m     77 [m[8Cdev_bootstrap();[36;16H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H[38;5;130m     78 [m[8Cvm_bootstrap();[36;16H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H[38;5;130m     79 [m[8Ckprintf_bootstrap();[36;16H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H[38;5;130m     80 [?12l[?25h[?25l[1;36r[m[36;1H
[1;37r[36;1H[38;5;130m     81 [m[8C/* Default bootfs - but ignore failure, in case emu0 doesn't exist */[36;16H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H[38;5;130m     82 [m[8Cvfs_setbootfs("emu0");[36;16H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H[38;5;130m     83 [?12l[?25h[?25l[1;36r[m[36;1H
[1;37r[36;1H[38;5;130m     84 [?12l[?25h[?25l[1;36r[m[36;1H
[1;37r[36;1H[38;5;130m     85 [m[8C/*[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H[38;5;130m     86 [m[9C* Make sure various things aren't screwed up.[36;16H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H[38;5;130m     87 [m[9C*/[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H[38;5;130m     88 [m[8Cassert(sizeof(userptr_t)==sizeof(char *));[36;16H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H[38;5;130m     89 [m[8Cassert(sizeof(*(userptr_t)0)==sizeof(char));[36;16H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H[38;5;130m     90 [m}[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H[38;5;130m     91 [?12l[?25h[?25l[1;36r[m[36;1H
[1;37r[36;1H[38;5;130m     92 [m/*[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H[38;5;130m     93 [m * Shutdown sequence. Opposite to boot().[36;9H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H[38;5;130m     94 [m */[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H[38;5;130m     95 [mstatic[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H[38;5;130m     96 [mvoid[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H[38;5;130m     97 [mshutdown(void)[36;9H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H[38;5;130m     98 [m{[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H[38;5;130m     99 [?12l[?25h[?25l[1;36r[m[36;1H
[1;37r[36;1H[38;5;130m    100 [m[8Ckprintf("Shutting down.\n");[36;16H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H[38;5;130m    101 [7C[?12l[?25h[?25l[1;36r[m[36;1H
[1;37r[36;1H[38;5;130m    102 [m[8Cvfs_clearbootfs();[36;16H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H[38;5;130m    103 [m[8Cvfs_clearcurdir();[36;16H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H[38;5;130m    104 [m[8Cvfs_unmountall();[36;16H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H[38;5;130m    105 [?12l[?25h[?25l[1;36r[m[36;1H
[1;37r[36;1H[38;5;130m    106 [m[8Csplhigh();[36;16H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H[38;5;130m    107 [?12l[?25h[?25l[1;36r[m[36;1H
[1;37r[36;1H[38;5;130m    108 [m[8Cscheduler_shutdown();[36;16H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H[38;5;130m    109 [m[8Cthread_shutdown();[36;16H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H[38;5;130m    110 [m}[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H[38;5;130m    111 [?12l[?25h[?25l[1;36r[m[36;1H
[1;37r[36;1H[38;5;130m    112 [m/*****************************************/[36;9H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H[38;5;130m    113 [?12l[?25h[?25l[1;36r[m[36;1H
[1;37r[36;1H[38;5;130m    114 [m/*[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H[38;5;130m    115 [m * reboot() system call.[36;9H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H[38;5;130m    116 [m *[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H[38;5;130m    117 [m * Note: this is here because it's directly related to the code above,[36;9H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H[38;5;130m    118 [m * not because this is where system call code should go. Other syscall[36;9H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H[38;5;130m    119 [m * code should probably live in the "userprog" directory.[36;9H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H[38;5;130m    120 [m */[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H[38;5;130m    121 [mint[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H[38;5;130m    122 [msys_reboot(int code)[36;9H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H[38;5;130m    123 [m{[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H[38;5;130m    124 [m[8Cswitch (code) {[36;16H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H[38;5;130m    125 [m[12Ccase RB_REBOOT:[36;16H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H[38;5;130m    126 [m[12Ccase RB_HALT:[36;16H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H[38;5;130m    127 [m[12Ccase RB_POWEROFF:[36;16H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H[38;5;130m    128 [m[16Cbreak;[36;16H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H[38;5;130m    129 [m[12Cdefault:[36;16H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H[38;5;130m    130 [m[16Creturn EINVAL;[36;16H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H[38;5;130m    131 [m[8C}[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H[38;5;130m    132 [?12l[?25h[?25l[1;36r[m[36;1H
[1;37r[36;1H[38;5;130m    133 [m[8Cshutdown();[36;16H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H[38;5;130m    134 [?12l[?25h[?25l[1;36r[m[36;1H
[1;37r[36;1H[38;5;130m    135 [m[8Cswitch (code) {[36;16H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H[38;5;130m    136 [m[12Ccase RB_HALT:[36;16H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H[38;5;130m    137 [m[16Ckprintf("The system is halted.\n");[36;16H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H[38;5;130m    138 [m[16Cmd_halt();[36;16H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H[38;5;130m    139 [m[16Cbreak;[36;16H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H[38;5;130m    140 [m[12Ccase RB_REBOOT:[36;16H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H[38;5;130m    141 [m[16Ckprintf("Rebooting...\n");[36;16H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H[38;5;130m    142 [m[16Cmd_reboot();[36;16H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H[38;5;130m    143 [m[16Cbreak;[36;16H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H[38;5;130m    144 [m[12Ccase RB_POWEROFF:[36;16H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H[38;5;130m    145 [m[16Ckprintf("The system is halted.\n");[36;16H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H[38;5;130m    146 [m[16Cmd_poweroff();[36;16H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H[38;5;130m    147 [m[16Cbreak;[36;16H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H[38;5;130m    148 [m[8C}[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H[38;5;130m    149 [?12l[?25h[?25l[1;36r[m[36;1H
[1;37r[36;1H[38;5;130m    150 [m[8Cpanic("reboot operation failed\n");[36;16H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H[38;5;130m    151 [m[8Creturn 0;[36;16H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H[38;5;130m    152 [m}[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H[38;5;130m    153 [?12l[?25h[?25l[1;36r[m[36;1H
[1;37r[36;1H[38;5;130m    154 [m/*[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H[38;5;130m    155 [m * Kernel main. Boot up, then fork the menu thread; wait for a reboot[36;9H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H[38;5;130m    156 [m * request, and then shut down.[36;9H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H[38;5;130m    157 [m */[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H[38;5;130m    158 [mint[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H[38;5;130m    159 [mkmain(char *arguments)[36;9H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H[38;5;130m    160 [m{[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H[38;5;130m    161 [m[8Cboot();[36;16H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H[38;5;130m    162 [?12l[?25h[?25l[1;36r[m[36;1H
[1;37r[36;1H[38;5;130m    163 [m[8Cmenu(arguments);[36;16H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H[38;5;130m    164 [?12l[?25h[?25l[1;36r[m[36;1H
[1;37r[36;1H[38;5;130m    165 [m[8C/* Should not get here */[36;16H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H[38;5;130m    166 [m[8Creturn 0;[36;16H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H[38;5;130m    167 [m}[?12l[?25h[?25l
Type  :quit<Enter>  to exit Vim[36;9H[?12l[?25h[?25l[?12l[?25h[?25l[37;1H[K[37;1H:[?12l[?25hquit[?25l[37;1H[K[37;1H[?1l>[?12l[?25h[?1049lbash-4.2$ git checkout main.c
bash-4.2$ ls
hello.c  main.c  menu.c
bash-4.2$ l[Kvi main.c
[?1049h[?1h=[1;37r[?12;25h[?12l[?25h[27m[m[H[2J[?25l[37;1H"main.c" 167L, 3533C[1;1H/*
 * Main.
 */

#include <types.h>
#include <kern/errno.h>
#include <kern/unistd.h>
#include <lib.h>
#include <machine/spl.h>
#include <test.h>
#include <synch.h>
#include <thread.h>
#include <scheduler.h>
#include <dev.h>
#include <vfs.h>
#include <vm.h>
#include <syscall.h>
#include <version.h>

/*
 * These two pieces of data are maintained by the makefiles and build system.
 * buildconfig is the name of the config file the kernel was configured with.
 * buildversion starts at 1 and is incremented every time you link a kernel.
 *
 * The purpose is not to show off how many kernels you've linked, but
 * to make it easy to make sure that the kernel you just booted is the
 * same one you just built.
 */
extern const int buildversion;
extern const char buildconfig[];

/*
 * Copyright message for the OS/161 base code.
 */
static const char harvard_copyright[] =
    "Copyright (c) 2000, 2001, 2002, 2003\n"[1;1H[?12l[?25h/[?25l[37;1H[1m-- INSERT --[m[37;13H[K[1;2H[K[1;2H[?12l[?25h[?25l[1;1H[K[1;1H[?12l[?25h[?25l[37;1H[K[1;1H[?12l[?25h[?25l[27m[m[H[2J[1;1Hstatic const char harvard_copyright[] =
    "Copyright (c) 2000, 2001, 2002, 2003\n"
    "   President and Fellows of Harvard College.  All rights reserved.\n";


/*
 * Initial boot sequence.
 */
static
void
boot(void)
{[13;9H/*[14;10H* The order of these is important![15;10H* Don't go changing it without thinking about the consequences.[16;10H*[17;10H* Among other things, be aware that console output gets[18;10H* buffered up at first and does not actually appear until[19;10H* dev_bootstrap() attaches the console device. This can be[20;10H* remarkably confusing if a bug occurs at this point. So[21;10H* don't put new code before dev_bootstrap if you don't[22;10H* absolutely have to.[23;10H*[24;10H* Also note that the buffer for this is only 1k. If you[25;10H* overflow it, the system will crash without printing[26;10H* anything at all. You can make it larger though (it's in[27;10H* dev/generic/console.c).[28;10H*/[30;9Hkprintf("\n");[31;9Hkprintf("OS/161 base system version %s\n", BASE_VERSION);[32;9Hkprintf("%s", harvard_copyright);[33;9Hkprintf("\n");[35;9Hkprintf("Put-your-group-name-here's system version %s (%s #%d)\n",[36;17HGROUP_VERSION, buildconfig, buildversion);[1;1H[?12l[?25h[?25l[37;1HType  :quit<Enter>  to exit Vim[1;1H[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[37;1H[K[37;1H:[?12l[?25hquit[?25l[97m[41mE37: No write since last change (add ! to override)[1;1H[?12l[?25h[?25l[m[37;1H[K[37;1H:[?12l[?25hquit![?25l[37;1H[K[37;1H[?1l>[?12l[?25h[?1049lbash-4.2$ cd ~!/[K[K/cs161/kern/[K[K[K[K[K[K[K[K[K[K[Kkern[K[K[K[K[K[K[K[Kd ?[K~/cs61[K[K161/
bash-4.2$ cd src
bash-4.2$ cd kern/compile
bash-4.2$ cd ASST0
bash-4.2$ make
cs161-gcc   -mno-abicalls -fno-pic -Wall -W -Wwrite-strings -g -nostdinc -I../../include -I../../dev -I.  -ffreestanding -D_KERNEL -G 0 -c ../../main/main.c
../../conf/newvers.sh ASST0
*** This is ASST0 build #3 ***
cs161-gcc   -mno-abicalls -fno-pic -Wall -W -Wwrite-strings -g -nostdinc -I../../include -I../../dev -I.  -ffreestanding -D_KERNEL -G 0 -c vers.c
cs161-ld   -nostdlib -Ttext 0x80001000 -T ../../arch/mips/conf/ldscript -G 0 console.o emu.o lser.o lhd.o pseudorand.o random.o ltimer.o lamebus.o lrandom.o beep.o ltrace.o rtclock.o ltimer_att.o con_lser.o lhd_att.o random_lrandom.o rtclock_ltimer.o ltrace_att.o lser_att.o lrandom_att.o emu_att.o beep_ltimer.o pseudorand_att.o sfs_vnode.o sfs_fs.o dumbvm.o sfs_io.o cache_mips1.o exception.o lamebus_mips.o interrupt.o pcb.o ram.o spl.o start.o switch.o syscall.o threadstart.o trap.o tlb_mips1.o mips-setjmp.o copyinout.o array.o bitmap.o queue.o kheap.o kprintf.o kgets.o misc.o ntoh.o __printf.o snprintf.o atoi.o bzero.o memcpy.o memmove.o strcat.o strchr.o strcmp.o strcpy.o strlen.o strrchr.o strtok_r.o init.o device.o vfscwd.o vfslist.o vfslookup.o vfspath.o vnode.o devnull.o hardclock.o synch.o scheduler.o thread.o main.o menu.o hello.o loadelf.o runprogram.o uio.o arraytest.o bitmaptest.o queuetest.o threadtest.o tt3.o synchtest.o malloctest.o fstest.o autoconf.o vers.o -o kernel
cs161-size kernel
   text	   data	    bss	    dec	    hex	filename
 160632	    448	   7668	 168748	  2932c	kernel
bash-4.2$ make depend
cs161-gcc   -mno-abicalls -fno-pic -Wall -W -Wwrite-strings -g -nostdinc -I../../include -I../../dev -I.  -ffreestanding -D_KERNEL -G 0 -M ../../dev/generic/console.c ../../dev/lamebus/emu.c ../../dev/lamebus/lser.c ../../dev/lamebus/lhd.c ../../dev/generic/pseudorand.c ../../dev/generic/random.c ../../dev/lamebus/ltimer.c ../../dev/lamebus/lamebus.c ../../dev/lamebus/lrandom.c ../../dev/generic/beep.c ../../dev/lamebus/ltrace.c ../../dev/generic/rtclock.c ../../dev/lamebus/ltimer_att.c ../../dev/lamebus/con_lser.c ../../dev/lamebus/lhd_att.c ../../dev/lamebus/random_lrandom.c ../../dev/lamebus/rtclock_ltimer.c ../../dev/lamebus/ltrace_att.c ../../dev/lamebus/lser_att.c ../../dev/lamebus/lrandom_att.c ../../dev/lamebus/emu_att.c ../../dev/lamebus/beep_ltimer.c ../../dev/generic/pseudorand_att.c ../../fs/sfs/sfs_vnode.c ../../fs/sfs/sfs_fs.c ../../arch/mips/mips/dumbvm.c ../../fs/sfs/sfs_io.c ../../arch/mips/mips/cache_mips1.S ../../arch/mips/mips/exception.S ../../arch/mips/mips/lamebus_mips.c ../../arch/mips/mips/interrupt.c ../../arch/mips/mips/pcb.c ../../arch/mips/mips/ram.c ../../arch/mips/mips/spl.c ../../arch/mips/mips/start.S ../../arch/mips/mips/switch.S ../../arch/mips/mips/syscall.c ../../arch/mips/mips/threadstart.S ../../arch/mips/mips/trap.c ../../arch/mips/mips/tlb_mips1.S ../../../lib/libc/mips-setjmp.S ../../lib/copyinout.c ../../lib/array.c ../../lib/bitmap.c ../../lib/queue.c ../../lib/kheap.c ../../lib/kprintf.c ../../lib/kgets.c ../../lib/misc.c ../../lib/ntoh.c ../../../lib/libc/__printf.c ../../../lib/libc/snprintf.c ../../../lib/libc/atoi.c ../../../lib/libc/bzero.c ../../../lib/libc/memcpy.c ../../../lib/libc/memmove.c ../../../lib/libc/strcat.c ../../../lib/libc/strchr.c ../../../lib/libc/strcmp.c ../../../lib/libc/strcpy.c ../../../lib/libc/strlen.c ../../../lib/libc/strrchr.c ../../../lib/libc/strtok_r.c ../../dev/init.c ../../fs/vfs/device.c ../../fs/vfs/vfscwd.c ../../fs/vfs/vfslist.c ../../fs/vfs/vfslookup.c ../../fs/vfs/vfspath.c ../../fs/vfs/vnode.c ../../fs/vfs/devnull.c ../../thread/hardclock.c ../../thread/synch.c ../../thread/scheduler.c ../../thread/thread.c ../../main/main.c ../../main/menu.c ../../main/hello.c ../../userprog/loadelf.c ../../userprog/runprogram.c ../../userprog/uio.c ../../test/arraytest.c ../../test/bitmaptest.c ../../test/queuetest.c ../../test/threadtest.c ../../test/tt3.c ../../test/synchtest.c ../../test/malloctest.c ../../test/fstest.c ../../compile/ASST0/autoconf.c > depend.mk
bash-4.2$ ls
array.o        devnull.o       lhd.o	      misc.o		runprogram.o  syscall.o
arraytest.o    dumbvm.o        loadelf.o      ntoh.o		scheduler.o   thread.o
atoi.o	       emu_att.o       lrandom_att.o  opt-dumbvm.h	sfs_fs.o      threadstart.o
autoconf.c     emu.o	       lrandom.o      opt-netfs.h	sfs_io.o      threadtest.o
autoconf.h     exception.o     lser_att.o     opt-net.h		sfs_vnode.o   tlb_mips1.o
autoconf.o     files.mk        lser.o	      opt-sfs.h		snprintf.o    trap.o
beep_ltimer.o  fstest.o        ltimer_att.o   opt-synchprobs.h	spl.o	      tt3.o
beep.o	       hardclock.o     ltimer.o       pcb.o		start.o       uio.o
bitmap.o       hello.o	       ltrace_att.o   __printf.o	strcat.o      vers.c
bitmaptest.o   init.o	       ltrace.o       pseudorand_att.o	strchr.o      version
bzero.o        interrupt.o     machine	      pseudorand.o	strcmp.o      vers.o
cache_mips1.o  kernel	       main.o	      queue.o		strcpy.o      vfscwd.o
con_lser.o     kgets.o	       Makefile       queuetest.o	strlen.o      vfslist.o
console.o      kheap.o	       malloctest.o   ram.o		strrchr.o     vfslookup.o
copyinout.o    kprintf.o       memcpy.o       random_lrandom.o	strtok_r.o    vfspath.o
defs.mk        lamebus_mips.o  memmove.o      random.o		switch.o      vnode.o
depend.mk      lamebus.o       menu.o	      rtclock_ltimer.o	synch.o
device.o       lhd_att.o       mips-setjmp.o  rtclock.o		synchtest.o
bash-4.2$ cd ..
bash-4.2$ ls
ASST0
bash-4.2$ dc ..[K[K[K[K[Kcd ..
bash-4.2$ ls
arch  asst1  compile  conf  dev  fs  include  lib  main  Makefile  test  thread  userprog  vm
bash-4.2$ cd l=[K[K[K[K[Kcd [K[K[Kls
arch  asst1  compile  conf  dev  fs  include  lib  main  Makefile  test  thread  userprog  vm
bash-4.2$ cd ..
bash-4.2$ cd le[K[K[K[K[Kls
bin	 configure  defs.mk	    git-use.script  kern  Makefile  mk	  testbin
CHANGES  COPYING    defs.mk.sample  include	    lib   man	    sbin
bash-4.2$ 
bash-4.2$ cd kern/main/main.c
bash: cd: kern/main/main.c: Not a directory
bash-4.2$ ls
bin	 configure  defs.mk	    git-use.script  kern  Makefile  mk	  testbin
CHANGES  COPYING    defs.mk.sample  include	    lib   man	    sbin
bash-4.2$ cd ka[Kern/a[Kmain
bash-4.2$ ls
hello.c  main.c  menu.c
bash-4.2$ vi main.c
[?1049h[?1h=[1;37r[?12;25h[?12l[?25h[27m[m[H[2J[?25l[37;1H"main.c" 167L, 3533C[1;1H/*
 * Main.
 */

#include <types.h>
#include <kern/errno.h>
#include <kern/unistd.h>
#include <lib.h>
#include <machine/spl.h>
#include <test.h>
#include <synch.h>
#include <thread.h>
#include <scheduler.h>
#include <dev.h>
#include <vfs.h>
#include <vm.h>
#include <syscall.h>
#include <version.h>

/*
 * These two pieces of data are maintained by the makefiles and build system.
 * buildconfig is the name of the config file the kernel was configured with.
 * buildversion starts at 1 and is incremented every time you link a kernel.
 *
 * The purpose is not to show off how many kernels you've linked, but
 * to make it easy to make sure that the kernel you just booted is the
 * same one you just built.
 */
extern const int buildversion;
extern const char buildconfig[];

/*
 * Copyright message for the OS/161 base code.
 */
static const char harvard_copyright[] =
    "Copyright (c) 2000, 2001, 2002, 2003\n"[1;1H[?12l[?25h


































[?25l[1;36r[36;1H
[1;37r[36;5H"   President and Fellows of Harvard College.  All rights reserved.\n";[37;1H[K[36;1H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H/*[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;2H* Initial boot sequence.[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;2H*/[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1Hstatic[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1Hvoid[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1Hboot(void)[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H{[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;9H/*[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;10H* The order of these is important![36;8H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;10H* Don't go changing it without thinking about the consequences.[36;8H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;10H*[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;10H* Among other things, be aware that console output gets[36;8H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;10H* buffered up at first and does not actually appear until[36;8H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;10H* dev_bootstrap() attaches the console device. This can be[36;8H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;10H* remarkably confusing if a bug occurs at this point. So[36;8H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;10H* don't put new code before dev_bootstrap if you don't[36;8H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;10H* absolutely have to.[36;8H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;10H*[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;10H* Also note that the buffer for this is only 1k. If you[36;8H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;10H* overflow it, the system will crash without printing[36;8H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;10H* anything at all. You can make it larger though (it's in[36;8H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;10H* dev/generic/console.c).[36;8H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;10H*/[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;9Hkprintf("\n");[36;8H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;9Hkprintf("OS/161 base system version %s\n", BASE_VERSION);[36;8H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;9Hkprintf("%s", harvard_copyright);[36;8H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;9Hkprintf("\n");[36;8H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;9Hkprintf("Put-your-group-name-here's system version %s (%s #%d)\n",[36;8H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;17HGROUP_VERSION, buildconfig, buildversion);[36;8H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;9Hkprintf("\n");[36;8H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;9Hram_bootstrap();[36;8H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;9Hscheduler_bootstrap();[36;8H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;9Hthread_bootstrap();[36;8H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;9Hvfs_bootstrap();[36;8H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;9Hdev_bootstrap();[36;8H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;9Hvm_bootstrap();[36;8H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;9Hkprintf_bootstrap();[36;8H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;9H/* Default bootfs - but ignore failure, in case emu0 doesn't exist */[36;8H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;9Hvfs_setbootfs("emu0");[36;8H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;9H/*[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;10H* Make sure various things aren't screwed up.[36;8H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;10H*/[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;9Hassert(sizeof(userptr_t)==sizeof(char *));[36;8H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;9Hassert(sizeof(*(userptr_t)0)==sizeof(char));[36;8H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H}[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H/*[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;2H* Shutdown sequence. Opposite to boot().[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;2H*/[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1Hstatic[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1Hvoid[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1Hshutdown(void)[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H{[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;9Hkprintf("Shutting down.\n");[36;8H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;8H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;9Hvfs_clearbootfs();[36;8H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;9Hvfs_clearcurdir();[36;8H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;9Hvfs_unmountall();[36;8H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;9Hsplhigh();[36;8H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;9Hscheduler_shutdown();[36;8H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;9Hthread_shutdown();[36;8H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H}[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H/*****************************************/[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H/*[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;2H* reboot() system call.[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;2H*[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;2H* Note: this is here because it's directly related to the code above,[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;2H* not because this is where system call code should go. Other syscall[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;2H* code should probably live in the "userprog" directory.[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;2H*/[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1Hint[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1Hsys_reboot(int code)[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H{[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;9Hswitch (code) {[36;8H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;13Hcase RB_REBOOT:[36;8H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;13Hcase RB_HALT:[36;8H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;13Hcase RB_POWEROFF:[36;8H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;17Hbreak;[36;8H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;13Hdefault:[36;8H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;17Hreturn EINVAL;[36;8H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;9H}[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;9Hshutdown();[36;8H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;9Hswitch (code) {[36;8H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;13Hcase RB_HALT:[36;8H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;17Hkprintf("The system is halted.\n");[36;8H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;17Hmd_halt();[36;8H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;17Hbreak;[36;8H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;13Hcase RB_REBOOT:[36;8H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;17Hkprintf("Rebooting...\n");[36;8H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;17Hmd_reboot();[36;8H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;17Hbreak;[36;8H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;13Hcase RB_POWEROFF:[36;8H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;17Hkprintf("The system is halted.\n");[36;8H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;17Hmd_poweroff();[36;8H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;17Hbreak;[36;8H[?12l[?25h[?25l
Type  :quit<Enter>  to exit Vim[36;8H[?12l[?25h[?25l[37;1H[K[37;1H:[?12l[?25hset number[?25l[1;1H[38;5;130m    112 [m/[33C********/
[38;5;130m    113 
    114 [m/*
[38;5;130m    115 [m * reboot() system call.
[38;5;130m    116 [m *
[38;5;130m    117 [m * Note: this is here because it's directly related to the code above,
[38;5;130m    118 [m * not because this is where system call code should go. Other syscall
[38;5;130m    119 [m * code should probably live in the "userprog" directory.
[38;5;130m    120 [m */
[38;5;130m    121 [mint
[38;5;130m    122 [msys_reboot(int code)
[38;5;130m    123 [m{
[38;5;130m    124 [m        switch (code) {
[38;5;130m    125 [m            case RB_REBOOT:
[38;5;130m    126 [m            case RB_HALT:
[38;5;130m    127 [m            case RB_POWEROFF:
[38;5;130m    128 [m[8C        break;
[38;5;130m    129 [m            default:
[38;5;130m    130 [m[8C        return EINVAL;
[38;5;130m    131 [m [7C}
[38;5;130m    132 
    133 [m        shutdown();
[38;5;130m    134 
    135 [m        switch (code) {
[38;5;130m    136 [m            case RB_HALT:
[38;5;130m    137 [m[8C        kprintf("The system is halted.\n");
[38;5;130m    138 [m[8C        md_halt();
[38;5;130m    139 [m[8C        break;
[38;5;130m    140 [m            case RB_REBOOT:
[38;5;130m    141 [m[8C        kprintf("Rebooting...\n");
[38;5;130m    142 [m[8C        md_reboot();
[38;5;130m    143 [m[8C        break;
[38;5;130m    144 [m            case RB_POWEROFF:
[38;5;130m    145 [m[8C        kprintf("The system is halted.\n");
[38;5;130m    146 [m[8C        md_poweroff();
[38;5;130m    147 [m[8C        break;[36;16H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H[38;5;130m    148 [m[8C}[37;1H[K[36;16H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H[38;5;130m    149 [?12l[?25h[?25l[1;36r[m[36;1H
[1;37r[36;1H[38;5;130m    150 [m[8Cpanic("reboot operation failed\n");[36;16H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H[38;5;130m    151 [m[8Creturn 0;[36;16H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H[38;5;130m    152 [m}[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H[38;5;130m    153 [?12l[?25h[?25l[1;36r[m[36;1H
[1;37r[36;1H[38;5;130m    154 [m/*[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H[38;5;130m    155 [m * Kernel main. Boot up, then fork the menu thread; wait for a reboot[36;16H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H[38;5;130m    156 [m * request, and then shut down.[36;16H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H[38;5;130m    157 [m */[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H[38;5;130m    158 [mint[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H[38;5;130m    159 [mkmain(char *arguments)[36;16H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H[38;5;130m    160 [m{[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H[38;5;130m    161 [m[8Cboot();[36;16H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H[38;5;130m    162 [?12l[?25h[?25l[1;36r[m[36;1H
[1;37r[36;1H[38;5;130m    163 [m[8Cmenu(arguments);[36;16H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H[38;5;130m    164 [?12l[?25h[?25l[1;36r[m[36;1H
[1;37r[36;1H[38;5;130m    165 [m[8C/* Should not get here */[36;16H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H[38;5;130m    166 [m[8Creturn 0;[36;16H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H[38;5;130m    167 [m}[?12l[?25h[35;16H[34;16H[33;9H[32;16H[31;9H[30;16H[29;9H[28;16H[27;11H[26;11H[25;16H[24;16H[23;10H[22;9H[21;9H[20;16H[19;16H[18;9H[17;16H[16;16H[15;16H[14;16H[13;16H[12;16H[11;16H[10;16H[9;16H[8;16H[7;16H[6;16H[5;16H[4;16H[3;9H[2;16H[1;9H[?25l[1;36r[1;1H[L[1;37r[1;1H[38;5;130m    131 [m[8C}[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;1H[38;5;130m    130 [m[16Creturn EINVAL;[1;16H[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;1H[38;5;130m    129 [m[12Cdefault:[1;16H[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;1H[38;5;130m    128 [m[16Cbreak;[1;16H[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;1H[38;5;130m    127 [m[12Ccase RB_POWEROFF:[1;16H[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;1H[38;5;130m    126 [m[12Ccase RB_HALT:[1;16H[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;1H[38;5;130m    125 [m[12Ccase RB_REBOOT:[1;16H[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;1H[38;5;130m    124 [m[8Cswitch (code) {[1;16H[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;1H[38;5;130m    123 [m{[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;1H[38;5;130m    122 [msys_reboot(int code)[1;16H[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;1H[38;5;130m    121 [mint[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;1H[38;5;130m    120 [m */[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;1H[38;5;130m    119 [m * code should probably live in the "userprog" directory.[1;16H[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;1H[38;5;130m    118 [m * not because this is where system call code should go. Other syscall[1;16H[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;1H[38;5;130m    117 [m * Note: this is here because it's directly related to the code above,[1;16H[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;1H[38;5;130m    116 [m *[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;1H[38;5;130m    115 [m * reboot() system call.[1;16H[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;1H[38;5;130m    114 [m/*[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;1H[38;5;130m    113 [?12l[?25h[?25l[1;36r[m[1;1H[L[1;37r[1;1H[38;5;130m    112 [m/*****************************************/[1;16H[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;1H[38;5;130m    111 [?12l[?25h[?25l[1;36r[m[1;1H[L[1;37r[1;1H[38;5;130m    110 [m}[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;1H[38;5;130m    109 [m[8Cthread_shutdown();[1;16H[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;1H[38;5;130m    108 [m[8Cscheduler_shutdown();[1;16H[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;1H[38;5;130m    107 [?12l[?25h[?25l[1;36r[m[1;1H[L[1;37r[1;1H[38;5;130m    106 [m[8Csplhigh();[1;16H[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;1H[38;5;130m    105 [?12l[?25h[?25l[1;36r[m[1;1H[L[1;37r[1;1H[38;5;130m    104 [m[8Cvfs_unmountall();[1;16H[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;1H[38;5;130m    103 [m[8Cvfs_clearcurdir();[1;16H[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;1H[38;5;130m    102 [m[8Cvfs_clearbootfs();[1;16H[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;1H[38;5;130m    101 [7C[?12l[?25h[?25l[1;36r[m[1;1H[L[1;37r[1;1H[38;5;130m    100 [m[8Ckprintf("Shutting down.\n");[1;16H[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;1H[38;5;130m     99 [?12l[?25h[?25l[1;36r[m[1;1H[L[1;37r[1;1H[38;5;130m     98 [m{[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;1H[38;5;130m     97 [mshutdown(void)[1;16H[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;1H[38;5;130m     96 [mvoid[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;1H[38;5;130m     95 [mstatic[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;1H[38;5;130m     94 [m */[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;1H[38;5;130m     93 [m * Shutdown sequence. Opposite to boot().[1;16H[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;1H[38;5;130m     92 [m/*[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;1H[38;5;130m     91 [?12l[?25h[?25l[1;36r[m[1;1H[L[1;37r[1;1H[38;5;130m     90 [m}[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;1H[38;5;130m     89 [m[8Cassert(sizeof(*(userptr_t)0)==sizeof(char));[1;16H[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;1H[38;5;130m     88 [m[8Cassert(sizeof(userptr_t)==sizeof(char *));[1;16H[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;1H[38;5;130m     87 [m[9C*/[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;1H[38;5;130m     86 [m[9C* Make sure various things aren't screwed up.[1;16H[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;1H[38;5;130m     85 [m[8C/*[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;1H[38;5;130m     84 [?12l[?25h[?25l[1;36r[m[1;1H[L[1;37r[1;1H[38;5;130m     83 [?12l[?25h[?25l[1;36r[m[1;1H[L[1;37r[1;1H[38;5;130m     82 [m[8Cvfs_setbootfs("emu0");[1;16H[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;1H[38;5;130m     81 [m[8C/* Default bootfs - but ignore failure, in case emu0 doesn't exist */[1;16H[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;1H[38;5;130m     80 [?12l[?25h[?25l[1;36r[m[1;1H[L[1;37r[1;1H[38;5;130m     79 [m[8Ckprintf_bootstrap();[1;16H[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;1H[38;5;130m     78 [m[8Cvm_bootstrap();[1;16H[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;1H[38;5;130m     77 [m[8Cdev_bootstrap();[1;16H[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;1H[38;5;130m     76 [m[8Cvfs_bootstrap();[1;16H[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;1H[38;5;130m     75 [m[8Cthread_bootstrap();[1;16H[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;1H[38;5;130m     74 [m[8Cscheduler_bootstrap();[1;16H[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;1H[38;5;130m     73 [m[8Cram_bootstrap();[1;16H[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;1H[38;5;130m     72 [?12l[?25h[?25l[1;36r[m[1;1H[L[1;37r[1;1H[38;5;130m     71 [m[8Ckprintf("\n");[1;16H[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;1H[38;5;130m     70 [m[16CGROUP_VERSION, buildconfig, buildversion);[1;16H[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;1H[38;5;130m     69 [m[8Ckprintf("Put-your-group-name-here's system version %s (%s #%d)\n",[1;16H[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;1H[38;5;130m     68 [?12l[?25h[?25l[1;36r[m[1;1H[L[1;37r[1;1H[38;5;130m     67 [m[8Ckprintf("\n");[1;16H[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;1H[38;5;130m     66 [m[8Ckprintf("%s", harvard_copyright);[1;16H[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;1H[38;5;130m     65 [m[8Ckprintf("OS/161 base system version %s\n", BASE_VERSION);[1;16H[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;1H[38;5;130m     64 [m[8Ckprintf("\n");[1;16H[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;1H[38;5;130m     63 [?12l[?25h[?25l[1;36r[m[1;1H[L[1;37r[1;1H[38;5;130m     62 [m[9C*/[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;1H[38;5;130m     61 [m[9C* dev/generic/console.c).[1;16H[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;1H[38;5;130m     60 [m[9C* anything at all. You can make it larger though (it's in[1;16H[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;1H[38;5;130m     59 [m[9C* overflow it, the system will crash without printing[1;16H[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;1H[38;5;130m     58 [m[9C* Also note that the buffer for this is only 1k. If you[1;16H[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;1H[38;5;130m     57 [m[9C*[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;1H[38;5;130m     56 [m[9C* absolutely have to.[1;16H[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;1H[38;5;130m     55 [m[9C* don't put new code before dev_bootstrap if you don't[1;16H[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;1H[38;5;130m     54 [m[9C* remarkably confusing if a bug occurs at this point. So[1;16H[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;1H[38;5;130m     53 [m[9C* dev_bootstrap() attaches the console device. This can be[1;16H[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;1H[38;5;130m     52 [m[9C* buffered up at first and does not actually appear until[1;16H[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;1H[38;5;130m     51 [m[9C* Among other things, be aware that console output gets[1;16H[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;1H[38;5;130m     50 [m[9C*[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;1H[38;5;130m     49 [m[9C* Don't go changing it without thinking about the consequences.[1;16H[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;1H[38;5;130m     48 [m[9C* The order of these is important![1;16H[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;1H[38;5;130m     47 [m[8C/*[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;1H[38;5;130m     46 [m{[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;1H[38;5;130m     45 [mboot(void)[?12l[?25h[2;9H[3;16H[2;9H[1;16H[?25l[1;36r[1;1H[L[1;37r[1;1H[38;5;130m     44 [mvoid[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;1H[38;5;130m     43 [mstatic[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;1H[38;5;130m     42 [m */[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;1H[38;5;130m     41 [m * Initial boot sequence.[1;16H[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;1H[38;5;130m     40 [m/*[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;1H[38;5;130m     39 [?12l[?25h[?25l[1;36r[m[1;1H[L[1;37r[1;1H[38;5;130m     38 [?12l[?25h[?25l[1;36r[m[1;1H[L[1;37r[1;1H[38;5;130m     37 [m    "   President and Fellows of Harvard College.  All rights reserved.\n";[1;16H[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;1H[38;5;130m     36 [m    "Copyright (c) 2000, 2001, 2002, 2003\n"[1;16H[?12l[?25h[?25l[37;1H[1m-- INSERT --[1;16H[?12l[?25h[?25l[mipyright (c) 2000, 2001, 2002, 2003\n"[1;17H[?12l[?25h[?25lpyright (c) 2000, 2001, 2002, 2003\n"[1;53H[K[1;16H[?12l[?25h[2;16H[3;9H[4;9H[5;11H[6;16H[7;12H[8;15H[9;13H[10;16H[11;10H[12;9H[13;9H[14;9H[15;9H[16;9H[17;9H[18;9H[19;9H[20;9H[21;9H[22;9H[23;9H[24;9H[25;9H[26;9H[27;9H[28;9H[29;9H[30;9H[31;9H[32;9H[33;9H[34;9H[35;9H[36;9H[?25l[1;36r[36;1H
[1;37r[36;1H[38;5;130m     72 [?12l[?25h[?25l[1;36r[m[36;1H
[1;37r[36;1H[38;5;130m     73 [m[8Cram_bootstrap();[36;9H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H[38;5;130m     74 [m[8Cscheduler_bootstrap();[36;9H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H[38;5;130m     75 [m[8Cthread_bootstrap();[36;9H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H[38;5;130m     76 [m[8Cvfs_bootstrap();[36;9H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H[38;5;130m     77 [m[8Cdev_bootstrap();[36;9H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H[38;5;130m     78 [m[8Cvm_bootstrap();[36;9H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H[38;5;130m     79 [m[8Ckprintf_bootstrap();[36;9H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H[38;5;130m     80 [?12l[?25h[?25l[1;36r[m[36;1H
[1;37r[36;1H[38;5;130m     81 [m[8C/* Default bootfs - but ignore failure, in case emu0 doesn't exist */[36;9H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H[38;5;130m     82 [m[8Cvfs_setbootfs("emu0");[36;9H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H[38;5;130m     83 [?12l[?25h[?25l[1;36r[m[36;1H
[1;37r[36;1H[38;5;130m     84 [?12l[?25h[?25l[1;36r[m[36;1H
[1;37r[36;1H[38;5;130m     85 [m[8C/*[36;9H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H[38;5;130m     86 [m[9C* Make sure various things aren't screwed up.[36;9H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H[38;5;130m     87 [m[9C*/[36;9H[?12l[?25h[35;9H[36;9H[?25l[1;36r[36;1H
[1;37r[36;1H[38;5;130m     88 [m[8Cassert(sizeof(userptr_t)==sizeof(char *));[36;9H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H[38;5;130m     89 [m[8Cassert(sizeof(*(userptr_t)0)==sizeof(char));[36;9H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H[38;5;130m     90 [m}[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H[38;5;130m     91 [?12l[?25h[?25l[1;36r[m[36;1H
[1;37r[36;1H[38;5;130m     92 [m/*[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H[38;5;130m     93 [m * Shutdown sequence. Opposite to boot().[36;16H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H[38;5;130m     94 [m */[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H[38;5;130m     95 [mstatic[?12l[?25h[35;12H[34;16H[33;11H[32;9H[31;10H[30;9H[29;9H[28;9H[27;9H[26;9H[25;9H[24;9H[23;9H[22;9H[21;9H[20;9H[19;9H[18;9H[17;9H[16;9H[15;9H[14;9H[13;9H[12;9H[?25l[8C        kprintf("\n");[12;17H[?12l[?25h[?25lkprintf("\n");[12;31H[K[12;9H[?12l[?25h[13;9H[?25l[8C[?12l[?25h[?25l[14;17H[K[15;17Hram_bootstrap();[15;33H[K[16;17Hscheduler_bootstrap();[17;17Hthread_bootstrap();[18;17Hvfs[19;17Hdev_bootstrap();[20;17Hvm_bootstrap();[20;32H[K[21;17Hkprintf_bootstrap();[22;17H[K[23;17H/* Default bootfs - but ignore failure, in case emu0 doesn't exist */[24;17Hvfs_setbootfs("emu0");[26;17H[K[27;17H/[27;20H[K[28;19H Make sure various things aren't screwed up.[29;17H */[29;20H[K[30;31Huserptr_t)==sizeof(char *));[30;59H[K[31;9H [7Cassert(sizeof(*(userptr_t)0)==sizeof(char));[32;9H}[33;9H[K[34;9H/[34;12H[K[35;11H Shutdown sequence. Opposite to boot().[36;9H */[36;12H[K[14;9H[?12l[?25h[?25l[8C[?12l[?25h[?25l[15;17H[K[16;17Hram_bootstrap();[16;33H[K[17;17Hscheduler_bootstrap();[18;17Hthread_bootstrap();[19;17Hvfs[20;17Hdev_bootstrap();[21;17Hvm_bootstrap();[21;32H[K[22;17Hkprintf_bootstrap();[23;17H[K[24;17H/* Default bootfs - but ignore failure, in case emu0 doesn't exist */[25;17Hvfs_setbootfs("emu0");[27;17H[K[28;17H/[28;20H[K[29;19H Make sure various things aren't screwed up.[30;17H */[30;20H[K[31;31Huserptr_t)==sizeof(char *));[31;59H[K[32;9H [7Cassert(sizeof(*(userptr_t)0)==sizeof(char));[33;9H}[34;9H[K[35;9H/[35;12H[K[36;11H Shutdown sequence. Opposite to boot().[15;9H[?12l[?25h[14;9H[?25l[8C[?12l[?25h[?25lh[?12l[?25h[?25le[?12l[?25h[?25ll[?12l[?25h[?25ll[?12l[?25h[?25lo[?12l[?25h[?25l([?12l[?25h[?25l)[?12l[?25h[?25l;[?12l[?25h[13;17H[12;25H[11;25H[10;25H[9;9H[8;25H[9;9H[10;25H[11;25H[10;25H[9;9H[8;25H[7;25H[6;25H[5;25H[4;9H[3;20H[2;25H[1;25H[?25l[1;36r[1;1H[L[1;37r[1;1H[38;5;130m     59 [m[9C* overflow it, the system will crash without printing[1;25H[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;1H[38;5;130m     58 [m[9C* Also note that the buffer for this is only 1k. If you[1;25H[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;1H[38;5;130m     57 [m[9C*[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;1H[38;5;130m     56 [m[9C* absolutely have to.[1;25H[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;1H[38;5;130m     55 [m[9C* don't put new code before dev_bootstrap if you don't[1;25H[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;1H[38;5;130m     54 [m[9C* remarkably confusing if a bug occurs at this point. So[1;25H[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;1H[38;5;130m     53 [m[9C* dev_bootstrap() attaches the console device. This can be[1;25H[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;1H[38;5;130m     52 [m[9C* buffered up at first and does not actually appear until[1;25H[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;1H[38;5;130m     51 [m[9C* Among other things, be aware that console output gets[1;25H[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;1H[38;5;130m     50 [m[9C*[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;1H[38;5;130m     49 [m[9C* Don't go changing it without thinking about the consequences.[1;25H[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;1H[38;5;130m     48 [m[9C* The order of these is important![1;25H[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;1H[38;5;130m     47 [m[8C/*[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;1H[38;5;130m     46 [m{[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;1H[38;5;130m     45 [mboot(void)[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;1H[38;5;130m     44 [mvoid[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;1H[38;5;130m     43 [mstatic[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;1H[38;5;130m     42 [m */[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;1H[38;5;130m     41 [m * Initial boot sequence.[1;25H[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;1H[38;5;130m     40 [m/*[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;1H[38;5;130m     39 [?12l[?25h[?25l[1;36r[m[1;1H[L[1;37r[1;1H[38;5;130m     38 [?12l[?25h[?25l[1;36r[m[1;1H[L[1;37r[1;1H[38;5;130m     37 [m    "   President and Fellows of Harvard College.  All rights reserved.\n";[1;25H[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;1H[38;5;130m     36 [m    "Copyright (c) 2000, 2001, 2002, 2003\n"[1;25H[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;1H[38;5;130m     35 [mstatic const char harvard_copyright[] =[1;25H[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;1H[38;5;130m     34 [m */[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;1H[38;5;130m     33 [m * Copyright message for the OS/161 base code.[1;25H[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;1H[38;5;130m     32 [m/*[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;1H[38;5;130m     31 [?12l[?25h[?25l[1;36r[m[1;1H[L[1;37r[1;1H[38;5;130m     30 [mextern const char buildconfig[];[1;25H[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;1H[38;5;130m     29 [mextern const int buildversion;[1;25H[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;1H[38;5;130m     28 [m */[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;1H[38;5;130m     27 [m * same one you just built.[1;25H[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;1H[38;5;130m     26 [m * to make it easy to make sure that the kernel you just booted is the[1;25H[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;1H[38;5;130m     25 [m * The purpose is not to show off how many kernels you've linked, but[1;25H[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;1H[38;5;130m     24 [m *[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;1H[38;5;130m     23 [m * buildversion starts at 1 and is incremented every time you link a kernel.[1;25H[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;1H[38;5;130m     22 [m * buildconfig is the name of the config file the kernel was configured with.[1;25H[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;1H[38;5;130m     21 [m * These two pieces of data are maintained by the makefiles and build system.[1;25H[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;1H[38;5;130m     20 [m/*[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;1H[38;5;130m     19 [?12l[?25h[?25l[1;36r[m[1;1H[L[1;37r[1;1H[38;5;130m     18 [m#include <version.h>[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;1H[38;5;130m     17 [m#include <syscall.h>[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;1H[38;5;130m     16 [m#include <vm.h>[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;1H[38;5;130m     15 [m#include <vfs.h>[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;1H[38;5;130m     14 [m#include <dev.h>[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;1H[38;5;130m     13 [m#include <scheduler.h>[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;1H[38;5;130m     12 [m#include <thread.h>[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;1H[38;5;130m     11 [m#include <synch.h>[?12l[?25h[2;25H[3;25H[4;25H[5;25H[6;24H[7;25H[8;25H[9;9H[10;11H[9;9H[?25l[10;9H[K[11;9H/[11;12H[K[12;12HThese two pieces of data are maintained by the makefiles and build system[13;17Hconfig is the name of the config file the kernel was configured with.[14;12Hbuildversion starts at 1 and is incremented every time you link a kernel.[15;12H[K[16;12HThe purpose is not to show off how many kernels you've linked, but[16;78H[K[17;12Hto make it easy to make sure that the kernel you just booted is the[18;11H same one you just built.[19;9H */[19;12H[K[20;22Hint buildversion;[20;39H[K[21;9Hextern const char buildconfig[];[22;9H[K[23;9H/[23;12H[K[24;11H Copyright message for the OS/161 base code.[25;9H */[25;12H[K[26;9Hstatic const char harvard_copyright[] =[26;48H[K[27;14HCopyright (c) 2000, 2001, 2002, 2003\n"[27;53H[K[28;13H"   President and Fellows of Harvard College.  All rights reserved.\n";[30;9H[K[31;9H/[31;12H[K[32;11H Initial boot sequence.[33;9H */[33;12H[K[34;9Hstatic[35;9Hvoid[35;13H[K[36;9Hboot(void)[10;9H[?12l[?25h[?25l[11;9H[K[12;9H/[12;12H[K[13;12HThese two pieces of data are maintained by the makefiles and build system[14;17Hconfig is the name of the config file the kernel was configured with.[15;12Hbuildversion starts at 1 and is incremented every time you link a kernel.[16;12H[K[17;12HThe purpose is not to show off how many kernels you've linked, but[17;78H[K[18;12Hto make it easy to make sure that the kernel you just booted is the[19;11H same one you just built.[20;9H */[20;12H[K[21;22Hint buildversion;[21;39H[K[22;9Hextern const char buildconfig[];[23;9H[K[24;9H/[24;12H[K[25;11H Copyright message for the OS/161 base code.[26;9H */[26;12H[K[27;9Hstatic const char harvard_copyright[] =[27;48H[K[28;14HCopyright (c) 2000, 2001, 2002, 2003\n"[28;53H[K[29;13H"   President and Fellows of Harvard College.  All rights reserved.\n";[31;9H[K[32;9H/[32;12H[K[33;11H Initial boot sequence.[34;9H */[34;12H[K[35;9Hstatic[36;9Hvoid[36;13H[K[11;9H[?12l[?25h[?25l[12;9H[K[13;9H/[13;12H[K[14;12HThese two pieces of data are maintained by the makefiles and build system[15;17Hconfig is the name of the config file the kernel was configured with.[16;12Hbuildversion starts at 1 and is incremented every time you link a kernel.[17;12H[K[18;12HThe purpose is not to show off how many kernels you've linked, but[18;78H[K[19;12Hto make it easy to make sure that the kernel you just booted is the[20;11H same one you just built.[21;9H */[21;12H[K[22;22Hint buildversion;[22;39H[K[23;9Hextern const char buildconfig[];[24;9H[K[25;9H/[25;12H[K[26;11H Copyright message for the OS/161 base code.[27;9H */[27;12H[K[28;9Hstatic const char harvard_copyright[] =[28;48H[K[29;14HCopyright (c) 2000, 2001, 2002, 2003\n"[29;53H[K[30;13H"   President and Fellows of Harvard College.  All rights reserved.\n";[32;9H[K[33;9H/[33;12H[K[34;11H Initial boot sequence.[35;9H */[35;12H[K[36;9Hstatic[12;9H[?12l[?25h[11;9H[10;9H[?25l/[?12l[?25h[?25l*[?12l[?25h[?25l [?12l[?25h[?25ln[?12l[?25h[?25lm[?12l[?25h[?25lo[?12l[?25h[?25lt[?12l[?25h[?25l[10;15H[K[10;15H[?12l[?25h[?25l[10;14H[K[10;14H[?12l[?25h[?25l[10;13H[K[10;13H[?12l[?25h[?25lo[?12l[?25h[?25lt[?12l[?25h[?25l [?12l[?25h[?25ls[?12l[?25h[?25lu[?12l[?25h[?25lr[?12l[?25h[?25le[?12l[?25h[?25l [?12l[?25h[?25lw[?12l[?25h[?25lh[?12l[?25h[?25ly[?12l[?25h[?25l [?12l[?25h[?25lm[?12l[?25h[?25ly[?12l[?25h[?25l[10;26H[K[10;26H[?12l[?25h[?25l[10;25H[K[10;25H[?12l[?25h[?25lm[?12l[?25h[?25ly[?12l[?25h[?25l [?12l[?25h[?25lc[?12l[?25h[?25lh[?12l[?25h[?25la[?12l[?25h[?25ln[?12l[?25h[?25lg[?12l[?25h[?25le[?12l[?25h[?25ls[?12l[?25h[?25l [?12l[?25h[?25lt[?12l[?25h[?25lo[?12l[?25h[?25l [?12l[?25h[?25lt[?12l[?25h[?25lh[?12l[?25h[?25le[?12l[?25h[?25l [?12l[?25h[?25lh[?12l[?25h[?25le[?12l[?25h[?25ll[?12l[?25h[?25ll[?12l[?25h[?25lo[?12l[?25h[?25l[10;47H[K[10;47H[?12l[?25h[?25l[10;46H[K[10;46H[?12l[?25h[?25l[10;45H[K[10;45H[?12l[?25h[?25l[10;44H[K[10;44H[?12l[?25h[?25l[10;43H[K[10;43H[?12l[?25h[?25lm[?12l[?25h[?25la[?12l[?25h[?25li[?12l[?25h[?25ln[?12l[?25h[?25l.[?12l[?25h[?25lc[?12l[?25h[?25l [?12l[?25h[?25ld[?12l[?25h[?25l[10;50H[K[10;50H[?12l[?25h[?25lf[?12l[?25h[?25li[?12l[?25h[?25ll[?12l[?25h[?25le[?12l[?25h[?25l [?12l[?25h[?25ld[?12l[?25h[?25li[?12l[?25h[?25ls[?12l[?25h[?25la[?12l[?25h[?25lp[?12l[?25h[?25la[?12l[?25h[?25l[10;60H[K[10;60H[?12l[?25h[?25lp[?12l[?25h[?25le[?12l[?25h[?25la[?12l[?25h[?25lr[?12l[?25h[?25le[?12l[?25h[?25ld[?12l[?25h[?25l [?12l[?25h[?25lb[?12l[?25h[?25lu[?12l[?25h[?25lt[?12l[?25h[?25l [?12l[?25h[?25lm[?12l[?25h[?25ly[?12l[?25h[?25l [?12l[?25h[?25lD[?12l[?25h[?25la[?12l[?25h[?25lv[?12l[?25h[?25li[?12l[?25h[?25ld[?12l[?25h[?25l [?12l[?25h[?25lJ[?12l[?25h[?25lu[?12l[?25h[?25ln[?12l[?25h[?25lg[?12l[?25h[?25l [?12l[?25h[?25lw[?12l[?25h[?25la[?12l[?25h[?25ls[?12l[?25h[?25l [?12l[?25h[?25lh[?12l[?25h[?25le[?12l[?25h[?25lr[?12l[?25h[?25le[?12l[?25h[?25l"[?12l[?25h[?25l [?12l[?25h[?25l[?12l[?25h[?25l[10;93H[K[10;93H[?12l[?25h[?25l [?12l[?25h[?25l*[?12l[?25h[?25l/[?12l[?25h[?25l:[?12l[?25h[?25l[10;96H[K[10;96H[?12l[?25h[?25li[?12l[?25h[?25l[10;96H[K[10;96H[?12l[?25h[?25l[37;1H[K[10;95H[?12l[?25h[?25l[37;1H:[?12l[?25hq[?25l[37;2H[K[37;2H[?12l[?25hwq[?25l"main.c" 172L, 3636C written
[?1l>[?12l[?25h[?1049lbash-4.2$ ls
hello.c  main.c  menu.c
bash-4.2$ vi main.c
[?1049h[?1h=[1;37r[?12;25h[?12l[?25h[27m[m[H[2J[?25l[37;1H"main.c" 172L, 3636C[1;1H/*
 * Main.
 */

#include <types.h>
#include <kern/errno.h>
#include <kern/unistd.h>
#include <lib.h>
#include <machine/spl.h>
#include <test.h>
#include <synch.h>
#include <thread.h>
#include <scheduler.h>
#include <dev.h>
#include <vfs.h>
#include <vm.h>
#include <syscall.h>
#include <version.h>

/* not sure why my changes to the main.c file disappeared but my David Jung was here */


/*
 * These two pieces of data are maintained by the makefiles and build system.
 * buildconfig is the name of the config file the kernel was configured with.
 * buildversion starts at 1 and is incremented every time you link a kernel.
 *
 * The purpose is not to show off how many kernels you've linked, but
 * to make it easy to make sure that the kernel you just booted is the
 * same one you just built.
 */
extern const int buildversion;
extern const char buildconfig[];

/*
 * Copyright message for the OS/161 base code.[1;1H[?12l[?25h[?25l[37;1HType  :quit<Enter>  to exit Vim[1;1H[?12l[?25h[?25l[37;1H[K[37;1H:[?12l[?25hquit[?25l[37;1H[K[37;1H[?1l>[?12l[?25h[?1049lbash-4.2$ ls
hello.c  main.c  menu.c
bash-4.2$ git diff
[?1h=diff --git a/bin/cat/depend.mk b/bin/cat/depend.mk[m
index 94637dd..6f88e64 100644[m
--- a/bin/cat/depend.mk[m
+++ b/bin/cat/depend.mk[m
@@ -10,3 +10,4 @@ cat.o: \[m
  $(OSTREE)/include/string.h \[m
  $(OSTREE)/include/err.h \[m
  $(OSTREE)/include/stdarg.h[m
+[m
diff --git a/bin/cp/depend.mk b/bin/cp/depend.mk[m
index 10e8c59..de47503 100644[m
--- a/bin/cp/depend.mk[m
+++ b/bin/cp/depend.mk[m
@@ -9,3 +9,4 @@ cp.o: \[m
  $(OSTREE)/include/kern/ioctl.h \[m
  $(OSTREE)/include/err.h \[m
  $(OSTREE)/include/stdarg.h[m
+[m
diff --git a/bin/false/depend.mk b/bin/false/depend.mk[m
index f0fbc95..fb0be2d 100644[m
--- a/bin/false/depend.mk[m
+++ b/bin/false/depend.mk[m
@@ -8,3 +8,4 @@ false.o: \[m
  $(OSTREE)/include/kern/unistd.h \[m
  $(OSTREE)/include/kern/ioctl.h \[m
  $(OSTREE)/include/stdlib.h[m
+[m
diff --git a/bin/ln/depend.mk b/bin/ln/depend.mk[m
index ac1d5eb..490b5b1 100644[m
--- a/bin/ln/depend.mk[m
+++ b/bin/ln/depend.mk[m
@@ -11,3 +11,4 @@ ln.o: \[m
  $(OSTREE)/include/string.h \[m
  $(OSTREE)/include/err.h \[m
  $(OSTREE)/include/stdarg.h[m
+[m
:[K[K:[K[K:[K[K:[K[Kdiff --git a/bin/ls/depend.mk b/bin/ls/depend.mk[m
:[K[Kindex f92b234..1d5e8a4 100644[m
:[K[K:[K[K[?1l>
bash-4.2$ ui[K[Kg[Kcd ~cs[K[K/cs161/srsc/[K[K[Kc/kjern/[K[K[K[K[Kern/compile/ASST0
bash-4.2$ make depend 
cs161-gcc   -mno-abicalls -fno-pic -Wall -W -Wwrite-strings -g -nostdinc -I../../include -I../../dev -I.  -ffreestanding -D_KERNEL -G 0 -M ../../dev/generic/console.c ../../dev/lamebus/emu.c ../../dev/lamebus/lser.c ../../dev/lamebus/lhd.c ../../dev/generic/pseudorand.c ../../dev/generic/random.c ../../dev/lamebus/ltimer.c ../../dev/lamebus/lamebus.c ../../dev/lamebus/lrandom.c ../../dev/generic/beep.c ../../dev/lamebus/ltrace.c ../../dev/generic/rtclock.c ../../dev/lamebus/ltimer_att.c ../../dev/lamebus/con_lser.c ../../dev/lamebus/lhd_att.c ../../dev/lamebus/random_lrandom.c ../../dev/lamebus/rtclock_ltimer.c ../../dev/lamebus/ltrace_att.c ../../dev/lamebus/lser_att.c ../../dev/lamebus/lrandom_att.c ../../dev/lamebus/emu_att.c ../../dev/lamebus/beep_ltimer.c ../../dev/generic/pseudorand_att.c ../../fs/sfs/sfs_vnode.c ../../fs/sfs/sfs_fs.c ../../arch/mips/mips/dumbvm.c ../../fs/sfs/sfs_io.c ../../arch/mips/mips/cache_mips1.S ../../arch/mips/mips/exception.S ../../arch/mips/mips/lamebus_mips.c ../../arch/mips/mips/interrupt.c ../../arch/mips/mips/pcb.c ../../arch/mips/mips/ram.c ../../arch/mips/mips/spl.c ../../arch/mips/mips/start.S ../../arch/mips/mips/switch.S ../../arch/mips/mips/syscall.c ../../arch/mips/mips/threadstart.S ../../arch/mips/mips/trap.c ../../arch/mips/mips/tlb_mips1.S ../../../lib/libc/mips-setjmp.S ../../lib/copyinout.c ../../lib/array.c ../../lib/bitmap.c ../../lib/queue.c ../../lib/kheap.c ../../lib/kprintf.c ../../lib/kgets.c ../../lib/misc.c ../../lib/ntoh.c ../../../lib/libc/__printf.c ../../../lib/libc/snprintf.c ../../../lib/libc/atoi.c ../../../lib/libc/bzero.c ../../../lib/libc/memcpy.c ../../../lib/libc/memmove.c ../../../lib/libc/strcat.c ../../../lib/libc/strchr.c ../../../lib/libc/strcmp.c ../../../lib/libc/strcpy.c ../../../lib/libc/strlen.c ../../../lib/libc/strrchr.c ../../../lib/libc/strtok_r.c ../../dev/init.c ../../fs/vfs/device.c ../../fs/vfs/vfscwd.c ../../fs/vfs/vfslist.c ../../fs/vfs/vfslookup.c ../../fs/vfs/vfspath.c ../../fs/vfs/vnode.c ../../fs/vfs/devnull.c ../../thread/hardclock.c ../../thread/synch.c ../../thread/scheduler.c ../../thread/thread.c ../../main/main.c ../../main/menu.c ../../main/hello.c ../../userprog/loadelf.c ../../userprog/runprogram.c ../../userprog/uio.c ../../test/arraytest.c ../../test/bitmaptest.c ../../test/queuetest.c ../../test/threadtest.c ../../test/tt3.c ../../test/synchtest.c ../../test/malloctest.c ../../test/fstest.c ../../compile/ASST0/autoconf.c > depend.mk
bash-4.2$ make
cs161-gcc   -mno-abicalls -fno-pic -Wall -W -Wwrite-strings -g -nostdinc -I../../include -I../../dev -I.  -ffreestanding -D_KERNEL -G 0 -c ../../main/main.c
../../main/main.c: In function â€˜bootâ€™:
../../main/main.c:76: warning: implicit declaration of function â€˜helloâ€™
../../conf/newvers.sh ASST0
*** This is ASST0 build #4 ***
cs161-gcc   -mno-abicalls -fno-pic -Wall -W -Wwrite-strings -g -nostdinc -I../../include -I../../dev -I.  -ffreestanding -D_KERNEL -G 0 -c vers.c
cs161-ld   -nostdlib -Ttext 0x80001000 -T ../../arch/mips/conf/ldscript -G 0 console.o emu.o lser.o lhd.o pseudorand.o random.o ltimer.o lamebus.o lrandom.o beep.o ltrace.o rtclock.o ltimer_att.o con_lser.o lhd_att.o random_lrandom.o rtclock_ltimer.o ltrace_att.o lser_att.o lrandom_att.o emu_att.o beep_ltimer.o pseudorand_att.o sfs_vnode.o sfs_fs.o dumbvm.o sfs_io.o cache_mips1.o exception.o lamebus_mips.o interrupt.o pcb.o ram.o spl.o start.o switch.o syscall.o threadstart.o trap.o tlb_mips1.o mips-setjmp.o copyinout.o array.o bitmap.o queue.o kheap.o kprintf.o kgets.o misc.o ntoh.o __printf.o snprintf.o atoi.o bzero.o memcpy.o memmove.o strcat.o strchr.o strcmp.o strcpy.o strlen.o strrchr.o strtok_r.o init.o device.o vfscwd.o vfslist.o vfslookup.o vfspath.o vnode.o devnull.o hardclock.o synch.o scheduler.o thread.o main.o menu.o hello.o loadelf.o runprogram.o uio.o arraytest.o bitmaptest.o queuetest.o threadtest.o tt3.o synchtest.o malloctest.o fstest.o autoconf.o vers.o -o kernel
cs161-size kernel
   text	   data	    bss	    dec	    hex	filename
 160648	    448	   7668	 168764	  2933c	kernel
bash-4.2$ make install
[ -d /home/u1/djj0013/cs161/root ] || mkdir /home/u1/djj0013/cs161/root
cp kernel /home/u1/djj0013/cs161/root/kernel-ASST0
rm -f /home/u1/djj0013/cs161/root/kernel
ln -s kernel-ASST0 /home/u1/djj0013/cs161/root/kernel
bash-4.2$ cd ~/cs161/src
bash-4.2$ make
make includes
make[1]: Entering directory `/home/u1/djj0013/cs161/src'
(cd kern && make includes)
make[2]: Entering directory `/home/u1/djj0013/cs161/src/kern'
[ -d /home/u1/djj0013/cs161/root/include/kern ] || mkdir -p /home/u1/djj0013/cs161/root/include/kern
[ -d /home/u1/djj0013/cs161/root/include/mips ] || mkdir -p /home/u1/djj0013/cs161/root/include/mips
rm -f /home/u1/djj0013/cs161/root/include/machine
ln -s mips /home/u1/djj0013/cs161/root/include/machine
Installing kernel includes...
Installing machine-dependent includes for mips...
make[2]: Leaving directory `/home/u1/djj0013/cs161/src/kern'
(cd include && make includes)
make[2]: Entering directory `/home/u1/djj0013/cs161/src/include'
[ -d /home/u1/djj0013/cs161/root/include ] || mkdir -p /home/u1/djj0013/cs161/root/include
[ -d /home/u1/djj0013/cs161/root/include/sys ] || mkdir -p /home/u1/djj0013/cs161/root/include/sys
Installing library includes...
make[2]: Leaving directory `/home/u1/djj0013/cs161/src/include'
(cd lib/hostcompat && make includes)
make[2]: Entering directory `/home/u1/djj0013/cs161/src/lib/hostcompat'
[ -d /home/u1/djj0013/cs161/root/hostinclude ] || mkdir /home/u1/djj0013/cs161/root/hostinclude
rm -f /home/u1/djj0013/cs161/root/hostinclude/kern
ln -s ../include/kern /home/u1/djj0013/cs161/root/hostinclude/kern
cp hostcompat.h /home/u1/djj0013/cs161/root/hostinclude
make[2]: Leaving directory `/home/u1/djj0013/cs161/src/lib/hostcompat'
make[1]: Leaving directory `/home/u1/djj0013/cs161/src'
make depend
make[1]: Entering directory `/home/u1/djj0013/cs161/src'
(cd include && make depend)
make[2]: Entering directory `/home/u1/djj0013/cs161/src/include'
make[2]: Nothing to be done for `depend'.
make[2]: Leaving directory `/home/u1/djj0013/cs161/src/include'
(cd lib && make depend)
make[2]: Entering directory `/home/u1/djj0013/cs161/src/lib'
(cd crt0 && make depend)
make[3]: Entering directory `/home/u1/djj0013/cs161/src/lib/crt0'
make[3]: `depend' is up to date.
make[3]: Leaving directory `/home/u1/djj0013/cs161/src/lib/crt0'
(cd libc && make depend)
make[3]: Entering directory `/home/u1/djj0013/cs161/src/lib/libc'
make syscalls.S
make[4]: Entering directory `/home/u1/djj0013/cs161/src/lib/libc'
make[4]: `syscalls.S' is up to date.
make[4]: Leaving directory `/home/u1/djj0013/cs161/src/lib/libc'
cs161-gcc  -nostdinc -I/home/u1/djj0013/cs161/root/include  -mno-abicalls -fno-pic -Wall -W -Wwrite-strings -O2 -M __printf.c snprintf.c printf.c atoi.c bzero.c memcmp.c memcpy.c memmove.c memset.c strcat.c strchr.c strcmp.c strcpy.c strlen.c strrchr.c strtok.c strtok_r.c __assert.c __puts.c err.c getchar.c putchar.c puts.c  abort.c errno.c exit.c getcwd.c random.c strerror.c system.c time.c mips-setjmp.S syscalls.S |\
  awk '{x=$0~"^ ";for(i=1;i<=NF;i++){printf "%d %s\n",x,$i;x=1; }}'|\
  sed '/1 \\/d' | awk '{ printf "%s%s", $1?" \\\n ":"\n", $2 }' |\
  sed 's|/home/u1/djj0013/cs161/root|$(OSTREE)|;$p;$x' > depend.mk
make[3]: Leaving directory `/home/u1/djj0013/cs161/src/lib/libc'
(cd hostcompat && make depend)
make[3]: Entering directory `/home/u1/djj0013/cs161/src/lib/hostcompat'
gcc  -Wall -W -Wwrite-strings -O2 -I/home/u1/djj0013/cs161/root/hostinclude  -MM err.c time.c hostcompat.c |\
  awk '{x=$0~"^ ";for(i=1;i<=NF;i++){printf "%d %s\n",x,$i;x=1; }}'|\
  sed '/1 \\/d' | awk '{ printf "%s%s", $1?" \\\n ":"\n", $2 }' |\
  sed 's/\.o/\.ho/' |\
  sed 's|/home/u1/djj0013/cs161/root|$(OSTREE)|;$p;$x' > dependh.mk
make[3]: Leaving directory `/home/u1/djj0013/cs161/src/lib/hostcompat'
make[2]: Leaving directory `/home/u1/djj0013/cs161/src/lib'
(cd bin && make depend)
make[2]: Entering directory `/home/u1/djj0013/cs161/src/bin'
(cd true && make depend)
make[3]: Entering directory `/home/u1/djj0013/cs161/src/bin/true'
cs161-gcc  -nostdinc -I/home/u1/djj0013/cs161/root/include  -mno-abicalls -fno-pic -Wall -W -Wwrite-strings -O2 -M true.c |\
  awk '{x=$0~"^ ";for(i=1;i<=NF;i++){printf "%d %s\n",x,$i;x=1; }}'|\
  sed '/1 \\/d' | awk '{ printf "%s%s", $1?" \\\n ":"\n", $2 }' |\
  sed 's|/home/u1/djj0013/cs161/root|$(OSTREE)|;$p;$x' > .deptmp
mv -f .deptmp depend.mk
make[3]: Leaving directory `/home/u1/djj0013/cs161/src/bin/true'
(cd false && make depend)
make[3]: Entering directory `/home/u1/djj0013/cs161/src/bin/false'
cs161-gcc  -nostdinc -I/home/u1/djj0013/cs161/root/include  -mno-abicalls -fno-pic -Wall -W -Wwrite-strings -O2 -M false.c |\
  awk '{x=$0~"^ ";for(i=1;i<=NF;i++){printf "%d %s\n",x,$i;x=1; }}'|\
  sed '/1 \\/d' | awk '{ printf "%s%s", $1?" \\\n ":"\n", $2 }' |\
  sed 's|/home/u1/djj0013/cs161/root|$(OSTREE)|;$p;$x' > .deptmp
mv -f .deptmp depend.mk
make[3]: Leaving directory `/home/u1/djj0013/cs161/src/bin/false'
(cd sync && make depend)
make[3]: Entering directory `/home/u1/djj0013/cs161/src/bin/sync'
cs161-gcc  -nostdinc -I/home/u1/djj0013/cs161/root/include  -mno-abicalls -fno-pic -Wall -W -Wwrite-strings -O2 -M sync.c |\
  awk '{x=$0~"^ ";for(i=1;i<=NF;i++){printf "%d %s\n",x,$i;x=1; }}'|\
  sed '/1 \\/d' | awk '{ printf "%s%s", $1?" \\\n ":"\n", $2 }' |\
  sed 's|/home/u1/djj0013/cs161/root|$(OSTREE)|;$p;$x' > .deptmp
mv -f .deptmp depend.mk
make[3]: Leaving directory `/home/u1/djj0013/cs161/src/bin/sync'
(cd mkdir && make depend)
make[3]: Entering directory `/home/u1/djj0013/cs161/src/bin/mkdir'
cs161-gcc  -nostdinc -I/home/u1/djj0013/cs161/root/include  -mno-abicalls -fno-pic -Wall -W -Wwrite-strings -O2 -M mkdir.c |\
  awk '{x=$0~"^ ";for(i=1;i<=NF;i++){printf "%d %s\n",x,$i;x=1; }}'|\
  sed '/1 \\/d' | awk '{ printf "%s%s", $1?" \\\n ":"\n", $2 }' |\
  sed 's|/home/u1/djj0013/cs161/root|$(OSTREE)|;$p;$x' > .deptmp
mv -f .deptmp depend.mk
make[3]: Leaving directory `/home/u1/djj0013/cs161/src/bin/mkdir'
(cd rmdir && make depend)
make[3]: Entering directory `/home/u1/djj0013/cs161/src/bin/rmdir'
cs161-gcc  -nostdinc -I/home/u1/djj0013/cs161/root/include  -mno-abicalls -fno-pic -Wall -W -Wwrite-strings -O2 -M rmdir.c |\
  awk '{x=$0~"^ ";for(i=1;i<=NF;i++){printf "%d %s\n",x,$i;x=1; }}'|\
  sed '/1 \\/d' | awk '{ printf "%s%s", $1?" \\\n ":"\n", $2 }' |\
  sed 's|/home/u1/djj0013/cs161/root|$(OSTREE)|;$p;$x' > .deptmp
mv -f .deptmp depend.mk
make[3]: Leaving directory `/home/u1/djj0013/cs161/src/bin/rmdir'
(cd pwd && make depend)
make[3]: Entering directory `/home/u1/djj0013/cs161/src/bin/pwd'
cs161-gcc  -nostdinc -I/home/u1/djj0013/cs161/root/include  -mno-abicalls -fno-pic -Wall -W -Wwrite-strings -O2 -M pwd.c |\
  awk '{x=$0~"^ ";for(i=1;i<=NF;i++){printf "%d %s\n",x,$i;x=1; }}'|\
  sed '/1 \\/d' | awk '{ printf "%s%s", $1?" \\\n ":"\n", $2 }' |\
  sed 's|/home/u1/djj0013/cs161/root|$(OSTREE)|;$p;$x' > .deptmp
mv -f .deptmp depend.mk
make[3]: Leaving directory `/home/u1/djj0013/cs161/src/bin/pwd'
(cd cat && make depend)
make[3]: Entering directory `/home/u1/djj0013/cs161/src/bin/cat'
cs161-gcc  -nostdinc -I/home/u1/djj0013/cs161/root/include  -mno-abicalls -fno-pic -Wall -W -Wwrite-strings -O2 -M cat.c |\
  awk '{x=$0~"^ ";for(i=1;i<=NF;i++){printf "%d %s\n",x,$i;x=1; }}'|\
  sed '/1 \\/d' | awk '{ printf "%s%s", $1?" \\\n ":"\n", $2 }' |\
  sed 's|/home/u1/djj0013/cs161/root|$(OSTREE)|;$p;$x' > .deptmp
mv -f .deptmp depend.mk
make[3]: Leaving directory `/home/u1/djj0013/cs161/src/bin/cat'
(cd cp && make depend)
make[3]: Entering directory `/home/u1/djj0013/cs161/src/bin/cp'
cs161-gcc  -nostdinc -I/home/u1/djj0013/cs161/root/include  -mno-abicalls -fno-pic -Wall -W -Wwrite-strings -O2 -M cp.c |\
  awk '{x=$0~"^ ";for(i=1;i<=NF;i++){printf "%d %s\n",x,$i;x=1; }}'|\
  sed '/1 \\/d' | awk '{ printf "%s%s", $1?" \\\n ":"\n", $2 }' |\
  sed 's|/home/u1/djj0013/cs161/root|$(OSTREE)|;$p;$x' > .deptmp
mv -f .deptmp depend.mk
make[3]: Leaving directory `/home/u1/djj0013/cs161/src/bin/cp'
(cd ln && make depend)
make[3]: Entering directory `/home/u1/djj0013/cs161/src/bin/ln'
cs161-gcc  -nostdinc -I/home/u1/djj0013/cs161/root/include  -mno-abicalls -fno-pic -Wall -W -Wwrite-strings -O2 -M ln.c |\
  awk '{x=$0~"^ ";for(i=1;i<=NF;i++){printf "%d %s\n",x,$i;x=1; }}'|\
  sed '/1 \\/d' | awk '{ printf "%s%s", $1?" \\\n ":"\n", $2 }' |\
  sed 's|/home/u1/djj0013/cs161/root|$(OSTREE)|;$p;$x' > .deptmp
mv -f .deptmp depend.mk
make[3]: Leaving directory `/home/u1/djj0013/cs161/src/bin/ln'
(cd mv && make depend)
make[3]: Entering directory `/home/u1/djj0013/cs161/src/bin/mv'
cs161-gcc  -nostdinc -I/home/u1/djj0013/cs161/root/include  -mno-abicalls -fno-pic -Wall -W -Wwrite-strings -O2 -M mv.c |\
  awk '{x=$0~"^ ";for(i=1;i<=NF;i++){printf "%d %s\n",x,$i;x=1; }}'|\
  sed '/1 \\/d' | awk '{ printf "%s%s", $1?" \\\n ":"\n", $2 }' |\
  sed 's|/home/u1/djj0013/cs161/root|$(OSTREE)|;$p;$x' > .deptmp
mv -f .deptmp depend.mk
make[3]: Leaving directory `/home/u1/djj0013/cs161/src/bin/mv'
(cd rm && make depend)
make[3]: Entering directory `/home/u1/djj0013/cs161/src/bin/rm'
cs161-gcc  -nostdinc -I/home/u1/djj0013/cs161/root/include  -mno-abicalls -fno-pic -Wall -W -Wwrite-strings -O2 -M rm.c |\
  awk '{x=$0~"^ ";for(i=1;i<=NF;i++){printf "%d %s\n",x,$i;x=1; }}'|\
  sed '/1 \\/d' | awk '{ printf "%s%s", $1?" \\\n ":"\n", $2 }' |\
  sed 's|/home/u1/djj0013/cs161/root|$(OSTREE)|;$p;$x' > .deptmp
mv -f .deptmp depend.mk
make[3]: Leaving directory `/home/u1/djj0013/cs161/src/bin/rm'
(cd ls && make depend)
make[3]: Entering directory `/home/u1/djj0013/cs161/src/bin/ls'
cs161-gcc  -nostdinc -I/home/u1/djj0013/cs161/root/include  -mno-abicalls -fno-pic -Wall -W -Wwrite-strings -O2 -M ls.c |\
  awk '{x=$0~"^ ";for(i=1;i<=NF;i++){printf "%d %s\n",x,$i;x=1; }}'|\
  sed '/1 \\/d' | awk '{ printf "%s%s", $1?" \\\n ":"\n", $2 }' |\
  sed 's|/home/u1/djj0013/cs161/root|$(OSTREE)|;$p;$x' > .deptmp
mv -f .deptmp depend.mk
make[3]: Leaving directory `/home/u1/djj0013/cs161/src/bin/ls'
(cd sh && make depend)
make[3]: Entering directory `/home/u1/djj0013/cs161/src/bin/sh'
cs161-gcc  -nostdinc -I/home/u1/djj0013/cs161/root/include  -mno-abicalls -fno-pic -Wall -W -Wwrite-strings -O2 -M sh.c |\
  awk '{x=$0~"^ ";for(i=1;i<=NF;i++){printf "%d %s\n",x,$i;x=1; }}'|\
  sed '/1 \\/d' | awk '{ printf "%s%s", $1?" \\\n ":"\n", $2 }' |\
  sed 's|/home/u1/djj0013/cs161/root|$(OSTREE)|;$p;$x' > .deptmp
mv -f .deptmp depend.mk
gcc  -Wall -W -Wwrite-strings -O2 -I/home/u1/djj0013/cs161/root/hostinclude -DHOST -MM sh.c |\
  awk '{x=$0~"^ ";for(i=1;i<=NF;i++){printf "%d %s\n",x,$i;x=1; }}'|\
  sed '/1 \\/d' | awk '{ printf "%s%s", $1?" \\\n ":"\n", $2 }' |\
  sed 's/\.o/\.ho/' |\
  sed 's|/home/u1/djj0013/cs161/root|$(OSTREE)|;$p;$x' > .deptmp
mv -f .deptmp dependh.mk
make[3]: Leaving directory `/home/u1/djj0013/cs161/src/bin/sh'
make[2]: Leaving directory `/home/u1/djj0013/cs161/src/bin'
(cd sbin && make depend)
make[2]: Entering directory `/home/u1/djj0013/cs161/src/sbin'
(cd reboot && make depend)
make[3]: Entering directory `/home/u1/djj0013/cs161/src/sbin/reboot'
cs161-gcc  -nostdinc -I/home/u1/djj0013/cs161/root/include  -mno-abicalls -fno-pic -Wall -W -Wwrite-strings -O2 -M reboot.c |\
  awk '{x=$0~"^ ";for(i=1;i<=NF;i++){printf "%d %s\n",x,$i;x=1; }}'|\
  sed '/1 \\/d' | awk '{ printf "%s%s", $1?" \\\n ":"\n", $2 }' |\
  sed 's|/home/u1/djj0013/cs161/root|$(OSTREE)|;$p;$x' > .deptmp
mv -f .deptmp depend.mk
make[3]: Leaving directory `/home/u1/djj0013/cs161/src/sbin/reboot'
(cd halt && make depend)
make[3]: Entering directory `/home/u1/djj0013/cs161/src/sbin/halt'
cs161-gcc  -nostdinc -I/home/u1/djj0013/cs161/root/include  -mno-abicalls -fno-pic -Wall -W -Wwrite-strings -O2 -M halt.c |\
  awk '{x=$0~"^ ";for(i=1;i<=NF;i++){printf "%d %s\n",x,$i;x=1; }}'|\
  sed '/1 \\/d' | awk '{ printf "%s%s", $1?" \\\n ":"\n", $2 }' |\
  sed 's|/home/u1/djj0013/cs161/root|$(OSTREE)|;$p;$x' > .deptmp
mv -f .deptmp depend.mk
make[3]: Leaving directory `/home/u1/djj0013/cs161/src/sbin/halt'
(cd poweroff && make depend)
make[3]: Entering directory `/home/u1/djj0013/cs161/src/sbin/poweroff'
cs161-gcc  -nostdinc -I/home/u1/djj0013/cs161/root/include  -mno-abicalls -fno-pic -Wall -W -Wwrite-strings -O2 -M poweroff.c |\
  awk '{x=$0~"^ ";for(i=1;i<=NF;i++){printf "%d %s\n",x,$i;x=1; }}'|\
  sed '/1 \\/d' | awk '{ printf "%s%s", $1?" \\\n ":"\n", $2 }' |\
  sed 's|/home/u1/djj0013/cs161/root|$(OSTREE)|;$p;$x' > .deptmp
mv -f .deptmp depend.mk
make[3]: Leaving directory `/home/u1/djj0013/cs161/src/sbin/poweroff'
(cd mksfs && make depend)
make[3]: Entering directory `/home/u1/djj0013/cs161/src/sbin/mksfs'
cs161-gcc  -nostdinc -I/home/u1/djj0013/cs161/root/include  -mno-abicalls -fno-pic -Wall -W -Wwrite-strings -O2 -M mksfs.c disk.c support.c |\
  awk '{x=$0~"^ ";for(i=1;i<=NF;i++){printf "%d %s\n",x,$i;x=1; }}'|\
  sed '/1 \\/d' | awk '{ printf "%s%s", $1?" \\\n ":"\n", $2 }' |\
  sed 's|/home/u1/djj0013/cs161/root|$(OSTREE)|;$p;$x' > .deptmp
mv -f .deptmp depend.mk
gcc  -Wall -W -Wwrite-strings -O2 -I/home/u1/djj0013/cs161/root/hostinclude -DHOST -MM mksfs.c disk.c support.c |\
  awk '{x=$0~"^ ";for(i=1;i<=NF;i++){printf "%d %s\n",x,$i;x=1; }}'|\
  sed '/1 \\/d' | awk '{ printf "%s%s", $1?" \\\n ":"\n", $2 }' |\
  sed 's/\.o/\.ho/' |\
  sed 's|/home/u1/djj0013/cs161/root|$(OSTREE)|;$p;$x' > .deptmp
mv -f .deptmp dependh.mk
make[3]: Leaving directory `/home/u1/djj0013/cs161/src/sbin/mksfs'
(cd dumpsfs && make depend)
make[3]: Entering directory `/home/u1/djj0013/cs161/src/sbin/dumpsfs'
cs161-gcc  -nostdinc -I/home/u1/djj0013/cs161/root/include  -mno-abicalls -fno-pic -Wall -W -Wwrite-strings -O2 -M dumpsfs.c disk.c support.c |\
  awk '{x=$0~"^ ";for(i=1;i<=NF;i++){printf "%d %s\n",x,$i;x=1; }}'|\
  sed '/1 \\/d' | awk '{ printf "%s%s", $1?" \\\n ":"\n", $2 }' |\
  sed 's|/home/u1/djj0013/cs161/root|$(OSTREE)|;$p;$x' > .deptmp
mv -f .deptmp depend.mk
gcc  -Wall -W -Wwrite-strings -O2 -I/home/u1/djj0013/cs161/root/hostinclude -DHOST -MM dumpsfs.c disk.c support.c |\
  awk '{x=$0~"^ ";for(i=1;i<=NF;i++){printf "%d %s\n",x,$i;x=1; }}'|\
  sed '/1 \\/d' | awk '{ printf "%s%s", $1?" \\\n ":"\n", $2 }' |\
  sed 's/\.o/\.ho/' |\
  sed 's|/home/u1/djj0013/cs161/root|$(OSTREE)|;$p;$x' > .deptmp
mv -f .deptmp dependh.mk
make[3]: Leaving directory `/home/u1/djj0013/cs161/src/sbin/dumpsfs'
make[2]: Leaving directory `/home/u1/djj0013/cs161/src/sbin'
(cd testbin && make depend)
make[2]: Entering directory `/home/u1/djj0013/cs161/src/testbin'
(cd add && make depend)
make[3]: Entering directory `/home/u1/djj0013/cs161/src/testbin/add'
cs161-gcc  -nostdinc -I/home/u1/djj0013/cs161/root/include  -mno-abicalls -fno-pic -Wall -W -Wwrite-strings -O2 -M add.c |\
  awk '{x=$0~"^ ";for(i=1;i<=NF;i++){printf "%d %s\n",x,$i;x=1; }}'|\
  sed '/1 \\/d' | awk '{ printf "%s%s", $1?" \\\n ":"\n", $2 }' |\
  sed 's|/home/u1/djj0013/cs161/root|$(OSTREE)|;$p;$x' > .deptmp
mv -f .deptmp depend.mk
make[3]: Leaving directory `/home/u1/djj0013/cs161/src/testbin/add'
(cd argtest && make depend)
make[3]: Entering directory `/home/u1/djj0013/cs161/src/testbin/argtest'
cs161-gcc  -nostdinc -I/home/u1/djj0013/cs161/root/include  -mno-abicalls -fno-pic -Wall -W -Wwrite-strings -O2 -M argtest.c |\
  awk '{x=$0~"^ ";for(i=1;i<=NF;i++){printf "%d %s\n",x,$i;x=1; }}'|\
  sed '/1 \\/d' | awk '{ printf "%s%s", $1?" \\\n ":"\n", $2 }' |\
  sed 's|/home/u1/djj0013/cs161/root|$(OSTREE)|;$p;$x' > .deptmp
mv -f .deptmp depend.mk
make[3]: Leaving directory `/home/u1/djj0013/cs161/src/testbin/argtest'
(cd badcall && make depend)
make[3]: Entering directory `/home/u1/djj0013/cs161/src/testbin/badcall'
cs161-gcc  -nostdinc -I/home/u1/djj0013/cs161/root/include  -mno-abicalls -fno-pic -Wall -W -Wwrite-strings -O2 -M bad_execv.c bad_waitpid.c bad_open.c bad_read.c bad_write.c bad_close.c bad_reboot.c bad_sbrk.c bad_ioctl.c bad_lseek.c bad_fsync.c bad_ftruncate.c bad_stat.c bad_remove.c bad_rename.c bad_link.c bad_mkdir.c bad_rmdir.c bad_chdir.c bad_getdirentry.c bad_symlink.c bad_readlink.c bad_dup2.c bad_pipe.c bad_time.c bad_getcwd.c common_buf.c common_fds.c common_path.c driver.c |\
  awk '{x=$0~"^ ";for(i=1;i<=NF;i++){printf "%d %s\n",x,$i;x=1; }}'|\
  sed '/1 \\/d' | awk '{ printf "%s%s", $1?" \\\n ":"\n", $2 }' |\
  sed 's|/home/u1/djj0013/cs161/root|$(OSTREE)|;$p;$x' > .deptmp
mv -f .deptmp depend.mk
make[3]: Leaving directory `/home/u1/djj0013/cs161/src/testbin/badcall'
(cd bigfile && make depend)
make[3]: Entering directory `/home/u1/djj0013/cs161/src/testbin/bigfile'
cs161-gcc  -nostdinc -I/home/u1/djj0013/cs161/root/include  -mno-abicalls -fno-pic -Wall -W -Wwrite-strings -O2 -M bigfile.c |\
  awk '{x=$0~"^ ";for(i=1;i<=NF;i++){printf "%d %s\n",x,$i;x=1; }}'|\
  sed '/1 \\/d' | awk '{ printf "%s%s", $1?" \\\n ":"\n", $2 }' |\
  sed 's|/home/u1/djj0013/cs161/root|$(OSTREE)|;$p;$x' > .deptmp
mv -f .deptmp depend.mk
make[3]: Leaving directory `/home/u1/djj0013/cs161/src/testbin/bigfile'
(cd conman && make depend)
make[3]: Entering directory `/home/u1/djj0013/cs161/src/testbin/conman'
cs161-gcc  -nostdinc -I/home/u1/djj0013/cs161/root/include  -mno-abicalls -fno-pic -Wall -W -Wwrite-strings -O2 -M conman.c |\
  awk '{x=$0~"^ ";for(i=1;i<=NF;i++){printf "%d %s\n",x,$i;x=1; }}'|\
  sed '/1 \\/d' | awk '{ printf "%s%s", $1?" \\\n ":"\n", $2 }' |\
  sed 's|/home/u1/djj0013/cs161/root|$(OSTREE)|;$p;$x' > .deptmp
mv -f .deptmp depend.mk
make[3]: Leaving directory `/home/u1/djj0013/cs161/src/testbin/conman'
(cd crash && make depend)
make[3]: Entering directory `/home/u1/djj0013/cs161/src/testbin/crash'
cs161-gcc  -nostdinc -I/home/u1/djj0013/cs161/root/include  -mno-abicalls -fno-pic -Wall -W -Wwrite-strings -O2 -M crash.c |\
  awk '{x=$0~"^ ";for(i=1;i<=NF;i++){printf "%d %s\n",x,$i;x=1; }}'|\
  sed '/1 \\/d' | awk '{ printf "%s%s", $1?" \\\n ":"\n", $2 }' |\
  sed 's|/home/u1/djj0013/cs161/root|$(OSTREE)|;$p;$x' > .deptmp
mv -f .deptmp depend.mk
make[3]: Leaving directory `/home/u1/djj0013/cs161/src/testbin/crash'
(cd ctest && make depend)
make[3]: Entering directory `/home/u1/djj0013/cs161/src/testbin/ctest'
cs161-gcc  -nostdinc -I/home/u1/djj0013/cs161/root/include  -mno-abicalls -fno-pic -Wall -W -Wwrite-strings -O2 -M ctest.c |\
  awk '{x=$0~"^ ";for(i=1;i<=NF;i++){printf "%d %s\n",x,$i;x=1; }}'|\
  sed '/1 \\/d' | awk '{ printf "%s%s", $1?" \\\n ":"\n", $2 }' |\
  sed 's|/home/u1/djj0013/cs161/root|$(OSTREE)|;$p;$x' > .deptmp
mv -f .deptmp depend.mk
make[3]: Leaving directory `/home/u1/djj0013/cs161/src/testbin/ctest'
(cd dirconc && make depend)
make[3]: Entering directory `/home/u1/djj0013/cs161/src/testbin/dirconc'
cs161-gcc  -nostdinc -I/home/u1/djj0013/cs161/root/include  -mno-abicalls -fno-pic -Wall -W -Wwrite-strings -O2 -M dirconc.c |\
  awk '{x=$0~"^ ";for(i=1;i<=NF;i++){printf "%d %s\n",x,$i;x=1; }}'|\
  sed '/1 \\/d' | awk '{ printf "%s%s", $1?" \\\n ":"\n", $2 }' |\
  sed 's|/home/u1/djj0013/cs161/root|$(OSTREE)|;$p;$x' > .deptmp
mv -f .deptmp depend.mk
make[3]: Leaving directory `/home/u1/djj0013/cs161/src/testbin/dirconc'
(cd dirseek && make depend)
make[3]: Entering directory `/home/u1/djj0013/cs161/src/testbin/dirseek'
cs161-gcc  -nostdinc -I/home/u1/djj0013/cs161/root/include  -mno-abicalls -fno-pic -Wall -W -Wwrite-strings -O2 -M dirseek.c |\
  awk '{x=$0~"^ ";for(i=1;i<=NF;i++){printf "%d %s\n",x,$i;x=1; }}'|\
  sed '/1 \\/d' | awk '{ printf "%s%s", $1?" \\\n ":"\n", $2 }' |\
  sed 's|/home/u1/djj0013/cs161/root|$(OSTREE)|;$p;$x' > .deptmp
mv -f .deptmp depend.mk
make[3]: Leaving directory `/home/u1/djj0013/cs161/src/testbin/dirseek'
(cd dirtest && make depend)
make[3]: Entering directory `/home/u1/djj0013/cs161/src/testbin/dirtest'
cs161-gcc  -nostdinc -I/home/u1/djj0013/cs161/root/include  -mno-abicalls -fno-pic -Wall -W -Wwrite-strings -O2 -M dirtest.c |\
  awk '{x=$0~"^ ";for(i=1;i<=NF;i++){printf "%d %s\n",x,$i;x=1; }}'|\
  sed '/1 \\/d' | awk '{ printf "%s%s", $1?" \\\n ":"\n", $2 }' |\
  sed 's|/home/u1/djj0013/cs161/root|$(OSTREE)|;$p;$x' > .deptmp
mv -f .deptmp depend.mk
make[3]: Leaving directory `/home/u1/djj0013/cs161/src/testbin/dirtest'
(cd f_test && make depend)
make[3]: Entering directory `/home/u1/djj0013/cs161/src/testbin/f_test'
cs161-gcc  -nostdinc -I/home/u1/djj0013/cs161/root/include  -mno-abicalls -fno-pic -Wall -W -Wwrite-strings -O2 -M f_test.c f_read.c f_write.c |\
  awk '{x=$0~"^ ";for(i=1;i<=NF;i++){printf "%d %s\n",x,$i;x=1; }}'|\
  sed '/1 \\/d' | awk '{ printf "%s%s", $1?" \\\n ":"\n", $2 }' |\
  sed 's|/home/u1/djj0013/cs161/root|$(OSTREE)|;$p;$x' > .deptmp
mv -f .deptmp depend.mk
make[3]: Leaving directory `/home/u1/djj0013/cs161/src/testbin/f_test'
(cd farm && make depend)
make[3]: Entering directory `/home/u1/djj0013/cs161/src/testbin/farm'
cs161-gcc  -nostdinc -I/home/u1/djj0013/cs161/root/include  -mno-abicalls -fno-pic -Wall -W -Wwrite-strings -O2 -M farm.c |\
  awk '{x=$0~"^ ";for(i=1;i<=NF;i++){printf "%d %s\n",x,$i;x=1; }}'|\
  sed '/1 \\/d' | awk '{ printf "%s%s", $1?" \\\n ":"\n", $2 }' |\
  sed 's|/home/u1/djj0013/cs161/root|$(OSTREE)|;$p;$x' > .deptmp
mv -f .deptmp depend.mk
make[3]: Leaving directory `/home/u1/djj0013/cs161/src/testbin/farm'
(cd faulter && make depend)
make[3]: Entering directory `/home/u1/djj0013/cs161/src/testbin/faulter'
cs161-gcc  -nostdinc -I/home/u1/djj0013/cs161/root/include  -mno-abicalls -fno-pic -Wall -W -Wwrite-strings -O2 -M faulter.c |\
  awk '{x=$0~"^ ";for(i=1;i<=NF;i++){printf "%d %s\n",x,$i;x=1; }}'|\
  sed '/1 \\/d' | awk '{ printf "%s%s", $1?" \\\n ":"\n", $2 }' |\
  sed 's|/home/u1/djj0013/cs161/root|$(OSTREE)|;$p;$x' > .deptmp
mv -f .deptmp depend.mk
make[3]: Leaving directory `/home/u1/djj0013/cs161/src/testbin/faulter'
(cd filetest && make depend)
make[3]: Entering directory `/home/u1/djj0013/cs161/src/testbin/filetest'
cs161-gcc  -nostdinc -I/home/u1/djj0013/cs161/root/include  -mno-abicalls -fno-pic -Wall -W -Wwrite-strings -O2 -M filetest.c |\
  awk '{x=$0~"^ ";for(i=1;i<=NF;i++){printf "%d %s\n",x,$i;x=1; }}'|\
  sed '/1 \\/d' | awk '{ printf "%s%s", $1?" \\\n ":"\n", $2 }' |\
  sed 's|/home/u1/djj0013/cs161/root|$(OSTREE)|;$p;$x' > .deptmp
mv -f .deptmp depend.mk
make[3]: Leaving directory `/home/u1/djj0013/cs161/src/testbin/filetest'
(cd forkbomb && make depend)
make[3]: Entering directory `/home/u1/djj0013/cs161/src/testbin/forkbomb'
cs161-gcc  -nostdinc -I/home/u1/djj0013/cs161/root/include  -mno-abicalls -fno-pic -Wall -W -Wwrite-strings -O2 -M forkbomb.c |\
  awk '{x=$0~"^ ";for(i=1;i<=NF;i++){printf "%d %s\n",x,$i;x=1; }}'|\
  sed '/1 \\/d' | awk '{ printf "%s%s", $1?" \\\n ":"\n", $2 }' |\
  sed 's|/home/u1/djj0013/cs161/root|$(OSTREE)|;$p;$x' > .deptmp
mv -f .deptmp depend.mk
make[3]: Leaving directory `/home/u1/djj0013/cs161/src/testbin/forkbomb'
(cd forktest && make depend)
make[3]: Entering directory `/home/u1/djj0013/cs161/src/testbin/forktest'
cs161-gcc  -nostdinc -I/home/u1/djj0013/cs161/root/include  -mno-abicalls -fno-pic -Wall -W -Wwrite-strings -O2 -M forktest.c |\
  awk '{x=$0~"^ ";for(i=1;i<=NF;i++){printf "%d %s\n",x,$i;x=1; }}'|\
  sed '/1 \\/d' | awk '{ printf "%s%s", $1?" \\\n ":"\n", $2 }' |\
  sed 's|/home/u1/djj0013/cs161/root|$(OSTREE)|;$p;$x' > .deptmp
mv -f .deptmp depend.mk
make[3]: Leaving directory `/home/u1/djj0013/cs161/src/testbin/forktest'
(cd guzzle && make depend)
make[3]: Entering directory `/home/u1/djj0013/cs161/src/testbin/guzzle'
cs161-gcc  -nostdinc -I/home/u1/djj0013/cs161/root/include  -mno-abicalls -fno-pic -Wall -W -Wwrite-strings -O2 -M guzzle.c |\
  awk '{x=$0~"^ ";for(i=1;i<=NF;i++){printf "%d %s\n",x,$i;x=1; }}'|\
  sed '/1 \\/d' | awk '{ printf "%s%s", $1?" \\\n ":"\n", $2 }' |\
  sed 's|/home/u1/djj0013/cs161/root|$(OSTREE)|;$p;$x' > .deptmp
mv -f .deptmp depend.mk
make[3]: Leaving directory `/home/u1/djj0013/cs161/src/testbin/guzzle'
(cd hash && make depend)
make[3]: Entering directory `/home/u1/djj0013/cs161/src/testbin/hash'
cs161-gcc  -nostdinc -I/home/u1/djj0013/cs161/root/include  -mno-abicalls -fno-pic -Wall -W -Wwrite-strings -O2 -M hash.c |\
  awk '{x=$0~"^ ";for(i=1;i<=NF;i++){printf "%d %s\n",x,$i;x=1; }}'|\
  sed '/1 \\/d' | awk '{ printf "%s%s", $1?" \\\n ":"\n", $2 }' |\
  sed 's|/home/u1/djj0013/cs161/root|$(OSTREE)|;$p;$x' > .deptmp
mv -f .deptmp depend.mk
gcc  -Wall -W -Wwrite-strings -O2 -I/home/u1/djj0013/cs161/root/hostinclude -DHOST -MM hash.c |\
  awk '{x=$0~"^ ";for(i=1;i<=NF;i++){printf "%d %s\n",x,$i;x=1; }}'|\
  sed '/1 \\/d' | awk '{ printf "%s%s", $1?" \\\n ":"\n", $2 }' |\
  sed 's/\.o/\.ho/' |\
  sed 's|/home/u1/djj0013/cs161/root|$(OSTREE)|;$p;$x' > .deptmp
mv -f .deptmp dependh.mk
make[3]: Leaving directory `/home/u1/djj0013/cs161/src/testbin/hash'
(cd hog && make depend)
make[3]: Entering directory `/home/u1/djj0013/cs161/src/testbin/hog'
cs161-gcc  -nostdinc -I/home/u1/djj0013/cs161/root/include  -mno-abicalls -fno-pic -Wall -W -Wwrite-strings -O2 -M hog.c |\
  awk '{x=$0~"^ ";for(i=1;i<=NF;i++){printf "%d %s\n",x,$i;x=1; }}'|\
  sed '/1 \\/d' | awk '{ printf "%s%s", $1?" \\\n ":"\n", $2 }' |\
  sed 's|/home/u1/djj0013/cs161/root|$(OSTREE)|;$p;$x' > .deptmp
mv -f .deptmp depend.mk
make[3]: Leaving directory `/home/u1/djj0013/cs161/src/testbin/hog'
(cd huge && make depend)
make[3]: Entering directory `/home/u1/djj0013/cs161/src/testbin/huge'
cs161-gcc  -nostdinc -I/home/u1/djj0013/cs161/root/include  -mno-abicalls -fno-pic -Wall -W -Wwrite-strings -O2 -M huge.c |\
  awk '{x=$0~"^ ";for(i=1;i<=NF;i++){printf "%d %s\n",x,$i;x=1; }}'|\
  sed '/1 \\/d' | awk '{ printf "%s%s", $1?" \\\n ":"\n", $2 }' |\
  sed 's|/home/u1/djj0013/cs161/root|$(OSTREE)|;$p;$x' > .deptmp
mv -f .deptmp depend.mk
make[3]: Leaving directory `/home/u1/djj0013/cs161/src/testbin/huge'
(cd kitchen && make depend)
make[3]: Entering directory `/home/u1/djj0013/cs161/src/testbin/kitchen'
cs161-gcc  -nostdinc -I/home/u1/djj0013/cs161/root/include  -mno-abicalls -fno-pic -Wall -W -Wwrite-strings -O2 -M kitchen.c |\
  awk '{x=$0~"^ ";for(i=1;i<=NF;i++){printf "%d %s\n",x,$i;x=1; }}'|\
  sed '/1 \\/d' | awk '{ printf "%s%s", $1?" \\\n ":"\n", $2 }' |\
  sed 's|/home/u1/djj0013/cs161/root|$(OSTREE)|;$p;$x' > .deptmp
mv -f .deptmp depend.mk
make[3]: Leaving directory `/home/u1/djj0013/cs161/src/testbin/kitchen'
(cd matmult && make depend)
make[3]: Entering directory `/home/u1/djj0013/cs161/src/testbin/matmult'
cs161-gcc  -nostdinc -I/home/u1/djj0013/cs161/root/include  -mno-abicalls -fno-pic -Wall -W -Wwrite-strings -O2 -M matmult.c |\
  awk '{x=$0~"^ ";for(i=1;i<=NF;i++){printf "%d %s\n",x,$i;x=1; }}'|\
  sed '/1 \\/d' | awk '{ printf "%s%s", $1?" \\\n ":"\n", $2 }' |\
  sed 's|/home/u1/djj0013/cs161/root|$(OSTREE)|;$p;$x' > .deptmp
mv -f .deptmp depend.mk
make[3]: Leaving directory `/home/u1/djj0013/cs161/src/testbin/matmult'
(cd palin && make depend)
make[3]: Entering directory `/home/u1/djj0013/cs161/src/testbin/palin'
cs161-gcc  -nostdinc -I/home/u1/djj0013/cs161/root/include  -mno-abicalls -fno-pic -Wall -W -Wwrite-strings -O2 -M palin.c |\
  awk '{x=$0~"^ ";for(i=1;i<=NF;i++){printf "%d %s\n",x,$i;x=1; }}'|\
  sed '/1 \\/d' | awk '{ printf "%s%s", $1?" \\\n ":"\n", $2 }' |\
  sed 's|/home/u1/djj0013/cs161/root|$(OSTREE)|;$p;$x' > .deptmp
mv -f .deptmp depend.mk
make[3]: Leaving directory `/home/u1/djj0013/cs161/src/testbin/palin'
(cd parallelvm && make depend)
make[3]: Entering directory `/home/u1/djj0013/cs161/src/testbin/parallelvm'
cs161-gcc  -nostdinc -I/home/u1/djj0013/cs161/root/include  -mno-abicalls -fno-pic -Wall -W -Wwrite-strings -O2 -M parallelvm.c |\
  awk '{x=$0~"^ ";for(i=1;i<=NF;i++){printf "%d %s\n",x,$i;x=1; }}'|\
  sed '/1 \\/d' | awk '{ printf "%s%s", $1?" \\\n ":"\n", $2 }' |\
  sed 's|/home/u1/djj0013/cs161/root|$(OSTREE)|;$p;$x' > .deptmp
mv -f .deptmp depend.mk
make[3]: Leaving directory `/home/u1/djj0013/cs161/src/testbin/parallelvm'
(cd randcall && make depend)
make[3]: Entering directory `/home/u1/djj0013/cs161/src/testbin/randcall'
make calls.c
make[4]: Entering directory `/home/u1/djj0013/cs161/src/testbin/randcall'
make[4]: `calls.c' is up to date.
make[4]: Leaving directory `/home/u1/djj0013/cs161/src/testbin/randcall'
cs161-gcc  -nostdinc -I/home/u1/djj0013/cs161/root/include  -mno-abicalls -fno-pic -Wall -W -Wwrite-strings -O2 -M calls.c main.c |\
  awk '{x=$0~"^ ";for(i=1;i<=NF;i++){printf "%d %s\n",x,$i;x=1; }}'|\
  sed '/1 \\/d' | awk '{ printf "%s%s", $1?" \\\n ":"\n", $2 }' |\
  sed 's|/home/u1/djj0013/cs161/root|$(OSTREE)|;$p;$x' > .deptmp
mv -f .deptmp depend.mk
make[3]: Leaving directory `/home/u1/djj0013/cs161/src/testbin/randcall'
(cd rmdirtest && make depend)
make[3]: Entering directory `/home/u1/djj0013/cs161/src/testbin/rmdirtest'
cs161-gcc  -nostdinc -I/home/u1/djj0013/cs161/root/include  -mno-abicalls -fno-pic -Wall -W -Wwrite-strings -O2 -M rmdirtest.c |\
  awk '{x=$0~"^ ";for(i=1;i<=NF;i++){printf "%d %s\n",x,$i;x=1; }}'|\
  sed '/1 \\/d' | awk '{ printf "%s%s", $1?" \\\n ":"\n", $2 }' |\
  sed 's|/home/u1/djj0013/cs161/root|$(OSTREE)|;$p;$x' > .deptmp
mv -f .deptmp depend.mk
make[3]: Leaving directory `/home/u1/djj0013/cs161/src/testbin/rmdirtest'
(cd rmtest && make depend)
make[3]: Entering directory `/home/u1/djj0013/cs161/src/testbin/rmtest'
cs161-gcc  -nostdinc -I/home/u1/djj0013/cs161/root/include  -mno-abicalls -fno-pic -Wall -W -Wwrite-strings -O2 -M rmtest.c |\
  awk '{x=$0~"^ ";for(i=1;i<=NF;i++){printf "%d %s\n",x,$i;x=1; }}'|\
  sed '/1 \\/d' | awk '{ printf "%s%s", $1?" \\\n ":"\n", $2 }' |\
  sed 's|/home/u1/djj0013/cs161/root|$(OSTREE)|;$p;$x' > .deptmp
mv -f .deptmp depend.mk
make[3]: Leaving directory `/home/u1/djj0013/cs161/src/testbin/rmtest'
(cd sink && make depend)
make[3]: Entering directory `/home/u1/djj0013/cs161/src/testbin/sink'
cs161-gcc  -nostdinc -I/home/u1/djj0013/cs161/root/include  -mno-abicalls -fno-pic -Wall -W -Wwrite-strings -O2 -M sink.c |\
  awk '{x=$0~"^ ";for(i=1;i<=NF;i++){printf "%d %s\n",x,$i;x=1; }}'|\
  sed '/1 \\/d' | awk '{ printf "%s%s", $1?" \\\n ":"\n", $2 }' |\
  sed 's|/home/u1/djj0013/cs161/root|$(OSTREE)|;$p;$x' > .deptmp
mv -f .deptmp depend.mk
make[3]: Leaving directory `/home/u1/djj0013/cs161/src/testbin/sink'
(cd sort && make depend)
make[3]: Entering directory `/home/u1/djj0013/cs161/src/testbin/sort'
cs161-gcc  -nostdinc -I/home/u1/djj0013/cs161/root/include  -mno-abicalls -fno-pic -Wall -W -Wwrite-strings -O2 -M sort.c |\
  awk '{x=$0~"^ ";for(i=1;i<=NF;i++){printf "%d %s\n",x,$i;x=1; }}'|\
  sed '/1 \\/d' | awk '{ printf "%s%s", $1?" \\\n ":"\n", $2 }' |\
  sed 's|/home/u1/djj0013/cs161/root|$(OSTREE)|;$p;$x' > .deptmp
mv -f .deptmp depend.mk
make[3]: Leaving directory `/home/u1/djj0013/cs161/src/testbin/sort'
(cd sty && make depend)
make[3]: Entering directory `/home/u1/djj0013/cs161/src/testbin/sty'
cs161-gcc  -nostdinc -I/home/u1/djj0013/cs161/root/include  -mno-abicalls -fno-pic -Wall -W -Wwrite-strings -O2 -M sty.c |\
  awk '{x=$0~"^ ";for(i=1;i<=NF;i++){printf "%d %s\n",x,$i;x=1; }}'|\
  sed '/1 \\/d' | awk '{ printf "%s%s", $1?" \\\n ":"\n", $2 }' |\
  sed 's|/home/u1/djj0013/cs161/root|$(OSTREE)|;$p;$x' > .deptmp
mv -f .deptmp depend.mk
make[3]: Leaving directory `/home/u1/djj0013/cs161/src/testbin/sty'
(cd tail && make depend)
make[3]: Entering directory `/home/u1/djj0013/cs161/src/testbin/tail'
cs161-gcc  -nostdinc -I/home/u1/djj0013/cs161/root/include  -mno-abicalls -fno-pic -Wall -W -Wwrite-strings -O2 -M tail.c |\
  awk '{x=$0~"^ ";for(i=1;i<=NF;i++){printf "%d %s\n",x,$i;x=1; }}'|\
  sed '/1 \\/d' | awk '{ printf "%s%s", $1?" \\\n ":"\n", $2 }' |\
  sed 's|/home/u1/djj0013/cs161/root|$(OSTREE)|;$p;$x' > .deptmp
mv -f .deptmp depend.mk
make[3]: Leaving directory `/home/u1/djj0013/cs161/src/testbin/tail'
(cd tictac && make depend)
make[3]: Entering directory `/home/u1/djj0013/cs161/src/testbin/tictac'
cs161-gcc  -nostdinc -I/home/u1/djj0013/cs161/root/include  -mno-abicalls -fno-pic -Wall -W -Wwrite-strings -O2 -M tictac.c |\
  awk '{x=$0~"^ ";for(i=1;i<=NF;i++){printf "%d %s\n",x,$i;x=1; }}'|\
  sed '/1 \\/d' | awk '{ printf "%s%s", $1?" \\\n ":"\n", $2 }' |\
  sed 's|/home/u1/djj0013/cs161/root|$(OSTREE)|;$p;$x' > .deptmp
mv -f .deptmp depend.mk
make[3]: Leaving directory `/home/u1/djj0013/cs161/src/testbin/tictac'
(cd triplehuge && make depend)
make[3]: Entering directory `/home/u1/djj0013/cs161/src/testbin/triplehuge'
cs161-gcc  -nostdinc -I/home/u1/djj0013/cs161/root/include  -mno-abicalls -fno-pic -Wall -W -Wwrite-strings -O2 -M triplehuge.c triple.c |\
  awk '{x=$0~"^ ";for(i=1;i<=NF;i++){printf "%d %s\n",x,$i;x=1; }}'|\
  sed '/1 \\/d' | awk '{ printf "%s%s", $1?" \\\n ":"\n", $2 }' |\
  sed 's|/home/u1/djj0013/cs161/root|$(OSTREE)|;$p;$x' > .deptmp
mv -f .deptmp depend.mk
make[3]: Leaving directory `/home/u1/djj0013/cs161/src/testbin/triplehuge'
(cd triplemat && make depend)
make[3]: Entering directory `/home/u1/djj0013/cs161/src/testbin/triplemat'
cs161-gcc  -nostdinc -I/home/u1/djj0013/cs161/root/include  -mno-abicalls -fno-pic -Wall -W -Wwrite-strings -O2 -M triplemat.c triple.c |\
  awk '{x=$0~"^ ";for(i=1;i<=NF;i++){printf "%d %s\n",x,$i;x=1; }}'|\
  sed '/1 \\/d' | awk '{ printf "%s%s", $1?" \\\n ":"\n", $2 }' |\
  sed 's|/home/u1/djj0013/cs161/root|$(OSTREE)|;$p;$x' > .deptmp
mv -f .deptmp depend.mk
make[3]: Leaving directory `/home/u1/djj0013/cs161/src/testbin/triplemat'
(cd triplesort && make depend)
make[3]: Entering directory `/home/u1/djj0013/cs161/src/testbin/triplesort'
cs161-gcc  -nostdinc -I/home/u1/djj0013/cs161/root/include  -mno-abicalls -fno-pic -Wall -W -Wwrite-strings -O2 -M triplesort.c triple.c |\
  awk '{x=$0~"^ ";for(i=1;i<=NF;i++){printf "%d %s\n",x,$i;x=1; }}'|\
  sed '/1 \\/d' | awk '{ printf "%s%s", $1?" \\\n ":"\n", $2 }' |\
  sed 's|/home/u1/djj0013/cs161/root|$(OSTREE)|;$p;$x' > .deptmp
mv -f .deptmp depend.mk
make[3]: Leaving directory `/home/u1/djj0013/cs161/src/testbin/triplesort'
make[2]: Leaving directory `/home/u1/djj0013/cs161/src/testbin'
(cd man && make depend)
make[2]: Entering directory `/home/u1/djj0013/cs161/src/man'
(cd toplevel && make depend)
make[3]: Entering directory `/home/u1/djj0013/cs161/src/man/toplevel'
make[3]: Nothing to be done for `depend'.
make[3]: Leaving directory `/home/u1/djj0013/cs161/src/man/toplevel'
(cd bin && make depend)
make[3]: Entering directory `/home/u1/djj0013/cs161/src/man/bin'
make[3]: Nothing to be done for `depend'.
make[3]: Leaving directory `/home/u1/djj0013/cs161/src/man/bin'
(cd sbin && make depend)
make[3]: Entering directory `/home/u1/djj0013/cs161/src/man/sbin'
make[3]: Nothing to be done for `depend'.
make[3]: Leaving directory `/home/u1/djj0013/cs161/src/man/sbin'
(cd testbin && make depend)
make[3]: Entering directory `/home/u1/djj0013/cs161/src/man/testbin'
make[3]: Nothing to be done for `depend'.
make[3]: Leaving directory `/home/u1/djj0013/cs161/src/man/testbin'
(cd libc && make depend)
make[3]: Entering directory `/home/u1/djj0013/cs161/src/man/libc'
make[3]: Nothing to be done for `depend'.
make[3]: Leaving directory `/home/u1/djj0013/cs161/src/man/libc'
(cd syscall && make depend)
make[3]: Entering directory `/home/u1/djj0013/cs161/src/man/syscall'
make[3]: Nothing to be done for `depend'.
make[3]: Leaving directory `/home/u1/djj0013/cs161/src/man/syscall'
(cd dev && make depend)
make[3]: Entering directory `/home/u1/djj0013/cs161/src/man/dev'
make[3]: Nothing to be done for `depend'.
make[3]: Leaving directory `/home/u1/djj0013/cs161/src/man/dev'
(cd misc && make depend)
make[3]: Entering directory `/home/u1/djj0013/cs161/src/man/misc'
make[3]: Nothing to be done for `depend'.
make[3]: Leaving directory `/home/u1/djj0013/cs161/src/man/misc'
make[2]: Leaving directory `/home/u1/djj0013/cs161/src/man'
(cd kern && make depend)
make[2]: Entering directory `/home/u1/djj0013/cs161/src/kern'
make[2]: Nothing to be done for `depend'.
make[2]: Leaving directory `/home/u1/djj0013/cs161/src/kern'
make[1]: Leaving directory `/home/u1/djj0013/cs161/src'
make compile
make[1]: Entering directory `/home/u1/djj0013/cs161/src'
(cd lib && make)
make[2]: Entering directory `/home/u1/djj0013/cs161/src/lib'
(cd crt0 && make all)
make[3]: Entering directory `/home/u1/djj0013/cs161/src/lib/crt0'
make[3]: Nothing to be done for `all'.
make[3]: Leaving directory `/home/u1/djj0013/cs161/src/lib/crt0'
(cd libc && make all)
make[3]: Entering directory `/home/u1/djj0013/cs161/src/lib/libc'
make[3]: Nothing to be done for `all'.
make[3]: Leaving directory `/home/u1/djj0013/cs161/src/lib/libc'
(cd hostcompat && make all)
make[3]: Entering directory `/home/u1/djj0013/cs161/src/lib/hostcompat'
make[3]: Nothing to be done for `all'.
make[3]: Leaving directory `/home/u1/djj0013/cs161/src/lib/hostcompat'
make[2]: Leaving directory `/home/u1/djj0013/cs161/src/lib'
(cd lib && make install)
make[2]: Entering directory `/home/u1/djj0013/cs161/src/lib'
(cd crt0 && make install)
make[3]: Entering directory `/home/u1/djj0013/cs161/src/lib/crt0'
[ -d /home/u1/djj0013/cs161/root/lib ] || mkdir /home/u1/djj0013/cs161/root/lib
cp crt0.o /home/u1/djj0013/cs161/root/lib
make[3]: Leaving directory `/home/u1/djj0013/cs161/src/lib/crt0'
(cd libc && make install)
make[3]: Entering directory `/home/u1/djj0013/cs161/src/lib/libc'
[ -d /home/u1/djj0013/cs161/root/lib ] || mkdir /home/u1/djj0013/cs161/root/lib
cp libc.a /home/u1/djj0013/cs161/root/lib
make[3]: Leaving directory `/home/u1/djj0013/cs161/src/lib/libc'
(cd hostcompat && make install)
make[3]: Entering directory `/home/u1/djj0013/cs161/src/lib/hostcompat'
[ -d /home/u1/djj0013/cs161/root/hostlib ] || mkdir /home/u1/djj0013/cs161/root/hostlib
cp libhostcompat.ha /home/u1/djj0013/cs161/root/hostlib/libhostcompat.a
ranlib /home/u1/djj0013/cs161/root/hostlib/libhostcompat.a
make[3]: Leaving directory `/home/u1/djj0013/cs161/src/lib/hostcompat'
make[2]: Leaving directory `/home/u1/djj0013/cs161/src/lib'
(cd bin && make)
make[2]: Entering directory `/home/u1/djj0013/cs161/src/bin'
(cd true && make all)
make[3]: Entering directory `/home/u1/djj0013/cs161/src/bin/true'
cs161-gcc -nostdlib -L/home/u1/djj0013/cs161/root/lib /home/u1/djj0013/cs161/root/lib/crt0.o   true.o   -lc \
   -o true
make[3]: Leaving directory `/home/u1/djj0013/cs161/src/bin/true'
(cd false && make all)
make[3]: Entering directory `/home/u1/djj0013/cs161/src/bin/false'
cs161-gcc -nostdlib -L/home/u1/djj0013/cs161/root/lib /home/u1/djj0013/cs161/root/lib/crt0.o   false.o   -lc \
   -o false
make[3]: Leaving directory `/home/u1/djj0013/cs161/src/bin/false'
(cd sync && make all)
make[3]: Entering directory `/home/u1/djj0013/cs161/src/bin/sync'
cs161-gcc -nostdlib -L/home/u1/djj0013/cs161/root/lib /home/u1/djj0013/cs161/root/lib/crt0.o   sync.o   -lc \
   -o sync
make[3]: Leaving directory `/home/u1/djj0013/cs161/src/bin/sync'
(cd mkdir && make all)
make[3]: Entering directory `/home/u1/djj0013/cs161/src/bin/mkdir'
cs161-gcc -nostdlib -L/home/u1/djj0013/cs161/root/lib /home/u1/djj0013/cs161/root/lib/crt0.o   mkdir.o   -lc \
   -o mkdir
make[3]: Leaving directory `/home/u1/djj0013/cs161/src/bin/mkdir'
(cd rmdir && make all)
make[3]: Entering directory `/home/u1/djj0013/cs161/src/bin/rmdir'
cs161-gcc -nostdlib -L/home/u1/djj0013/cs161/root/lib /home/u1/djj0013/cs161/root/lib/crt0.o   rmdir.o   -lc \
   -o rmdir
make[3]: Leaving directory `/home/u1/djj0013/cs161/src/bin/rmdir'
(cd pwd && make all)
make[3]: Entering directory `/home/u1/djj0013/cs161/src/bin/pwd'
cs161-gcc -nostdlib -L/home/u1/djj0013/cs161/root/lib /home/u1/djj0013/cs161/root/lib/crt0.o   pwd.o   -lc \
   -o pwd
make[3]: Leaving directory `/home/u1/djj0013/cs161/src/bin/pwd'
(cd cat && make all)
make[3]: Entering directory `/home/u1/djj0013/cs161/src/bin/cat'
cs161-gcc -nostdlib -L/home/u1/djj0013/cs161/root/lib /home/u1/djj0013/cs161/root/lib/crt0.o   cat.o   -lc \
   -o cat
make[3]: Leaving directory `/home/u1/djj0013/cs161/src/bin/cat'
(cd cp && make all)
make[3]: Entering directory `/home/u1/djj0013/cs161/src/bin/cp'
cs161-gcc -nostdlib -L/home/u1/djj0013/cs161/root/lib /home/u1/djj0013/cs161/root/lib/crt0.o   cp.o   -lc \
   -o cp
make[3]: Leaving directory `/home/u1/djj0013/cs161/src/bin/cp'
(cd ln && make all)
make[3]: Entering directory `/home/u1/djj0013/cs161/src/bin/ln'
cs161-gcc -nostdlib -L/home/u1/djj0013/cs161/root/lib /home/u1/djj0013/cs161/root/lib/crt0.o   ln.o   -lc \
   -o ln
make[3]: Leaving directory `/home/u1/djj0013/cs161/src/bin/ln'
(cd mv && make all)
make[3]: Entering directory `/home/u1/djj0013/cs161/src/bin/mv'
cs161-gcc -nostdlib -L/home/u1/djj0013/cs161/root/lib /home/u1/djj0013/cs161/root/lib/crt0.o   mv.o   -lc \
   -o mv
make[3]: Leaving directory `/home/u1/djj0013/cs161/src/bin/mv'
(cd rm && make all)
make[3]: Entering directory `/home/u1/djj0013/cs161/src/bin/rm'
cs161-gcc -nostdlib -L/home/u1/djj0013/cs161/root/lib /home/u1/djj0013/cs161/root/lib/crt0.o   rm.o   -lc \
   -o rm
make[3]: Leaving directory `/home/u1/djj0013/cs161/src/bin/rm'
(cd ls && make all)
make[3]: Entering directory `/home/u1/djj0013/cs161/src/bin/ls'
cs161-gcc -nostdlib -L/home/u1/djj0013/cs161/root/lib /home/u1/djj0013/cs161/root/lib/crt0.o   ls.o   -lc \
   -o ls
make[3]: Leaving directory `/home/u1/djj0013/cs161/src/bin/ls'
(cd sh && make all)
make[3]: Entering directory `/home/u1/djj0013/cs161/src/bin/sh'
cs161-gcc -nostdlib -L/home/u1/djj0013/cs161/root/lib /home/u1/djj0013/cs161/root/lib/crt0.o   sh.o   -lc \
   -o sh
gcc  -Wall -W -Wwrite-strings -O2 -I/home/u1/djj0013/cs161/root/hostinclude -DHOST -c sh.c -o sh.ho
gcc   sh.ho   \
  /home/u1/djj0013/cs161/root/hostlib/libhostcompat.a -o host-sh
make[3]: Leaving directory `/home/u1/djj0013/cs161/src/bin/sh'
make[2]: Leaving directory `/home/u1/djj0013/cs161/src/bin'
(cd sbin && make)
make[2]: Entering directory `/home/u1/djj0013/cs161/src/sbin'
(cd reboot && make all)
make[3]: Entering directory `/home/u1/djj0013/cs161/src/sbin/reboot'
cs161-gcc -nostdlib -L/home/u1/djj0013/cs161/root/lib /home/u1/djj0013/cs161/root/lib/crt0.o   reboot.o   -lc \
   -o reboot
make[3]: Leaving directory `/home/u1/djj0013/cs161/src/sbin/reboot'
(cd halt && make all)
make[3]: Entering directory `/home/u1/djj0013/cs161/src/sbin/halt'
cs161-gcc -nostdlib -L/home/u1/djj0013/cs161/root/lib /home/u1/djj0013/cs161/root/lib/crt0.o   halt.o   -lc \
   -o halt
make[3]: Leaving directory `/home/u1/djj0013/cs161/src/sbin/halt'
(cd poweroff && make all)
make[3]: Entering directory `/home/u1/djj0013/cs161/src/sbin/poweroff'
cs161-gcc -nostdlib -L/home/u1/djj0013/cs161/root/lib /home/u1/djj0013/cs161/root/lib/crt0.o   poweroff.o   -lc \
   -o poweroff
make[3]: Leaving directory `/home/u1/djj0013/cs161/src/sbin/poweroff'
(cd mksfs && make all)
make[3]: Entering directory `/home/u1/djj0013/cs161/src/sbin/mksfs'
cs161-gcc -nostdlib -L/home/u1/djj0013/cs161/root/lib /home/u1/djj0013/cs161/root/lib/crt0.o   mksfs.o disk.o support.o   -lc \
   -o mksfs
gcc  -Wall -W -Wwrite-strings -O2 -I/home/u1/djj0013/cs161/root/hostinclude -DHOST -c mksfs.c -o mksfs.ho
gcc   mksfs.ho disk.ho support.ho   \
  /home/u1/djj0013/cs161/root/hostlib/libhostcompat.a -o host-mksfs
make[3]: Leaving directory `/home/u1/djj0013/cs161/src/sbin/mksfs'
(cd dumpsfs && make all)
make[3]: Entering directory `/home/u1/djj0013/cs161/src/sbin/dumpsfs'
cs161-gcc -nostdlib -L/home/u1/djj0013/cs161/root/lib /home/u1/djj0013/cs161/root/lib/crt0.o   dumpsfs.o disk.o support.o   -lc \
   -o dumpsfs
gcc  -Wall -W -Wwrite-strings -O2 -I/home/u1/djj0013/cs161/root/hostinclude -DHOST -c dumpsfs.c -o dumpsfs.ho
gcc   dumpsfs.ho disk.ho support.ho   \
  /home/u1/djj0013/cs161/root/hostlib/libhostcompat.a -o host-dumpsfs
make[3]: Leaving directory `/home/u1/djj0013/cs161/src/sbin/dumpsfs'
make[2]: Leaving directory `/home/u1/djj0013/cs161/src/sbin'
(cd testbin && make)
make[2]: Entering directory `/home/u1/djj0013/cs161/src/testbin'
(cd add && make all)
make[3]: Entering directory `/home/u1/djj0013/cs161/src/testbin/add'
cs161-gcc -nostdlib -L/home/u1/djj0013/cs161/root/lib /home/u1/djj0013/cs161/root/lib/crt0.o   add.o   -lc \
   -o add
make[3]: Leaving directory `/home/u1/djj0013/cs161/src/testbin/add'
(cd argtest && make all)
make[3]: Entering directory `/home/u1/djj0013/cs161/src/testbin/argtest'
cs161-gcc -nostdlib -L/home/u1/djj0013/cs161/root/lib /home/u1/djj0013/cs161/root/lib/crt0.o   argtest.o   -lc \
   -o argtest
make[3]: Leaving directory `/home/u1/djj0013/cs161/src/testbin/argtest'
(cd badcall && make all)
make[3]: Entering directory `/home/u1/djj0013/cs161/src/testbin/badcall'
cs161-gcc -nostdlib -L/home/u1/djj0013/cs161/root/lib /home/u1/djj0013/cs161/root/lib/crt0.o   bad_execv.o bad_waitpid.o bad_open.o bad_read.o bad_write.o bad_close.o bad_reboot.o bad_sbrk.o bad_ioctl.o bad_lseek.o bad_fsync.o bad_ftruncate.o bad_stat.o bad_remove.o bad_rename.o bad_link.o bad_mkdir.o bad_rmdir.o bad_chdir.o bad_getdirentry.o bad_symlink.o bad_readlink.o bad_dup2.o bad_pipe.o bad_time.o bad_getcwd.o common_buf.o common_fds.o common_path.o driver.o   -lc \
   -o badcall
make[3]: Leaving directory `/home/u1/djj0013/cs161/src/testbin/badcall'
(cd bigfile && make all)
make[3]: Entering directory `/home/u1/djj0013/cs161/src/testbin/bigfile'
cs161-gcc -nostdlib -L/home/u1/djj0013/cs161/root/lib /home/u1/djj0013/cs161/root/lib/crt0.o   bigfile.o   -lc \
   -o bigfile
make[3]: Leaving directory `/home/u1/djj0013/cs161/src/testbin/bigfile'
(cd conman && make all)
make[3]: Entering directory `/home/u1/djj0013/cs161/src/testbin/conman'
cs161-gcc -nostdlib -L/home/u1/djj0013/cs161/root/lib /home/u1/djj0013/cs161/root/lib/crt0.o   conman.o   -lc \
   -o conman
make[3]: Leaving directory `/home/u1/djj0013/cs161/src/testbin/conman'
(cd crash && make all)
make[3]: Entering directory `/home/u1/djj0013/cs161/src/testbin/crash'
cs161-gcc -nostdlib -L/home/u1/djj0013/cs161/root/lib /home/u1/djj0013/cs161/root/lib/crt0.o   crash.o   -lc \
   -o crash
make[3]: Leaving directory `/home/u1/djj0013/cs161/src/testbin/crash'
(cd ctest && make all)
make[3]: Entering directory `/home/u1/djj0013/cs161/src/testbin/ctest'
cs161-gcc -nostdlib -L/home/u1/djj0013/cs161/root/lib /home/u1/djj0013/cs161/root/lib/crt0.o   ctest.o   -lc \
   -o ctest
make[3]: Leaving directory `/home/u1/djj0013/cs161/src/testbin/ctest'
(cd dirconc && make all)
make[3]: Entering directory `/home/u1/djj0013/cs161/src/testbin/dirconc'
cs161-gcc -nostdlib -L/home/u1/djj0013/cs161/root/lib /home/u1/djj0013/cs161/root/lib/crt0.o   dirconc.o   -lc \
   -o dirconc
make[3]: Leaving directory `/home/u1/djj0013/cs161/src/testbin/dirconc'
(cd dirseek && make all)
make[3]: Entering directory `/home/u1/djj0013/cs161/src/testbin/dirseek'
cs161-gcc -nostdlib -L/home/u1/djj0013/cs161/root/lib /home/u1/djj0013/cs161/root/lib/crt0.o   dirseek.o   -lc \
   -o dirseek
make[3]: Leaving directory `/home/u1/djj0013/cs161/src/testbin/dirseek'
(cd dirtest && make all)
make[3]: Entering directory `/home/u1/djj0013/cs161/src/testbin/dirtest'
cs161-gcc -nostdlib -L/home/u1/djj0013/cs161/root/lib /home/u1/djj0013/cs161/root/lib/crt0.o   dirtest.o   -lc \
   -o dirtest
make[3]: Leaving directory `/home/u1/djj0013/cs161/src/testbin/dirtest'
(cd f_test && make all)
make[3]: Entering directory `/home/u1/djj0013/cs161/src/testbin/f_test'
cs161-gcc -nostdlib -L/home/u1/djj0013/cs161/root/lib /home/u1/djj0013/cs161/root/lib/crt0.o   f_test.o f_read.o f_write.o   -lc \
   -o f_test
make[3]: Leaving directory `/home/u1/djj0013/cs161/src/testbin/f_test'
(cd farm && make all)
make[3]: Entering directory `/home/u1/djj0013/cs161/src/testbin/farm'
cs161-gcc -nostdlib -L/home/u1/djj0013/cs161/root/lib /home/u1/djj0013/cs161/root/lib/crt0.o   farm.o   -lc \
   -o farm
make[3]: Leaving directory `/home/u1/djj0013/cs161/src/testbin/farm'
(cd faulter && make all)
make[3]: Entering directory `/home/u1/djj0013/cs161/src/testbin/faulter'
cs161-gcc -nostdlib -L/home/u1/djj0013/cs161/root/lib /home/u1/djj0013/cs161/root/lib/crt0.o   faulter.o   -lc \
   -o faulter
make[3]: Leaving directory `/home/u1/djj0013/cs161/src/testbin/faulter'
(cd filetest && make all)
make[3]: Entering directory `/home/u1/djj0013/cs161/src/testbin/filetest'
cs161-gcc -nostdlib -L/home/u1/djj0013/cs161/root/lib /home/u1/djj0013/cs161/root/lib/crt0.o   filetest.o   -lc \
   -o filetest
make[3]: Leaving directory `/home/u1/djj0013/cs161/src/testbin/filetest'
(cd forkbomb && make all)
make[3]: Entering directory `/home/u1/djj0013/cs161/src/testbin/forkbomb'
cs161-gcc -nostdlib -L/home/u1/djj0013/cs161/root/lib /home/u1/djj0013/cs161/root/lib/crt0.o   forkbomb.o   -lc \
   -o forkbomb
make[3]: Leaving directory `/home/u1/djj0013/cs161/src/testbin/forkbomb'
(cd forktest && make all)
make[3]: Entering directory `/home/u1/djj0013/cs161/src/testbin/forktest'
cs161-gcc -nostdlib -L/home/u1/djj0013/cs161/root/lib /home/u1/djj0013/cs161/root/lib/crt0.o   forktest.o   -lc \
   -o forktest
make[3]: Leaving directory `/home/u1/djj0013/cs161/src/testbin/forktest'
(cd guzzle && make all)
make[3]: Entering directory `/home/u1/djj0013/cs161/src/testbin/guzzle'
cs161-gcc -nostdlib -L/home/u1/djj0013/cs161/root/lib /home/u1/djj0013/cs161/root/lib/crt0.o   guzzle.o   -lc \
   -o guzzle
make[3]: Leaving directory `/home/u1/djj0013/cs161/src/testbin/guzzle'
(cd hash && make all)
make[3]: Entering directory `/home/u1/djj0013/cs161/src/testbin/hash'
cs161-gcc -nostdlib -L/home/u1/djj0013/cs161/root/lib /home/u1/djj0013/cs161/root/lib/crt0.o   hash.o   -lc \
   -o hash
gcc  -Wall -W -Wwrite-strings -O2 -I/home/u1/djj0013/cs161/root/hostinclude -DHOST -c hash.c -o hash.ho
gcc   hash.ho   \
  /home/u1/djj0013/cs161/root/hostlib/libhostcompat.a -o host-hash
make[3]: Leaving directory `/home/u1/djj0013/cs161/src/testbin/hash'
(cd hog && make all)
make[3]: Entering directory `/home/u1/djj0013/cs161/src/testbin/hog'
cs161-gcc -nostdlib -L/home/u1/djj0013/cs161/root/lib /home/u1/djj0013/cs161/root/lib/crt0.o   hog.o   -lc \
   -o hog
make[3]: Leaving directory `/home/u1/djj0013/cs161/src/testbin/hog'
(cd huge && make all)
make[3]: Entering directory `/home/u1/djj0013/cs161/src/testbin/huge'
cs161-gcc -nostdlib -L/home/u1/djj0013/cs161/root/lib /home/u1/djj0013/cs161/root/lib/crt0.o   huge.o   -lc \
   -o huge
make[3]: Leaving directory `/home/u1/djj0013/cs161/src/testbin/huge'
(cd kitchen && make all)
make[3]: Entering directory `/home/u1/djj0013/cs161/src/testbin/kitchen'
cs161-gcc -nostdlib -L/home/u1/djj0013/cs161/root/lib /home/u1/djj0013/cs161/root/lib/crt0.o   kitchen.o   -lc \
   -o kitchen
make[3]: Leaving directory `/home/u1/djj0013/cs161/src/testbin/kitchen'
(cd matmult && make all)
make[3]: Entering directory `/home/u1/djj0013/cs161/src/testbin/matmult'
cs161-gcc -nostdlib -L/home/u1/djj0013/cs161/root/lib /home/u1/djj0013/cs161/root/lib/crt0.o   matmult.o   -lc \
   -o matmult
make[3]: Leaving directory `/home/u1/djj0013/cs161/src/testbin/matmult'
(cd palin && make all)
make[3]: Entering directory `/home/u1/djj0013/cs161/src/testbin/palin'
cs161-gcc -nostdlib -L/home/u1/djj0013/cs161/root/lib /home/u1/djj0013/cs161/root/lib/crt0.o   palin.o   -lc \
   -o palin
make[3]: Leaving directory `/home/u1/djj0013/cs161/src/testbin/palin'
(cd parallelvm && make all)
make[3]: Entering directory `/home/u1/djj0013/cs161/src/testbin/parallelvm'
cs161-gcc -nostdlib -L/home/u1/djj0013/cs161/root/lib /home/u1/djj0013/cs161/root/lib/crt0.o   parallelvm.o   -lc \
   -o parallelvm
make[3]: Leaving directory `/home/u1/djj0013/cs161/src/testbin/parallelvm'
(cd randcall && make all)
make[3]: Entering directory `/home/u1/djj0013/cs161/src/testbin/randcall'
cs161-gcc -nostdlib -L/home/u1/djj0013/cs161/root/lib /home/u1/djj0013/cs161/root/lib/crt0.o   calls.o main.o   -lc \
   -o randcall
make[3]: Leaving directory `/home/u1/djj0013/cs161/src/testbin/randcall'
(cd rmdirtest && make all)
make[3]: Entering directory `/home/u1/djj0013/cs161/src/testbin/rmdirtest'
cs161-gcc -nostdlib -L/home/u1/djj0013/cs161/root/lib /home/u1/djj0013/cs161/root/lib/crt0.o   rmdirtest.o   -lc \
   -o rmdirtest
make[3]: Leaving directory `/home/u1/djj0013/cs161/src/testbin/rmdirtest'
(cd rmtest && make all)
make[3]: Entering directory `/home/u1/djj0013/cs161/src/testbin/rmtest'
cs161-gcc -nostdlib -L/home/u1/djj0013/cs161/root/lib /home/u1/djj0013/cs161/root/lib/crt0.o   rmtest.o   -lc \
   -o rmtest
make[3]: Leaving directory `/home/u1/djj0013/cs161/src/testbin/rmtest'
(cd sink && make all)
make[3]: Entering directory `/home/u1/djj0013/cs161/src/testbin/sink'
cs161-gcc -nostdlib -L/home/u1/djj0013/cs161/root/lib /home/u1/djj0013/cs161/root/lib/crt0.o   sink.o   -lc \
   -o sink
make[3]: Leaving directory `/home/u1/djj0013/cs161/src/testbin/sink'
(cd sort && make all)
make[3]: Entering directory `/home/u1/djj0013/cs161/src/testbin/sort'
cs161-gcc -nostdlib -L/home/u1/djj0013/cs161/root/lib /home/u1/djj0013/cs161/root/lib/crt0.o   sort.o   -lc \
   -o sort
make[3]: Leaving directory `/home/u1/djj0013/cs161/src/testbin/sort'
(cd sty && make all)
make[3]: Entering directory `/home/u1/djj0013/cs161/src/testbin/sty'
cs161-gcc -nostdlib -L/home/u1/djj0013/cs161/root/lib /home/u1/djj0013/cs161/root/lib/crt0.o   sty.o   -lc \
   -o sty
make[3]: Leaving directory `/home/u1/djj0013/cs161/src/testbin/sty'
(cd tail && make all)
make[3]: Entering directory `/home/u1/djj0013/cs161/src/testbin/tail'
cs161-gcc -nostdlib -L/home/u1/djj0013/cs161/root/lib /home/u1/djj0013/cs161/root/lib/crt0.o   tail.o   -lc \
   -o tail
make[3]: Leaving directory `/home/u1/djj0013/cs161/src/testbin/tail'
(cd tictac && make all)
make[3]: Entering directory `/home/u1/djj0013/cs161/src/testbin/tictac'
cs161-gcc -nostdlib -L/home/u1/djj0013/cs161/root/lib /home/u1/djj0013/cs161/root/lib/crt0.o   tictac.o   -lc \
   -o tictac
make[3]: Leaving directory `/home/u1/djj0013/cs161/src/testbin/tictac'
(cd triplehuge && make all)
make[3]: Entering directory `/home/u1/djj0013/cs161/src/testbin/triplehuge'
cs161-gcc -nostdlib -L/home/u1/djj0013/cs161/root/lib /home/u1/djj0013/cs161/root/lib/crt0.o   triplehuge.o triple.o   -lc \
   -o triplehuge
make[3]: Leaving directory `/home/u1/djj0013/cs161/src/testbin/triplehuge'
(cd triplemat && make all)
make[3]: Entering directory `/home/u1/djj0013/cs161/src/testbin/triplemat'
cs161-gcc -nostdlib -L/home/u1/djj0013/cs161/root/lib /home/u1/djj0013/cs161/root/lib/crt0.o   triplemat.o triple.o   -lc \
   -o triplemat
make[3]: Leaving directory `/home/u1/djj0013/cs161/src/testbin/triplemat'
(cd triplesort && make all)
make[3]: Entering directory `/home/u1/djj0013/cs161/src/testbin/triplesort'
cs161-gcc -nostdlib -L/home/u1/djj0013/cs161/root/lib /home/u1/djj0013/cs161/root/lib/crt0.o   triplesort.o triple.o   -lc \
   -o triplesort
make[3]: Leaving directory `/home/u1/djj0013/cs161/src/testbin/triplesort'
make[2]: Leaving directory `/home/u1/djj0013/cs161/src/testbin'
(cd bin && make install)
make[2]: Entering directory `/home/u1/djj0013/cs161/src/bin'
(cd true && make install)
make[3]: Entering directory `/home/u1/djj0013/cs161/src/bin/true'
[ -d /home/u1/djj0013/cs161/root/bin ] || mkdir /home/u1/djj0013/cs161/root/bin
cp true /home/u1/djj0013/cs161/root/bin
make[3]: Leaving directory `/home/u1/djj0013/cs161/src/bin/true'
(cd false && make install)
make[3]: Entering directory `/home/u1/djj0013/cs161/src/bin/false'
[ -d /home/u1/djj0013/cs161/root/bin ] || mkdir /home/u1/djj0013/cs161/root/bin
cp false /home/u1/djj0013/cs161/root/bin
make[3]: Leaving directory `/home/u1/djj0013/cs161/src/bin/false'
(cd sync && make install)
make[3]: Entering directory `/home/u1/djj0013/cs161/src/bin/sync'
[ -d /home/u1/djj0013/cs161/root/bin ] || mkdir /home/u1/djj0013/cs161/root/bin
cp sync /home/u1/djj0013/cs161/root/bin
make[3]: Leaving directory `/home/u1/djj0013/cs161/src/bin/sync'
(cd mkdir && make install)
make[3]: Entering directory `/home/u1/djj0013/cs161/src/bin/mkdir'
[ -d /home/u1/djj0013/cs161/root/bin ] || mkdir /home/u1/djj0013/cs161/root/bin
cp mkdir /home/u1/djj0013/cs161/root/bin
make[3]: Leaving directory `/home/u1/djj0013/cs161/src/bin/mkdir'
(cd rmdir && make install)
make[3]: Entering directory `/home/u1/djj0013/cs161/src/bin/rmdir'
[ -d /home/u1/djj0013/cs161/root/bin ] || mkdir /home/u1/djj0013/cs161/root/bin
cp rmdir /home/u1/djj0013/cs161/root/bin
make[3]: Leaving directory `/home/u1/djj0013/cs161/src/bin/rmdir'
(cd pwd && make install)
make[3]: Entering directory `/home/u1/djj0013/cs161/src/bin/pwd'
[ -d /home/u1/djj0013/cs161/root/bin ] || mkdir /home/u1/djj0013/cs161/root/bin
cp pwd /home/u1/djj0013/cs161/root/bin
make[3]: Leaving directory `/home/u1/djj0013/cs161/src/bin/pwd'
(cd cat && make install)
make[3]: Entering directory `/home/u1/djj0013/cs161/src/bin/cat'
[ -d /home/u1/djj0013/cs161/root/bin ] || mkdir /home/u1/djj0013/cs161/root/bin
cp cat /home/u1/djj0013/cs161/root/bin
make[3]: Leaving directory `/home/u1/djj0013/cs161/src/bin/cat'
(cd cp && make install)
make[3]: Entering directory `/home/u1/djj0013/cs161/src/bin/cp'
[ -d /home/u1/djj0013/cs161/root/bin ] || mkdir /home/u1/djj0013/cs161/root/bin
cp cp /home/u1/djj0013/cs161/root/bin
make[3]: Leaving directory `/home/u1/djj0013/cs161/src/bin/cp'
(cd ln && make install)
make[3]: Entering directory `/home/u1/djj0013/cs161/src/bin/ln'
[ -d /home/u1/djj0013/cs161/root/bin ] || mkdir /home/u1/djj0013/cs161/root/bin
cp ln /home/u1/djj0013/cs161/root/bin
make[3]: Leaving directory `/home/u1/djj0013/cs161/src/bin/ln'
(cd mv && make install)
make[3]: Entering directory `/home/u1/djj0013/cs161/src/bin/mv'
[ -d /home/u1/djj0013/cs161/root/bin ] || mkdir /home/u1/djj0013/cs161/root/bin
cp mv /home/u1/djj0013/cs161/root/bin
make[3]: Leaving directory `/home/u1/djj0013/cs161/src/bin/mv'
(cd rm && make install)
make[3]: Entering directory `/home/u1/djj0013/cs161/src/bin/rm'
[ -d /home/u1/djj0013/cs161/root/bin ] || mkdir /home/u1/djj0013/cs161/root/bin
cp rm /home/u1/djj0013/cs161/root/bin
make[3]: Leaving directory `/home/u1/djj0013/cs161/src/bin/rm'
(cd ls && make install)
make[3]: Entering directory `/home/u1/djj0013/cs161/src/bin/ls'
[ -d /home/u1/djj0013/cs161/root/bin ] || mkdir /home/u1/djj0013/cs161/root/bin
cp ls /home/u1/djj0013/cs161/root/bin
make[3]: Leaving directory `/home/u1/djj0013/cs161/src/bin/ls'
(cd sh && make install)
make[3]: Entering directory `/home/u1/djj0013/cs161/src/bin/sh'
[ -d /home/u1/djj0013/cs161/root/bin ] || mkdir /home/u1/djj0013/cs161/root/bin
cp sh /home/u1/djj0013/cs161/root/bin
[ -d /home/u1/djj0013/cs161/root/hostbin ] || mkdir /home/u1/djj0013/cs161/root/hostbin
cp host-sh /home/u1/djj0013/cs161/root/hostbin
make[3]: Leaving directory `/home/u1/djj0013/cs161/src/bin/sh'
make[2]: Leaving directory `/home/u1/djj0013/cs161/src/bin'
(cd sbin && make install)
make[2]: Entering directory `/home/u1/djj0013/cs161/src/sbin'
(cd reboot && make install)
make[3]: Entering directory `/home/u1/djj0013/cs161/src/sbin/reboot'
[ -d /home/u1/djj0013/cs161/root/sbin ] || mkdir /home/u1/djj0013/cs161/root/sbin
cp reboot /home/u1/djj0013/cs161/root/sbin
make[3]: Leaving directory `/home/u1/djj0013/cs161/src/sbin/reboot'
(cd halt && make install)
make[3]: Entering directory `/home/u1/djj0013/cs161/src/sbin/halt'
[ -d /home/u1/djj0013/cs161/root/sbin ] || mkdir /home/u1/djj0013/cs161/root/sbin
cp halt /home/u1/djj0013/cs161/root/sbin
make[3]: Leaving directory `/home/u1/djj0013/cs161/src/sbin/halt'
(cd poweroff && make install)
make[3]: Entering directory `/home/u1/djj0013/cs161/src/sbin/poweroff'
[ -d /home/u1/djj0013/cs161/root/sbin ] || mkdir /home/u1/djj0013/cs161/root/sbin
cp poweroff /home/u1/djj0013/cs161/root/sbin
make[3]: Leaving directory `/home/u1/djj0013/cs161/src/sbin/poweroff'
(cd mksfs && make install)
make[3]: Entering directory `/home/u1/djj0013/cs161/src/sbin/mksfs'
[ -d /home/u1/djj0013/cs161/root/sbin ] || mkdir /home/u1/djj0013/cs161/root/sbin
cp mksfs /home/u1/djj0013/cs161/root/sbin
[ -d /home/u1/djj0013/cs161/root/hostbin ] || mkdir /home/u1/djj0013/cs161/root/hostbin
cp host-mksfs /home/u1/djj0013/cs161/root/hostbin
make[3]: Leaving directory `/home/u1/djj0013/cs161/src/sbin/mksfs'
(cd dumpsfs && make install)
make[3]: Entering directory `/home/u1/djj0013/cs161/src/sbin/dumpsfs'
[ -d /home/u1/djj0013/cs161/root/sbin ] || mkdir /home/u1/djj0013/cs161/root/sbin
cp dumpsfs /home/u1/djj0013/cs161/root/sbin
[ -d /home/u1/djj0013/cs161/root/hostbin ] || mkdir /home/u1/djj0013/cs161/root/hostbin
cp host-dumpsfs /home/u1/djj0013/cs161/root/hostbin
make[3]: Leaving directory `/home/u1/djj0013/cs161/src/sbin/dumpsfs'
make[2]: Leaving directory `/home/u1/djj0013/cs161/src/sbin'
(cd testbin && make install)
make[2]: Entering directory `/home/u1/djj0013/cs161/src/testbin'
(cd add && make install)
make[3]: Entering directory `/home/u1/djj0013/cs161/src/testbin/add'
[ -d /home/u1/djj0013/cs161/root/testbin ] || mkdir /home/u1/djj0013/cs161/root/testbin
cp add /home/u1/djj0013/cs161/root/testbin
make[3]: Leaving directory `/home/u1/djj0013/cs161/src/testbin/add'
(cd argtest && make install)
make[3]: Entering directory `/home/u1/djj0013/cs161/src/testbin/argtest'
[ -d /home/u1/djj0013/cs161/root/testbin ] || mkdir /home/u1/djj0013/cs161/root/testbin
cp argtest /home/u1/djj0013/cs161/root/testbin
make[3]: Leaving directory `/home/u1/djj0013/cs161/src/testbin/argtest'
(cd badcall && make install)
make[3]: Entering directory `/home/u1/djj0013/cs161/src/testbin/badcall'
[ -d /home/u1/djj0013/cs161/root/testbin ] || mkdir /home/u1/djj0013/cs161/root/testbin
cp badcall /home/u1/djj0013/cs161/root/testbin
make[3]: Leaving directory `/home/u1/djj0013/cs161/src/testbin/badcall'
(cd bigfile && make install)
make[3]: Entering directory `/home/u1/djj0013/cs161/src/testbin/bigfile'
[ -d /home/u1/djj0013/cs161/root/testbin ] || mkdir /home/u1/djj0013/cs161/root/testbin
cp bigfile /home/u1/djj0013/cs161/root/testbin
make[3]: Leaving directory `/home/u1/djj0013/cs161/src/testbin/bigfile'
(cd conman && make install)
make[3]: Entering directory `/home/u1/djj0013/cs161/src/testbin/conman'
[ -d /home/u1/djj0013/cs161/root/testbin ] || mkdir /home/u1/djj0013/cs161/root/testbin
cp conman /home/u1/djj0013/cs161/root/testbin
make[3]: Leaving directory `/home/u1/djj0013/cs161/src/testbin/conman'
(cd crash && make install)
make[3]: Entering directory `/home/u1/djj0013/cs161/src/testbin/crash'
[ -d /home/u1/djj0013/cs161/root/testbin ] || mkdir /home/u1/djj0013/cs161/root/testbin
cp crash /home/u1/djj0013/cs161/root/testbin
make[3]: Leaving directory `/home/u1/djj0013/cs161/src/testbin/crash'
(cd ctest && make install)
make[3]: Entering directory `/home/u1/djj0013/cs161/src/testbin/ctest'
[ -d /home/u1/djj0013/cs161/root/testbin ] || mkdir /home/u1/djj0013/cs161/root/testbin
cp ctest /home/u1/djj0013/cs161/root/testbin
make[3]: Leaving directory `/home/u1/djj0013/cs161/src/testbin/ctest'
(cd dirconc && make install)
make[3]: Entering directory `/home/u1/djj0013/cs161/src/testbin/dirconc'
[ -d /home/u1/djj0013/cs161/root/testbin ] || mkdir /home/u1/djj0013/cs161/root/testbin
cp dirconc /home/u1/djj0013/cs161/root/testbin
make[3]: Leaving directory `/home/u1/djj0013/cs161/src/testbin/dirconc'
(cd dirseek && make install)
make[3]: Entering directory `/home/u1/djj0013/cs161/src/testbin/dirseek'
[ -d /home/u1/djj0013/cs161/root/testbin ] || mkdir /home/u1/djj0013/cs161/root/testbin
cp dirseek /home/u1/djj0013/cs161/root/testbin
make[3]: Leaving directory `/home/u1/djj0013/cs161/src/testbin/dirseek'
(cd dirtest && make install)
make[3]: Entering directory `/home/u1/djj0013/cs161/src/testbin/dirtest'
[ -d /home/u1/djj0013/cs161/root/testbin ] || mkdir /home/u1/djj0013/cs161/root/testbin
cp dirtest /home/u1/djj0013/cs161/root/testbin
make[3]: Leaving directory `/home/u1/djj0013/cs161/src/testbin/dirtest'
(cd f_test && make install)
make[3]: Entering directory `/home/u1/djj0013/cs161/src/testbin/f_test'
[ -d /home/u1/djj0013/cs161/root/testbin ] || mkdir /home/u1/djj0013/cs161/root/testbin
cp f_test /home/u1/djj0013/cs161/root/testbin
make[3]: Leaving directory `/home/u1/djj0013/cs161/src/testbin/f_test'
(cd farm && make install)
make[3]: Entering directory `/home/u1/djj0013/cs161/src/testbin/farm'
[ -d /home/u1/djj0013/cs161/root/testbin ] || mkdir /home/u1/djj0013/cs161/root/testbin
cp farm /home/u1/djj0013/cs161/root/testbin
make[3]: Leaving directory `/home/u1/djj0013/cs161/src/testbin/farm'
(cd faulter && make install)
make[3]: Entering directory `/home/u1/djj0013/cs161/src/testbin/faulter'
[ -d /home/u1/djj0013/cs161/root/testbin ] || mkdir /home/u1/djj0013/cs161/root/testbin
cp faulter /home/u1/djj0013/cs161/root/testbin
make[3]: Leaving directory `/home/u1/djj0013/cs161/src/testbin/faulter'
(cd filetest && make install)
make[3]: Entering directory `/home/u1/djj0013/cs161/src/testbin/filetest'
[ -d /home/u1/djj0013/cs161/root/testbin ] || mkdir /home/u1/djj0013/cs161/root/testbin
cp filetest /home/u1/djj0013/cs161/root/testbin
make[3]: Leaving directory `/home/u1/djj0013/cs161/src/testbin/filetest'
(cd forkbomb && make install)
make[3]: Entering directory `/home/u1/djj0013/cs161/src/testbin/forkbomb'
[ -d /home/u1/djj0013/cs161/root/testbin ] || mkdir /home/u1/djj0013/cs161/root/testbin
cp forkbomb /home/u1/djj0013/cs161/root/testbin
make[3]: Leaving directory `/home/u1/djj0013/cs161/src/testbin/forkbomb'
(cd forktest && make install)
make[3]: Entering directory `/home/u1/djj0013/cs161/src/testbin/forktest'
[ -d /home/u1/djj0013/cs161/root/testbin ] || mkdir /home/u1/djj0013/cs161/root/testbin
cp forktest /home/u1/djj0013/cs161/root/testbin
make[3]: Leaving directory `/home/u1/djj0013/cs161/src/testbin/forktest'
(cd guzzle && make install)
make[3]: Entering directory `/home/u1/djj0013/cs161/src/testbin/guzzle'
[ -d /home/u1/djj0013/cs161/root/testbin ] || mkdir /home/u1/djj0013/cs161/root/testbin
cp guzzle /home/u1/djj0013/cs161/root/testbin
make[3]: Leaving directory `/home/u1/djj0013/cs161/src/testbin/guzzle'
(cd hash && make install)
make[3]: Entering directory `/home/u1/djj0013/cs161/src/testbin/hash'
[ -d /home/u1/djj0013/cs161/root/testbin ] || mkdir /home/u1/djj0013/cs161/root/testbin
cp hash /home/u1/djj0013/cs161/root/testbin
[ -d /home/u1/djj0013/cs161/root/hostbin ] || mkdir /home/u1/djj0013/cs161/root/hostbin
cp host-hash /home/u1/djj0013/cs161/root/hostbin
make[3]: Leaving directory `/home/u1/djj0013/cs161/src/testbin/hash'
(cd hog && make install)
make[3]: Entering directory `/home/u1/djj0013/cs161/src/testbin/hog'
[ -d /home/u1/djj0013/cs161/root/testbin ] || mkdir /home/u1/djj0013/cs161/root/testbin
cp hog /home/u1/djj0013/cs161/root/testbin
make[3]: Leaving directory `/home/u1/djj0013/cs161/src/testbin/hog'
(cd huge && make install)
make[3]: Entering directory `/home/u1/djj0013/cs161/src/testbin/huge'
[ -d /home/u1/djj0013/cs161/root/testbin ] || mkdir /home/u1/djj0013/cs161/root/testbin
cp huge /home/u1/djj0013/cs161/root/testbin
make[3]: Leaving directory `/home/u1/djj0013/cs161/src/testbin/huge'
(cd kitchen && make install)
make[3]: Entering directory `/home/u1/djj0013/cs161/src/testbin/kitchen'
[ -d /home/u1/djj0013/cs161/root/testbin ] || mkdir /home/u1/djj0013/cs161/root/testbin
cp kitchen /home/u1/djj0013/cs161/root/testbin
make[3]: Leaving directory `/home/u1/djj0013/cs161/src/testbin/kitchen'
(cd matmult && make install)
make[3]: Entering directory `/home/u1/djj0013/cs161/src/testbin/matmult'
[ -d /home/u1/djj0013/cs161/root/testbin ] || mkdir /home/u1/djj0013/cs161/root/testbin
cp matmult /home/u1/djj0013/cs161/root/testbin
make[3]: Leaving directory `/home/u1/djj0013/cs161/src/testbin/matmult'
(cd palin && make install)
make[3]: Entering directory `/home/u1/djj0013/cs161/src/testbin/palin'
[ -d /home/u1/djj0013/cs161/root/testbin ] || mkdir /home/u1/djj0013/cs161/root/testbin
cp palin /home/u1/djj0013/cs161/root/testbin
make[3]: Leaving directory `/home/u1/djj0013/cs161/src/testbin/palin'
(cd parallelvm && make install)
make[3]: Entering directory `/home/u1/djj0013/cs161/src/testbin/parallelvm'
[ -d /home/u1/djj0013/cs161/root/testbin ] || mkdir /home/u1/djj0013/cs161/root/testbin
cp parallelvm /home/u1/djj0013/cs161/root/testbin
make[3]: Leaving directory `/home/u1/djj0013/cs161/src/testbin/parallelvm'
(cd randcall && make install)
make[3]: Entering directory `/home/u1/djj0013/cs161/src/testbin/randcall'
[ -d /home/u1/djj0013/cs161/root/testbin ] || mkdir /home/u1/djj0013/cs161/root/testbin
cp randcall /home/u1/djj0013/cs161/root/testbin
make[3]: Leaving directory `/home/u1/djj0013/cs161/src/testbin/randcall'
(cd rmdirtest && make install)
make[3]: Entering directory `/home/u1/djj0013/cs161/src/testbin/rmdirtest'
[ -d /home/u1/djj0013/cs161/root/testbin ] || mkdir /home/u1/djj0013/cs161/root/testbin
cp rmdirtest /home/u1/djj0013/cs161/root/testbin
make[3]: Leaving directory `/home/u1/djj0013/cs161/src/testbin/rmdirtest'
(cd rmtest && make install)
make[3]: Entering directory `/home/u1/djj0013/cs161/src/testbin/rmtest'
[ -d /home/u1/djj0013/cs161/root/testbin ] || mkdir /home/u1/djj0013/cs161/root/testbin
cp rmtest /home/u1/djj0013/cs161/root/testbin
make[3]: Leaving directory `/home/u1/djj0013/cs161/src/testbin/rmtest'
(cd sink && make install)
make[3]: Entering directory `/home/u1/djj0013/cs161/src/testbin/sink'
[ -d /home/u1/djj0013/cs161/root/testbin ] || mkdir /home/u1/djj0013/cs161/root/testbin
cp sink /home/u1/djj0013/cs161/root/testbin
make[3]: Leaving directory `/home/u1/djj0013/cs161/src/testbin/sink'
(cd sort && make install)
make[3]: Entering directory `/home/u1/djj0013/cs161/src/testbin/sort'
[ -d /home/u1/djj0013/cs161/root/testbin ] || mkdir /home/u1/djj0013/cs161/root/testbin
cp sort /home/u1/djj0013/cs161/root/testbin
make[3]: Leaving directory `/home/u1/djj0013/cs161/src/testbin/sort'
(cd sty && make install)
make[3]: Entering directory `/home/u1/djj0013/cs161/src/testbin/sty'
[ -d /home/u1/djj0013/cs161/root/testbin ] || mkdir /home/u1/djj0013/cs161/root/testbin
cp sty /home/u1/djj0013/cs161/root/testbin
make[3]: Leaving directory `/home/u1/djj0013/cs161/src/testbin/sty'
(cd tail && make install)
make[3]: Entering directory `/home/u1/djj0013/cs161/src/testbin/tail'
[ -d /home/u1/djj0013/cs161/root/testbin ] || mkdir /home/u1/djj0013/cs161/root/testbin
cp tail /home/u1/djj0013/cs161/root/testbin
make[3]: Leaving directory `/home/u1/djj0013/cs161/src/testbin/tail'
(cd tictac && make install)
make[3]: Entering directory `/home/u1/djj0013/cs161/src/testbin/tictac'
[ -d /home/u1/djj0013/cs161/root/testbin ] || mkdir /home/u1/djj0013/cs161/root/testbin
cp tictac /home/u1/djj0013/cs161/root/testbin
make[3]: Leaving directory `/home/u1/djj0013/cs161/src/testbin/tictac'
(cd triplehuge && make install)
make[3]: Entering directory `/home/u1/djj0013/cs161/src/testbin/triplehuge'
[ -d /home/u1/djj0013/cs161/root/testbin ] || mkdir /home/u1/djj0013/cs161/root/testbin
cp triplehuge /home/u1/djj0013/cs161/root/testbin
make[3]: Leaving directory `/home/u1/djj0013/cs161/src/testbin/triplehuge'
(cd triplemat && make install)
make[3]: Entering directory `/home/u1/djj0013/cs161/src/testbin/triplemat'
[ -d /home/u1/djj0013/cs161/root/testbin ] || mkdir /home/u1/djj0013/cs161/root/testbin
cp triplemat /home/u1/djj0013/cs161/root/testbin
make[3]: Leaving directory `/home/u1/djj0013/cs161/src/testbin/triplemat'
(cd triplesort && make install)
make[3]: Entering directory `/home/u1/djj0013/cs161/src/testbin/triplesort'
[ -d /home/u1/djj0013/cs161/root/testbin ] || mkdir /home/u1/djj0013/cs161/root/testbin
cp triplesort /home/u1/djj0013/cs161/root/testbin
make[3]: Leaving directory `/home/u1/djj0013/cs161/src/testbin/triplesort'
make[2]: Leaving directory `/home/u1/djj0013/cs161/src/testbin'
(cd man && make install)
make[2]: Entering directory `/home/u1/djj0013/cs161/src/man'
(cd toplevel && make install)
make[3]: Entering directory `/home/u1/djj0013/cs161/src/man/toplevel'
[ -d /home/u1/djj0013/cs161/root/man ] || mkdir /home/u1/djj0013/cs161/root/man
chmod a+rx /home/u1/djj0013/cs161/root/man
cp *.html /home/u1/djj0013/cs161/root/man
chmod a+r /home/u1/djj0013/cs161/root/man/*.html
make[3]: Leaving directory `/home/u1/djj0013/cs161/src/man/toplevel'
(cd bin && make install)
make[3]: Entering directory `/home/u1/djj0013/cs161/src/man/bin'
[ -d /home/u1/djj0013/cs161/root/man/bin ] || mkdir /home/u1/djj0013/cs161/root/man/bin
chmod a+rx /home/u1/djj0013/cs161/root/man/bin
cp *.html /home/u1/djj0013/cs161/root/man/bin
chmod a+r /home/u1/djj0013/cs161/root/man/bin/*.html
make[3]: Leaving directory `/home/u1/djj0013/cs161/src/man/bin'
(cd sbin && make install)
make[3]: Entering directory `/home/u1/djj0013/cs161/src/man/sbin'
[ -d /home/u1/djj0013/cs161/root/man/sbin ] || mkdir /home/u1/djj0013/cs161/root/man/sbin
chmod a+rx /home/u1/djj0013/cs161/root/man/sbin
cp *.html /home/u1/djj0013/cs161/root/man/sbin
chmod a+r /home/u1/djj0013/cs161/root/man/sbin/*.html
make[3]: Leaving directory `/home/u1/djj0013/cs161/src/man/sbin'
(cd testbin && make install)
make[3]: Entering directory `/home/u1/djj0013/cs161/src/man/testbin'
[ -d /home/u1/djj0013/cs161/root/man/testbin ] || mkdir /home/u1/djj0013/cs161/root/man/testbin
chmod a+rx /home/u1/djj0013/cs161/root/man/testbin
cp *.html /home/u1/djj0013/cs161/root/man/testbin
chmod a+r /home/u1/djj0013/cs161/root/man/testbin/*.html
make[3]: Leaving directory `/home/u1/djj0013/cs161/src/man/testbin'
(cd libc && make install)
make[3]: Entering directory `/home/u1/djj0013/cs161/src/man/libc'
[ -d /home/u1/djj0013/cs161/root/man/libc ] || mkdir /home/u1/djj0013/cs161/root/man/libc
chmod a+rx /home/u1/djj0013/cs161/root/man/libc
cp *.html /home/u1/djj0013/cs161/root/man/libc
chmod a+r /home/u1/djj0013/cs161/root/man/libc/*.html
make[3]: Leaving directory `/home/u1/djj0013/cs161/src/man/libc'
(cd syscall && make install)
make[3]: Entering directory `/home/u1/djj0013/cs161/src/man/syscall'
[ -d /home/u1/djj0013/cs161/root/man/syscall ] || mkdir /home/u1/djj0013/cs161/root/man/syscall
chmod a+rx /home/u1/djj0013/cs161/root/man/syscall
cp *.html /home/u1/djj0013/cs161/root/man/syscall
chmod a+r /home/u1/djj0013/cs161/root/man/syscall/*.html
make[3]: Leaving directory `/home/u1/djj0013/cs161/src/man/syscall'
(cd dev && make install)
make[3]: Entering directory `/home/u1/djj0013/cs161/src/man/dev'
[ -d /home/u1/djj0013/cs161/root/man/dev ] || mkdir /home/u1/djj0013/cs161/root/man/dev
chmod a+rx /home/u1/djj0013/cs161/root/man/dev
cp *.html /home/u1/djj0013/cs161/root/man/dev
chmod a+r /home/u1/djj0013/cs161/root/man/dev/*.html
make[3]: Leaving directory `/home/u1/djj0013/cs161/src/man/dev'
(cd misc && make install)
make[3]: Entering directory `/home/u1/djj0013/cs161/src/man/misc'
[ -d /home/u1/djj0013/cs161/root/man/misc ] || mkdir /home/u1/djj0013/cs161/root/man/misc
chmod a+rx /home/u1/djj0013/cs161/root/man/misc
cp *.html /home/u1/djj0013/cs161/root/man/misc
chmod a+r /home/u1/djj0013/cs161/root/man/misc/*.html
make[3]: Leaving directory `/home/u1/djj0013/cs161/src/man/misc'
make[2]: Leaving directory `/home/u1/djj0013/cs161/src/man'
(cd kern && make)
make[2]: Entering directory `/home/u1/djj0013/cs161/src/kern'
make[2]: Nothing to be done for `all'.
make[2]: Leaving directory `/home/u1/djj0013/cs161/src/kern'
(cd kern && make install)
make[2]: Entering directory `/home/u1/djj0013/cs161/src/kern'
make[2]: Nothing to be done for `install'.
make[2]: Leaving directory `/home/u1/djj0013/cs161/src/kern'
make[1]: Leaving directory `/home/u1/djj0013/cs161/src'
bash-4.2$ cd ~/cs161/src/kern/incluib[K[Kde
bash-4.2$ vi lib.h
[?1049h[?1h=[1;37r[?12;25h[?12l[?25h[27m[m[H[2J[?25l[37;1H"lib.h" 213L, 5845C[1;1H#ifndef _LIB_H_
#define _LIB_H_

/*
 * Miscellaneous standard C functions for the kernel, and other widely used
 * kernel functions.
 */

#include <machine/setjmp.h>

/*
 * Tell GCC to check printf formats.
 */
#ifdef __GNUC__
#define __PF(a,b) __attribute__((__format__(__printf__, a, b)))
#else
#define __PF(a,b)
#endif

/*
 * If not GCC, disable __PRETTY_FUNCTION__
 */
#ifndef __GNUC__
#define __PRETTY_FUNCTION__ "<unknown function>"
#endif

/*
 * Standard assert macro.
 */
#define assert(x) { \
    if (!(x)) { \[32;13Hpanic("Assertion failed: %s, at %s:%d (%s)\n", #x, \[33;21H__FILE__, __LINE__, __PRETTY_FUNCTION__); \
    } \
  }[1;1H[?12l[?25h
































    
  
[?25l[1;36r[36;1H
[1;37r[36;1H/*[37;1H[K[36;1H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;2H* Bit flags for DEBUG() [?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;2H*/[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H#define DB_LOCORE      0x001[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H#define DB_SYSCALL     0x002[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H#define DB_INTERRUPT   0x004[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H#define DB_DEVICE      0x008[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H#define DB_THREADS     0x010[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H#define DB_VM[10C0x020[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H#define DB_EXEC[8C0x040[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H#define DB_VFS[9C0x080[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H#define DB_SFS[9C0x100[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H#define DB_NET[9C0x200[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H#define DB_NETFS[7C0x400[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H#define DB_KMALLOC     0x800[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1Hextern u_int32_t dbflags;[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H/*[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;2H* DEBUG() is for conditionally printing debug messages to the console. [?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;2H*[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;2H* The idea is that you put lots of lines of the form [?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;2H*[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;2H*      DEBUG(DB_VM, "VM free pages: %u\n", free_pages); [?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;2H*[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;2H* throughout the kernel; then you can toggle whether these messages [?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;2H* are printed or not at runtime by setting the value of dbflags with [?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;2H* the debugger. [?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;2H*[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;2H* Unfortunately, as of this writing, there are only a very few such [?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;2H* messages actually present in the system yet. Feel free to add more. [?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;2H*[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;2H* DEBUG is a varargs macro. The first form is the standard C99 [?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;2H* way. The second is the gcc way, which, in light of C99, is obsolete - [?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;2H* - but the gcc we're using doesn't know the C99 syntax yet. [?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;2H*/[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H#if 0[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H#define DEBUG(d, fmt, ...) ((dbflags & (d)) ? kprintf(fmt, __VA_ARGS__) : 0)[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H#else[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H#define DEBUG(d, fmt, args...) ((dbflags & (d)) ? kprintf(fmt, ##args) : 0)[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H#endif[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H/*[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;2H* Random number generator, using the random device. [?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;2H*/[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H#define RAND_MAX (randmax())[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1Hu_int32_t randmax(void);[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1Hu_int32_t random(void);[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H/*[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;2H* Kernel heap memory allocation. Like malloc/free. [?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;2H* If out of memory, kmalloc returns NULL. [?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;2H*/[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1Hvoid *kmalloc(size_t sz);[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1Hvoid kfree(void *ptr);[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1Hvoid kheap_printstats(void);[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H/*[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;2H* C string functions. [?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;2H*[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;2H* kstrdup is like strdup, but calls kmalloc instead of malloc. [?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;2H* If out of memory, it returns NULL. [?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;2H*/[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1Hsize_t strlen(const char *);[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1Hint strcmp(const char *, const char *);[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1Hchar *strcpy(char *, const char *);[?12l[?25h[?25l
Type  :quit<Enter>  to exit Vim[36;1H[?12l[?25h[?25l[37;1H[K[37;1H:[?12l[?25hquirt[?25l[97m[41mE492: Not an editor command: quirt[36;1H[?12l[?25h[35;1H
[?25l[m
Type  :quit<Enter>  to exit Vim[37;32H[K[36;1H[?12l[?25h[?25l[37;1H[K[37;1H:[?12l[?25hquit[?25l[37;1H[K[37;1H[?1l>[?12l[?25h[?1049lbash-4.2$ cd ~!/c[K[K[K/cs161/src/kern/main
bash-4.2$ ls
hello.c  main.c  menu.c
bash-4.2$ vi main.c
[?1049h[?1h=[1;37r[?12;25h[?12l[?25h[27m[m[H[2J[?25l[37;1H"main.c" 172L, 3636C[1;1H/*
 * Main.
 */

#include <types.h>
#include <kern/errno.h>
#include <kern/unistd.h>
#include <lib.h>
#include <machine/spl.h>
#include <test.h>
#include <synch.h>
#include <thread.h>
#include <scheduler.h>
#include <dev.h>
#include <vfs.h>
#include <vm.h>
#include <syscall.h>
#include <version.h>

/* not sure why my changes to the main.c file disappeared but my David Jung was here */


/*
 * These two pieces of data are maintained by the makefiles and build system.
 * buildconfig is the name of the config file the kernel was configured with.
 * buildversion starts at 1 and is incremented every time you link a kernel.
 *
 * The purpose is not to show off how many kernels you've linked, but
 * to make it easy to make sure that the kernel you just booted is the
 * same one you just built.
 */
extern const int buildversion;
extern const char buildconfig[];

/*
 * Copyright message for the OS/161 base code.[1;1H[?12l[?25h


































[?25l[1;36r[36;1H
[1;37r[36;2H*/[37;1H[K[36;1H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1Hstatic const char harvard_copyright[] =[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;5H"Copyright (c) 2000, 2001, 2002, 2003\n"[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;5H"   President and Fellows of Harvard College.  All rights reserved.\n";[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H/*[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;2H* Initial boot sequence.[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;2H*/[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1Hstatic[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1Hvoid[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1Hboot(void)[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H{[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;9H/*[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;10H* The order of these is important![36;8H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;10H* Don't go changing it without thinking about the consequences.[36;8H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;10H*[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;10H* Among other things, be aware that console output gets[36;8H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;10H* buffered up at first and does not actually appear until[36;8H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;10H* dev_bootstrap() attaches the console device. This can be[36;8H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;10H* remarkably confusing if a bug occurs at this point. So[36;8H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;10H* don't put new code before dev_bootstrap if you don't[36;8H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;10H* absolutely have to.[36;8H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;10H*[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;10H* Also note that the buffer for this is only 1k. If you[36;8H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;10H* overflow it, the system will crash without printing[36;8H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;10H* anything at all. You can make it larger though (it's in[36;8H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;10H* dev/generic/console.c).[36;8H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;10H*/[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;9Hkprintf("\n");[36;8H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;9Hkprintf("OS/161 base system version %s\n", BASE_VERSION);[36;8H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;9Hkprintf("%s", harvard_copyright);[36;8H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;9Hkprintf("\n");[36;8H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;9Hkprintf("Put-your-group-name-here's system version %s (%s #%d)\n",[36;8H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;17HGROUP_VERSION, buildconfig, buildversion);[36;8H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;9Hkprintf("\n");[36;8H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;8H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;9Hhello();[36;8H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;9Hram_bootstrap();[36;8H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;9Hscheduler_bootstrap();[36;8H[?12l[?25h[35;8H[34;1H[33;8H[32;8H[31;8H[30;8H[29;8H[28;1H[29;8H[30;8H[31;8H[32;8H[33;8H
[35;8H[36;8H[?25l[1;36r[36;1H
[1;37r[36;9Hthread_bootstrap();[36;8H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;9Hvfs_bootstrap();[36;8H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;9Hdev_bootstrap();[36;8H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;9Hvm_bootstrap();[36;8H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;9Hkprintf_bootstrap();[36;8H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;9H/* Default bootfs - but ignore failure, in case emu0 doesn't exist */[36;8H[?12l[?25h[35;1H[34;8H[33;8H[32;8H[33;8H[34;8H
[36;8H[?25l[1;36r[36;1H
[1;37r[36;9Hvfs_setbootfs("emu0");[36;8H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H[?12l[?25h[35;8H[34;8H[33;1H[32;8H[31;8H[30;8H[29;8H[28;8H[27;8H[26;8H[27;8H[28;9H[27;9H[?25l[37;1H[1m-- INSERT --[27;9H[?12l[?25h[?25l[28;36r[m[28;1H[L[1;37r[27;9H[K[28;1Hscheduler_bootstrap();[?12l[?25h[?25l        scheduler_bootstrap();[28;9H[?12l[?25h[27;9H[?25l[8C[?12l[?25h[27;9H[?25lD[?12l[?25h[?25lE[?12l[?25h[?25lB[?12l[?25h[?25lU[?12l[?25h[?25lG[?12l[?25h[?25l([?12l[?25h[?25lD[?12l[?25h[?25lB[?12l[?25h[?25l_[?12l[?25h[28;18H[29;18H[30;18H[31;18H[30;18H[29;18H[28;18H[27;18H[?25l [?12l[?25h[?25l [?12l[?25h[?25l [?12l[?25h[?25l [?12l[?25h[?25l [?12l[?25h[?25l [?12l[?25h[?25l [?12l[?25h[?25l [?12l[?25h[?25l [?12l[?25h[28;9H[29;9H[?25l[30;36r[30;1H[L[1;37r[29;9H[K[30;1Hthread_bootstrap();[?12l[?25h[?25l[31;36r[31;1H[L[1;37r[30;1H[K[31;1Hthread_bootstrap();[?12l[?25h[?25l        thread_bootstrap();[31;9H[?12l[?25h[?25lthread_bootstrap();[31;20H[K[31;1H[?12l[?25h[?25l[30;36r[36;1H
[1;37r[36;9H/* Default bootfs - but ignore failure, in case emu0 doesn't exist */[30;1H[?12l[?25h[?25l        thread_bootstrap();[30;9H[?12l[?25h[31;9H[?25l[32;36r[32;1H[L[1;37r[31;9H[K[32;1Hvfs_bootstrap();[?12l[?25h[?25l        vfs_bootstrap();[32;9H[?12l[?25h[33;9H[?25l[34;36r[34;1H[L[1;37r[33;9H[K[34;1Hdev_bootstrap();[?12l[?25h[?25l        dev_bootstrap();[34;9H[?12l[?25h[35;9H[?25l[35;9H[K[36;1Hvm_bootstrap();[36;16H[K[36;1H[?12l[?25h[?25l        vm_bootstrap();[36;9H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;9Hkprintf_bootstrap();[36;9H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[35;9H[K[36;1Hkprintf_bootstrap();[?12l[?25h[?25l        kprintf_bootstrap();[36;9H[?12l[?25h[35;9H[34;9H[35;9H[?25lD[?12l[?25h[?25lE[?12l[?25h[?25lB[?12l[?25h[?25lU[?12l[?25h[?25lG[?12l[?25h[?25l([?12l[?25h[?25lD[?12l[?25h[?25lB[?12l[?25h[?25l_[?12l[?25h[?25lV[?12l[?25h[?25lM[?12l[?25h[?25l,[?12l[?25h[?25l [?12l[?25h[?25l"[?12l[?25h[?25lV[?12l[?25h[?25lM[?12l[?25h[?25l [?12l[?25h[?25lF[?12l[?25h[?25l[35;26H[K[35;26H[?12l[?25h[?25lf[?12l[?25h[?25lr[?12l[?25h[?25le[?12l[?25h[?25le[?12l[?25h[?25l [?12l[?25h[?25lp[?12l[?25h[?25la[?12l[?25h[?25lg[?12l[?25h[?25le[?12l[?25h[?25ls[?12l[?25h[?25l:[?12l[?25h[?25l [?12l[?25h[?25l"[?12l[?25h[?25l[35;38H[K[35;38H[?12l[?25h[?25l$[?12l[?25h[?25l[35;38H[K[35;38H[?12l[?25h[?25l%[?12l[?25h[?25lu[?12l[?25h[?25l\[?12l[?25h[?25ln[?12l[?25h[?25l"[?12l[?25h[?25l,[?12l[?25h[?25l [?12l[?25h[?25lf[?12l[?25h[?25lr[?12l[?25h[?25le[?12l[?25h[?25le[?12l[?25h[?25l_[?12l[?25h[?25lp[?12l[?25h[?25la[?12l[?25h[?25lg[?12l[?25h[?25le[?12l[?25h[?25ls[?12l[?25h[?25l)[?12l[?25h[?25l[35;55H[K[35;55H[?12l[?25h[?25l[35;54H[K[35;54H[?12l[?25h[?25l[35;53H[K[35;53H[?12l[?25h[?25l[35;52H[K[35;52H[?12l[?25h[?25l[35;51H[K[35;51H[?12l[?25h[?25l[35;50H[K[35;50H[?12l[?25h[?25l[35;49H[K[35;49H[?12l[?25h[?25l[35;48H[K[35;48H[?12l[?25h[?25l[35;47H[K[35;47H[?12l[?25h[?25l[35;46H[K[35;46H[?12l[?25h[?25l[35;45H[K[35;45H[?12l[?25h[?25l[?12l[?25h[?25l[35;43H[K[35;43H[?12l[?25h[?25l[35;42H[K[35;42H[?12l[?25h[?25l[35;41H[K[35;41H[?12l[?25h[?25l[35;40H[K[35;40H[?12l[?25h[?25l[35;39H[K[35;39H[?12l[?25h[?25l[35;38H[K[35;38H[?12l[?25h[?25l[?12l[?25h[?25l[35;36H[K[35;36H[?12l[?25h[?25l[35;35H[K[35;35H[?12l[?25h[?25l[35;34H[K[35;34H[?12l[?25h[?25l[35;33H[K[35;33H[?12l[?25h[?25l[35;32H[K[35;32H[?12l[?25h[?25l[35;31H[K[35;31H[?12l[?25h[?25l[?12l[?25h[?25l[35;29H[K[35;29H[?12l[?25h[?25l[35;28H[K[35;28H[?12l[?25h[?25l[35;27H[K[35;27H[?12l[?25h[?25l[35;26H[K[35;26H[?12l[?25h[?25lb[?12l[?25h[?25lo[?12l[?25h[?25lo[?12l[?25h[?25lt[?12l[?25h[?25ls[?12l[?25h[?25lt[?12l[?25h[?25lr[?12l[?25h[?25la[?12l[?25h[?25lp[?12l[?25h[?25l [?12l[?25h[?25lr[?12l[?25h[?25la[?12l[?25h[?25ln[?12l[?25h[?25l"[?12l[?25h[?25l)[?12l[?25h[?25l;[?12l[?25h[36;29H[?25l[1;36r[36;1H
[1;37r[36;1H[?12l[?25h[35;29H[34;42H[33;24H[32;9H[?25lD[?12l[?25h[?25lE[?12l[?25h[?25lB[?12l[?25h[?25lU[?12l[?25h[?25lG[?12l[?25h[?25l([?12l[?25h[?25l)[?12l[?25h[?25lD[?12l[?25h[?25l[32;16H[K[32;16H[?12l[?25h[?25l[32;15H[K[32;15H[?12l[?25h[?25lD[?12l[?25h[?25lB[?12l[?25h[?25l_[?12l[?25h[?25lD[?12l[?25h[?25lE[?12l[?25h[?25lV[?12l[?25h[?25lI[?12l[?25h[?25lC[?12l[?25h[?25lE[?12l[?25h[?25l,[?12l[?25h[?25l [?12l[?25h[?25l"[?12l[?25h[?25ld[?12l[?25h[?25le[?12l[?25h[?25lv[?12l[?25h[?25l_[?12l[?25h[?25l[32;30H[K[32;30H[?12l[?25h[?25l[32;29H[K[32;29H[?12l[?25h[?25l[32;28H[K[32;28H[?12l[?25h[?25l[32;27H[K[32;27H[?12l[?25h[?25lD[?12l[?25h[?25lE[?12l[?25h[?25lv[?12l[?25h[?25l[32;29H[K[32;29H[?12l[?25h[?25l[32;28H[K[32;28H[?12l[?25h[?25le[?12l[?25h[?25lv[?12l[?25h[?25l [?12l[?25h[?25lb[?12l[?25h[?25lo[?12l[?25h[?25lo[?12l[?25h[?25lt[?12l[?25h[?25ls[?12l[?25h[?25lt[?12l[?25h[?25lr[?12l[?25h[?25la[?12l[?25h[?25lp[?12l[?25h[?25l [?12l[?25h[?25lr[?12l[?25h[?25la[?12l[?25h[?25ln[?12l[?25h[?25l [?12l[?25h[?25li[?12l[?25h[?25l[32;45H[K[32;45H[?12l[?25h[?25l[?12l[?25h[?25l"[?12l[?25h[?25l)[?12l[?25h[?25l;[?12l[?25h[33;24H[34;42H[35;29H
[?25l[1;36r[36;1H
[1;37r[36;9H/* Default bootfs - but ignore failure, in case emu0 doesn't exist */[36;47H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;9Hvfs_setbootfs("emu0");[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;9H/*[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;10H* Make sure various things aren't screwed up.[36;47H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;10H*/[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;9Hassert(sizeof(userptr_t)==sizeof(char *));[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;9Hassert(sizeof(*(userptr_t)0)==sizeof(char));[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H}[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H/*[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;2H* Shutdown sequence. Opposite to boot().[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;2H*/[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1Hstatic[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1Hvoid[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1Hshutdown(void)[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H{[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;9Hkprintf("Shutting down.\n");[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;9H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;9Hvfs_clearbootfs();[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;9Hvfs_clearcurdir();[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;9Hvfs_unmountall();[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;9Hsplhigh();[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H[?12l[?25h[?25l[1;36r[1;1H[2M[1;37r[35;9Hscheduler_shutdown();[36;9Hthread_shutdown();[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H}[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H/*****************************************/[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H/*[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;2H* reboot() system call.[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;2H*[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;2H* Note: this is here because it's directly related to the code above,[36;47H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;2H* not because this is where system call code should go. Other syscall[36;47H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;2H* code should probably live in the "userprog" directory.[36;47H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;2H*/[?12l[?25h[35;47H[34;47H[33;47H[32;3H[31;25H[30;3H[29;1H[28;44H[27;1H[26;2H[25;27H[24;30H[23;1H[24;30H[25;27H
}
[28;44H

/*[31;25H
 *[33;47H[34;47H[35;47H
 */[?25l[1;36r[36;1H
[1;37r[36;1Hint[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1Hsys_reboot(int code)[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H{[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;9Hswitch (code) {[?12l[?25h[?25l[1;36r[1;1H[2M[1;37r[35;13Hcase RB_REBOOT:[36;13Hcase RB_HALT:[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;13Hcase RB_POWEROFF:[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;17Hbreak;[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;13Hdefault:[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;17Hreturn EINVAL;[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;9H}[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;9Hshutdown();[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;9Hswitch (code) {[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;13Hcase RB_HALT:[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;17Hkprintf("The system is halted.\n");[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;17Hmd_halt();[?12l[?25h[35;47H[34;26H[33;24H[32;1H[31;20H[30;1H[29;10H[24;26H[23;28H[22;24H[19;4H[18;4H[17;47H[16;47H[13;25H[11;1H[10;44H[9;1H[7;27H[6;30H[5;1H[4;19H[3;1H[?25l[1;36r[1;1H[L[1;37r[1;9Hvfs_clearbootfs();[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;9H[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;9Hkprintf("Shutting down.\n");[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;1H[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;1H{[?12l[?25h[?25l[1;36r[1;1H[3L[1;37r[1;1Hstatic
void
shutdown(void)[1;7H[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;2H*/[?12l[?25h[?25l[1;36r[1;1H[3L[1;37r[2;1H/*
 * Shutdown sequence. Opposite to boot().[1;1H[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;1H}[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;9Hassert(sizeof(*(userptr_t)0)==sizeof(char));[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;9Hassert(sizeof(userptr_t)==sizeof(char *));[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;10H*/[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;10H* Make sure various things aren't screwed up.[1;47H[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;9H/*[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;1H[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;1H[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;9Hvfs_setbootfs("emu0");[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;9H/* Default bootfs - but ignore failure, in case emu0 doesn't exist */[1;47H[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;1H[?12l[?25h[?25l[1;36r[1;1H[4L[1;37r[1;9HDEBUG(DB_DEVICE, "Dev bootstrap ran");[2;9Hvm_bootstrap();[3;9HDEBUG(DB_VM, "VM bootstrap ran");[4;9Hkprintf_bootstrap();[1;47H[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;9Hdev_bootstrap();[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;9H[?12l[?25h[?25l[1;36r[1;1H[2L[1;37r[2;9Hvfs_bootstrap();[1;9H[?12l[?25h[?25l[1;36r[1;1H[3L[1;37r[1;9Hscheduler_bootstrap();[3;9Hthread_bootstrap();[1;31H[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;17H[?12l[?25h[2;31H[3;9H[4;28H[5;9H[6;25H[7;9H[?25lD[?12l[?25h[?25lE[?12l[?25h[?25lB[?12l[?25h[?25lY[?12l[?25h[?25lU[?12l[?25h[?25lG[?12l[?25h[?25l[7;14H[K[7;14H[?12l[?25h[?25l[7;13H[K[7;13H[?12l[?25h[?25l[7;12H[K[7;12H[?12l[?25h[?25lU[?12l[?25h[?25lG[?12l[?25h[?25l([?12l[?25h[?25lV[?12l[?25h[?25l[7;15H[K[7;15H[?12l[?25h[?25lD[?12l[?25h[?25lB[?12l[?25h[?25l_[?12l[?25h[?25lV[?12l[?25h[?25lF[?12l[?25h[?25lS[?12l[?25h[?25l,[?12l[?25h[?25l [?12l[?25h[?25l"[?12l[?25h[?25lV[?12l[?25h[?25lF[?12l[?25h[?25lS[?12l[?25h[?25l [?12l[?25h[?25lb[?12l[?25h[?25lo[?12l[?25h[?25lo[?12l[?25h[?25lt[?12l[?25h[?25ls[?12l[?25h[?25lr[?12l[?25h[?25la[?12l[?25h[?25lp[?12l[?25h[?25l [?12l[?25h[?25l[?12l[?25h[?25l[7;35H[K[7;35H[?12l[?25h[?25l[7;34H[K[7;34H[?12l[?25h[?25l[7;33H[K[7;33H[?12l[?25h[?25lt[?12l[?25h[?25lr[?12l[?25h[?25la[?12l[?25h[?25lp[?12l[?25h[?25l [?12l[?25h[?25lr[?12l[?25h[?25la[?12l[?25h[?25lm[?12l[?25h[?25l[7;40H[K[7;40H[?12l[?25h[?25ln[?12l[?25h[?25l"[?12l[?25h[?25l)[?12l[?25h[?25l;[?12l[?25h[6;25H[5;9H[?25lD[?12l[?25h[?25lE[?12l[?25h[?25lB[?12l[?25h[?25lU[?12l[?25h[?25lG[?12l[?25h[?25l([?12l[?25h[?25lD[?12l[?25h[?25lB[?12l[?25h[?25l_[?12l[?25h[?25lT[?12l[?25h[?25lR[?12l[?25h[?25l[5;19H[K[5;19H[?12l[?25h[?25lH[?12l[?25h[?25lR[?12l[?25h[?25lE[?12l[?25h[?25lA[?12l[?25h[?25lD[?12l[?25h[?25lS[?12l[?25h[?25l,[?12l[?25h[?25l [?12l[?25h[?25l"[?12l[?25h[?25lT[?12l[?25h[?25lh[?12l[?25h[?25lr[?12l[?25h[?25le[?12l[?25h[?25la[?12l[?25h[?25ld[?12l[?25h[?25ls[?12l[?25h[?25l [?12l[?25h[?25lb[?12l[?25h[?25lo[?12l[?25h[?25lo[?12l[?25h[?25lt[?12l[?25h[?25ls[?12l[?25h[?25lt[?12l[?25h[?25lr[?12l[?25h[?25la[?12l[?25h[?25lp[?12l[?25h[?25l [?12l[?25h[?25lr[?12l[?25h[?25la[?12l[?25h[?25ln[?12l[?25h[?25l"[?12l[?25h[?25l)[?12l[?25h[?25l;[?12l[?25h[4;28H[3;9H[2;31H[1;17H[?25l[1;36r[1;1H[L[1;37r[1;9Hram_bootstrap();[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;1H[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;9Hhello();[8C[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;9H[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;9Hkprintf("\n");[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;17HGROUP_VERSION, buildconfig, buildversion);[1;52H[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;9Hkprintf("Put-your-group-name-here's system version %s (%s #%d)\n",[1;52H[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;1H[?12l[?25h[2;52H[3;52H[4;23H[5;9H[6;25H
[8;25H[9;17H[10;31H[11;9H[10;31H[9;17H[8;25H[7;1H[6;25H[5;9H[4;23H[3;52H[2;52H[1;1H[?25l[1;36r[1;1H[L[1;37r[1;9Hkprintf("\n");[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;9Hkprintf("%s", harvard_copyright);[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;9Hkprintf("OS/161 base system version %s\n", BASE_VERSION);[1;52H[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;9Hkprintf("\n");[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;1H[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;10H*/[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;10H* dev/generic/console.c).[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;10H* anything at all. You can make it larger though (it's in[1;52H[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;10H* overflow it, the system will crash without printing[1;52H[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;10H* Also note that the buffer for this is only 1k. If you[1;52H[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;10H*[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;10H* absolutely have to.[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;10H* don't put new code before dev_bootstrap if you don't[1;52H[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;10H* remarkably confusing if a bug occurs at this point. So[1;52H[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;10H* dev_bootstrap() attaches the console device. This can be[1;52H[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;10H* buffered up at first and does not actually appear until[1;52H[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;10H* Among other things, be aware that console output gets[1;52H[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;10H*[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;10H* Don't go changing it without thinking about the consequences.[1;52H[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;10H* The order of these is important![?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;9H/*[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;1H{[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;1Hboot(void)[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;1Hvoid[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;1Hstatic[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;2H*/[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;2H* Initial boot sequence.[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;1H/*[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;1H[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;1H[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;5H"   President and Fellows of Harvard College.  All rights reserved.\n";[1;52H[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;5H"Copyright (c) 2000, 2001, 2002, 2003\n"[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;1Hstatic const char harvard_copyright[] =[?12l[?25h[2;45H[3;52H


/*[7;26H
 */[9;7H
void[11;11H
{[13;11H[14;44H[15;52H[16;11H[17;52H[18;52H[19;52H[20;52H[21;52H[22;31H[23;11H[24;52H[25;52H[26;52H[27;35H[28;12H
[30;23H[31;52H[32;42H[33;23H
[35;52H[36;52H[?25l[1;36r[36;1H
[1;37r[36;9Hkprintf("\n");[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;9H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;9Hhello();[8C[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;9Hram_bootstrap();[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;17H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;9Hscheduler_bootstrap();[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;9H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;9Hthread_bootstrap();[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;9HDEBUG(DB_THREADS, "Threads bootstrap ran");[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;9Hvfs_bootstrap();[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;9HDEBUG(DB_VFS, "VFS bootstrap ran");[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;9Hdev_bootstrap();[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;9HDEBUG(DB_DEVICE, "Dev bootstrap ran");[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;9Hvm_bootstrap();[?12l[?25h[?25l[1;36r[1;1H[8M[1;37r[29;9HDEBUG(DB_VM, "VM bootstrap ran");[30;9Hkprintf_bootstrap();[32;9H/* Default bootfs - but ignore failure, in case emu0 doesn't exist */[33;9Hvfs_setbootfs("emu0");[36;9H/*[?12l[?25h[?25l[1;36r[1;1H[5M[1;37r[32;10H* Make sure various things aren't screwed up.[33;10H*/[34;9Hassert(sizeof(userptr_t)==sizeof(char *));[35;9Hassert(sizeof(*(userptr_t)0)==sizeof(char));
}[?12l[?25h[?25l[1;36r[1;1H[2M[1;37r[36;1H/*[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;2H* Shutdown sequence. Opposite to boot().[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;2H*/[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1Hstatic[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1Hvoid[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1Hshutdown(void)[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H{[?12l[?25h[?25l[1;36r[1;1H[2M[1;37r[36;9Hkprintf("Shutting down.\n");[?12l[?25h[?25l[1;36r[1;1H[3M[1;37r[35;9Hvfs_clearbootfs();[36;9Hvfs_clearcurdir();[?12l[?25h[?25l[1;36r[1;1H[2M[1;37r[35;9Hvfs_unmountall();
[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;9Hsplhigh();[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;9Hscheduler_shutdown();[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;9Hthread_shutdown();[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H}[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H/*****************************************/[?12l[?25h[35;1H[34;2H[33;27H[32;30H[31;1H[30;19H[29;1H[28;26H[27;27H[26;27H[27;27H[28;26H
[30;19H
[32;30H[33;27H
}
[36;44H[?25l[1;36r[36;1H
[1;37r[36;1H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H/*[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;2H* reboot() system call.[?12l[?25h[?25l[1;36r[1;1H[2M[1;37r[35;2H*
 * Note: this is here because it's directly related to the code above,[36;52H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;2H* not because this is where system call code should go. Other syscall[36;52H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;2H* code should probably live in the "userprog" directory.[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;2H*/[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1Hint[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1Hsys_reboot(int code)[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H{[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;9Hswitch (code) {[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;13Hcase RB_REBOOT:[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;13Hcase RB_HALT:[?12l[?25h[?25l[1;36r[1;1H[2M[1;37r[35;13Hcase RB_POWEROFF:[36;17Hbreak;[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;13Hdefault:[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;17Hreturn EINVAL;[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;9H}[?12l[?25h[?25l[1;36r[1;1H[6M[1;37r[32;9Hshutdown();[34;9Hswitch (code) {[35;13Hcase RB_HALT:[36;17Hkprintf("The system is halted.\n");[?12l[?25h[?25l[1;36r[1;1H[2M[1;37r[35;17Hmd_halt();[36;17Hbreak;[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;13Hcase RB_REBOOT:[?12l[?25h[33;52H[31;24H[30;1H[29;20H[28;1H[?25l[8C[?12l[?25h[?25lD[?12l[?25h[?25lE[?12l[?25h[?25lB[?12l[?25h[?25lU[?12l[?25h[?25lG[?12l[?25h[?25l([?12l[?25h[?25lD[?12l[?25h[?25lB[?12l[?25h[?25l_[?12l[?25h[?25lS[?12l[?25h[?25lY[?12l[?25h[?25lS[?12l[?25h[?25lC[?12l[?25h[?25lA[?12l[?25h[?25lL[?12l[?25h[?25lL[?12l[?25h[?25l,[?12l[?25h[?25l [?12l[?25h[?25l"[?12l[?25h[?25lR[?12l[?25h[?25le[?12l[?25h[?25lm[?12l[?25h[?25lo[?12l[?25h[?25l[28;31H[K[28;31H[?12l[?25h[?25l[28;30H[K[28;30H[?12l[?25h[?25lb[?12l[?25h[?25lo[?12l[?25h[?25lo[?12l[?25h[?25lt[?12l[?25h[?25li[?12l[?25h[?25ln[?12l[?25h[?25lg[?12l[?25h[?25l [?12l[?25h[?25ls[?12l[?25h[?25ly[?12l[?25h[?25ls[?12l[?25h[?25lc[?12l[?25h[?25la[?12l[?25h[?25ll[?12l[?25h[?25ll[?12l[?25h[?25l [?12l[?25h[?25lh[?12l[?25h[?25le[?12l[?25h[?25lr[?12l[?25h[?25le[?12l[?25h[?25l"[?12l[?25h[?25l[28;50H[K[28;50H[?12l[?25h[?25l[28;49H[K[28;49H[?12l[?25h[?25l[28;48H[K[28;48H[?12l[?25h[?25l[28;47H[K[28;47H[?12l[?25h[?25l[28;46H[K[28;46H[?12l[?25h[?25l[?12l[?25h[?25l [?12l[?25h[?25li[?12l[?25h[?25ln[?12l[?25h[?25l [?12l[?25h[?25ls[?12l[?25h[?25ly[?12l[?25h[?25ls[?12l[?25h[?25l_[?12l[?25h[?25lr[?12l[?25h[?25lo[?12l[?25h[?25lo[?12l[?25h[?25l[28;55H[K[28;55H[?12l[?25h[?25l[28;54H[K[28;54H[?12l[?25h[?25le[?12l[?25h[?25lb[?12l[?25h[?25lo[?12l[?25h[?25lt[?12l[?25h[?25lt[?12l[?25h[?25l[28;58H[K[28;58H[?12l[?25h[?25l[28;57H[K[28;57H[?12l[?25h[?25lo[?12l[?25h[?25lt[?12l[?25h[?25l"[?12l[?25h[?25l()[?12l[?25h[?25l[28;61H[K[28;61H[?12l[?25h[?25l[28;60H[K[28;60H[?12l[?25h[?25l)[?12l[?25h[?25l;[?12l[?25h[27;10H[26;31H[25;21H[24;23H[23;30H[22;26H[21;28H[20;24H[19;2H[18;21H[17;4H[16;4H[15;58H[14;62H[13;62H[12;3H[11;25H[10;3H[9;1H[8;44H[7;1H[6;2H[5;27H[4;30H[3;1H[2;19H[1;1H[?25l[1;36r[1;1H[L[1;37r[1;9Hvfs_unmountall();[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;9Hvfs_clearcurdir();[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;9Hvfs_clearbootfs();[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;9H[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;9Hkprintf("Shutting down.\n");[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;1H[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;1H{[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;1Hshutdown(void)[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;1Hvoid[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;1Hstatic[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;2H*/[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;2H* Shutdown sequence. Opposite to boot().[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;1H/*[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;1H[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;1H}[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;9Hassert(sizeof(*(userptr_t)0)==sizeof(char));[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;9Hassert(sizeof(userptr_t)==sizeof(char *));[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;10H*/[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;10H* Make sure various things aren't screwed up.[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;9H/*[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;1H[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;1H[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;9Hvfs_setbootfs("emu0");[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;9H/* Default bootfs - but ignore failure, in case emu0 doesn't exist */[1;62H[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;1H[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;9Hkprintf_bootstrap();[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;9HDEBUG(DB_VM, "VM bootstrap ran");[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;9Hvm_bootstrap();[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;9HDEBUG(DB_DEVICE, "Dev bootstrap ran");[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;9Hdev_bootstrap();[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;9HDEBUG(DB_VFS, "VFS bootstrap ran");[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;9Hvfs_bootstrap();[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;9HDEBUG(DB_THREADS, "Threads bootstrap ran");[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;9Hthread_bootstrap();[?12l[?25h[2;52H[3;25H[4;44H[5;25H[6;47H[7;24H[8;42H[9;29H
[11;62H[12;31H

[15;11H[16;55H[17;12H[18;51H[19;53H
}

/*[23;42H
 */[25;7H[27;15H
{
[30;37H[31;9H[32;27H[33;27H[34;26H
[36;19H[?25l[1;36r[36;1H
[1;37r[36;1H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;9Hscheduler_shutdown();[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;9Hthread_shutdown();[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H}[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H/*****************************************/[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H/*[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;2H* reboot() system call.[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;2H*[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;2H* Note: this is here because it's directly related to the code above,[36;62H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;2H* not because this is where system call code should go. Other syscall[36;62H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;2H* code should probably live in the "userprog" directory.[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;2H*/[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1Hint[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1Hsys_reboot(int code)[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H{[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;9Hswitch (code) {[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;13Hcase RB_REBOOT:[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;13Hcase RB_HALT:[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;13Hcase RB_POWEROFF:[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;17Hbreak;[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;13Hdefault:[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;17Hreturn EINVAL;[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;9H}[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;9HDEBUG(DB_SYSCALL, "Rebooting syscall in sys_reboot");[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;9Hshutdown();[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;9Hswitch (code) {[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;13Hcase RB_HALT:[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;17Hkprintf("The system is halted.\n");[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;17Hmd_halt();[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;17Hbreak;[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;13Hcase RB_REBOOT:[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;17Hkprintf("Rebooting...\n");[?12l[?25h[35;28H[34;23H[33;27H[32;52H[31;26H[30;24H[29;1H[28;20H[27;62H[26;10H[25;31H[24;21H[23;23H[22;30H[21;26H[20;28H[19;24H[18;2H[17;21H[16;4H[15;4H[14;58H[13;62H[12;62H[11;3H[10;25H[9;3H[8;1H[7;44H[6;1H[5;2H[4;27H[3;30H[2;1H[1;19H[?25l[1;36r[1;1H[L[1;37r[1;1H[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;9Hvfs_unmountall();[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;9Hvfs_clearcurdir();[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;9Hvfs_clearbootfs();[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;9H[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;9Hkprintf("Shutting down.\n");[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;1H[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;1H{[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;1Hshutdown(void)[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;1Hvoid[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;1Hstatic[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;2H*/[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;2H* Shutdown sequence. Opposite to boot().[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;1H/*[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;1H[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;1H}[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;9Hassert(sizeof(*(userptr_t)0)==sizeof(char));[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;9Hassert(sizeof(userptr_t)==sizeof(char *));[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;10H*/[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;10H* Make sure various things aren't screwed up.[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;9H/*[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;1H[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;1H[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;9Hvfs_setbootfs("emu0");[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;9H/* Default bootfs - but ignore failure, in case emu0 doesn't exist */[1;62H[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;1H[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;9Hkprintf_bootstrap();[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;9HDEBUG(DB_VM, "VM bootstrap ran");[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;9Hvm_bootstrap();[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;9HDEBUG(DB_DEVICE, "Dev bootstrap ran");[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;9Hdev_bootstrap();[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;9HDEBUG(DB_VFS, "VFS bootstrap ran");[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;9Hvfs_bootstrap();[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;9HDEBUG(DB_THREADS, "Threads bootstrap ran");[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;9Hthread_bootstrap();[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;9H[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;9Hscheduler_bootstrap();[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;17H[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;9Hram_bootstrap();[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;1H[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;9Hhello();[8C[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;9H[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;9Hkprintf("\n");[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;17HGROUP_VERSION, buildconfig, buildversion);[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;9Hkprintf("Put-your-group-name-here's system version %s (%s #%d)\n",[1;62H[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;1H[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;9Hkprintf("\n");[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;9Hkprintf("%s", harvard_copyright);[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;9Hkprintf("OS/161 base system version %s\n", BASE_VERSION);[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;9Hkprintf("\n");[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;1H[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;10H*/[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;10H* dev/generic/console.c).[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;10H* anything at all. You can make it larger though (it's in[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;10H* overflow it, the system will crash without printing[?12l[?25h[2;62H[3;35H[4;12H
[6;23H[7;62H[8;42H[9;23H
[11;62H[12;59H[14;9H[15;25H
[17;25H[18;17H[17;25H[16;1H[15;25H[14;9H[13;23H[12;59H[11;62H[10;1H[9;23H[8;42H[7;62H[6;23H[5;1H[4;12H[3;35H[2;62H[1;62H[?25l[1;36r[1;1H[L[1;37r[1;10H* Also note that the buffer for this is only 1k. If you[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;10H*[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;10H* absolutely have to.[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;10H* don't put new code before dev_bootstrap if you don't[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;10H* remarkably confusing if a bug occurs at this point. So[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;10H* dev_bootstrap() attaches the console device. This can be[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;10H* buffered up at first and does not actually appear until[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;10H* Among other things, be aware that console output gets[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;10H*[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;10H* Don't go changing it without thinking about the consequences.[1;62H[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;10H* The order of these is important![?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;9H/*[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;1H{[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;1Hboot(void)[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;1Hvoid[?12l[?25h[?25l[1;36r[1;1H[2L[1;37r[1;2H*/
static[1;4H[?12l[?25h[?25l[1;36r[1;1H[L[1;37r[1;2H* Initial boot sequence.[?12l[?25h
 */[3;7H
void[5;11H
{[7;11H[8;44H[9;62H[10;11H[11;62H[12;62H[13;62H[14;62H[15;62H[16;31H[17;11H[18;62H[19;62H[20;62H[21;35H[22;12H
[24;23H[25;62H[26;42H[27;23H
[29;62H[30;59H[31;23H[32;9H[33;25H
[35;25H[36;17H[?25l[1;36r[36;1H
[1;37r[36;9Hscheduler_bootstrap();[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;9H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;9Hthread_bootstrap();[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;9HDEBUG(DB_THREADS, "Threads bootstrap ran");[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;9Hvfs_bootstrap();[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;9HDEBUG(DB_VFS, "VFS bootstrap ran");[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;9Hdev_bootstrap();[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;9HDEBUG(DB_DEVICE, "Dev bootstrap ran");[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;9Hvm_bootstrap();[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;9HDEBUG(DB_VM, "VM bootstrap ran");[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;9Hkprintf_bootstrap();[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;9H/* Default bootfs - but ignore failure, in case emu0 doesn't exist */[36;62H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;9Hvfs_setbootfs("emu0");[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;9H/*[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;10H* Make sure various things aren't screwed up.[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;10H*/[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;9Hassert(sizeof(userptr_t)==sizeof(char *));[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;9Hassert(sizeof(*(userptr_t)0)==sizeof(char));[?12l[?25h[35;51H[34;12H[33;55H[32;11H[31;1H[30;1H
[30;1H
[30;1H[?25l[8C[?12l[?25h[?25l[31;36r[31;1H[L[1;37r[31;1H[?12l[?25h[?25l[8C[?12l[?25h[?25lD[?12l[?25h[?25lB[?12l[?25h[?25l[31;10H[K[31;10H[?12l[?25h[?25lE[?12l[?25h[?25lB[?12l[?25h[?25lU[?12l[?25h[?25lG[?12l[?25h[?25l([?12l[?25h[?25lD[?12l[?25h[?25lB[?12l[?25h[?25l_[?12l[?25h[?25lL[?12l[?25h[?25lO[?12l[?25h[?25lC[?12l[?25h[?25lO[?12l[?25h[?25lR[?12l[?25h[?25lE[?12l[?25h[?25l,[?12l[?25h[?25l [?12l[?25h[?25l"[?12l[?25h[?25lD[?12l[?25h[?25la[?12l[?25h[?25lv[?12l[?25h[?25li[?12l[?25h[?25ld[?12l[?25h[?25l [?12l[?25h[?25lJ[?12l[?25h[?25lu[?12l[?25h[?25ln[?12l[?25h[?25lg[?12l[?25h[?25l'[?12l[?25h[?25ls[?12l[?25h[?25l [?12l[?25h[?25lt[?12l[?25h[?25le[?12l[?25h[?25ls[?12l[?25h[?25lt[?12l[?25h[?25lc[?12l[?25h[?25la[?12l[?25h[?25ll[?12l[?25h[?25ll[?12l[?25h[?25l [?12l[?25h[?25lf[?12l[?25h[?25lo[?12l[?25h[?25lr[?12l[?25h[?25l [?12l[?25h[?25lL[?12l[?25h[?25lO[?12l[?25h[?25lC[?12l[?25h[?25lO[?12l[?25h[?25lR[?12l[?25h[?25lE[?12l[?25h[?25l"[?12l[?25h[?25l)[?12l[?25h[?25l[31;60H[K[31;60H[?12l[?25h[?25l[31;59H[K[31;59H[?12l[?25h[?25l"[?12l[?25h[?25l)[?12l[?25h[?25l;[?12l[?25h[?25l[32;36r[32;1H[L[1;37r[32;1H[?12l[?25h[?25lD[?12l[?25h[?25l[32;1H[K[32;1H[?12l[?25h[?25l[8C[?12l[?25h[?25lD[?12l[?25h[?25lE[?12l[?25h[?25lB[?12l[?25h[?25lU[?12l[?25h[?25lG[?12l[?25h[?25l([?12l[?25h[?25lD[?12l[?25h[?25lB[?12l[?25h[?25l_[?12l[?25h[?25lS[?12l[?25h[?25lY[?12l[?25h[?25lS[?12l[?25h[?25l[32;20H[K[32;20H[?12l[?25h[?25l[32;19H[K[32;19H[?12l[?25h[?25l[32;18H[K[32;18H[?12l[?25h[?25l[32;17H[K[32;17H[?12l[?25h[?25l_[?12l[?25h[?25lI[?12l[?25h[?25lN[?12l[?25h[?25lT[?12l[?25h[?25lE[?12l[?25h[?25lR[?12l[?25h[?25lR[?12l[?25h[?25lU[?12l[?25h[?25lP[?12l[?25h[?25lT[?12l[?25h[?25l,[?12l[?25h[?25l [?12l[?25h[?25l"[?12l[?25h[?25lD[?12l[?25h[?25lA[?12l[?25h[?25lv[?12l[?25h[?25l[32;32H[K[32;32H[?12l[?25h[?25l[32;31H[K[32;31H[?12l[?25h[?25la[?12l[?25h[?25lv[?12l[?25h[?25li[?12l[?25h[?25ld[?12l[?25h[?25l [?12l[?25h[?25lJ[?12l[?25h[?25lu[?12l[?25h[?25ln[?12l[?25h[?25lg[?12l[?25h[?25l'[?12l[?25h[?25ls[?12l[?25h[?25l [?12l[?25h[?25lt[?12l[?25h[?25le[?12l[?25h[?25ls[?12l[?25h[?25lt[?12l[?25h[?25lc[?12l[?25h[?25la[?12l[?25h[?25ll[?12l[?25h[?25ll[?12l[?25h[?25l [?12l[?25h[?25lf[?12l[?25h[?25lo[?12l[?25h[?25lr[?12l[?25h[?25l [?12l[?25h[?25lI[?12l[?25h[?25lN[?12l[?25h[?25lT[?12l[?25h[?25l[32;58H[K[32;58H[?12l[?25h[?25lT[?12l[?25h[?25lE[?12l[?25h[?25lR[?12l[?25h[?25lR[?12l[?25h[?25lU[?12l[?25h[?25lP[?12l[?25h[?25lT[?12l[?25h[?25l"[?12l[?25h[?25l[32;65H[K[32;65H[?12l[?25h[?25l"[?12l[?25h[?25l)[?12l[?25h[?25l;[?12l[?25h[?25l[33;36r[33;1H[L[1;37r[33;1H[?12l[?25h[?25l[8C[?12l[?25h[?25lD[?12l[?25h[?25lE[?12l[?25h[?25lB[?12l[?25h[?25lU[?12l[?25h[?25lG[?12l[?25h[?25l([?12l[?25h[?25lD[?12l[?25h[?25lB[?12l[?25h[?25l_[?12l[?25h[?25lV[?12l[?25h[?25lM[?12l[?25h[?25l[33;19H[K[33;19H[?12l[?25h[?25l[33;18H[K[33;18H[?12l[?25h[?25lE[?12l[?25h[?25lX[?12l[?25h[?25lE[?12l[?25h[?25lC[?12l[?25h[?25l,[?12l[?25h[?25l [?12l[?25h[?25l"[?12l[?25h[?25la[?12l[?25h[?25l[33;25H[K[33;25H[?12l[?25h[?25lD[?12l[?25h[?25la[?12l[?25h[?25lv[?12l[?25h[?25li[?12l[?25h[?25ld[?12l[?25h[?25l J[?12l[?25h[?25lun[?12l[?25h[?25lg[?12l[?25h[?25l's[?12l[?25h[?25l [?12l[?25h[?25lt[?12l[?25h[?25le[?12l[?25h[?25ls[?12l[?25h[?25lt[?12l[?25h[?25lac[?12l[?25h[?25la[?12l[?25h[?25ll[?12l[?25h[?25ll[?12l[?25h[?25l [?12l[?25h[?25l[?12l[?25h[?25l[33;46H[K[33;46H[?12l[?25h[?25l[33;45H[K[33;45H[?12l[?25h[?25l[33;44H[K[33;44H[?12l[?25h[?25l[33;43H[K[33;43H[?12l[?25h[?25l[33;42H[K[33;42H[?12l[?25h[?25lc[?12l[?25h[?25lal[?12l[?25h[?25ll[?12l[?25h[?25l [?12l[?25h[?25lfo[?12l[?25h[?25lr[?12l[?25h[?25l [?12l[?25h[?25lE[?12l[?25h[?25lX[?12l[?25h[?25lE[?12l[?25h[?25lC[?12l[?25h[?25l"[?12l[?25h[?25l)[?12l[?25h[?25l;[?12l[?25h[?25l[34;36r[34;1H[L[1;37r[34;1H[?12l[?25h[?25l[8C[?12l[?25h[?25lD[?12l[?25h[?25lE[?12l[?25h[?25lB[?12l[?25h[?25lU[?12l[?25h[?25lG[?12l[?25h[?25l [?12l[?25h[?25l[?12l[?25h[?25l([?12l[?25h[?25lD[?12l[?25h[?25lB[?12l[?25h[?25l_[?12l[?25h[?25lV[?12l[?25h[?25lF[?12l[?25h[?25lS[?12l[?25h[?25l [?12l[?25h[?25l"[?12l[?25h[?25l[34;22H[K[34;22H[?12l[?25h[?25l[?12l[?25h[?25l,[?12l[?25h[?25l [?12l[?25h[?25l"[?12l[?25h[?25lD[?12l[?25h[?25la[?12l[?25h[?25lv[?12l[?25h[?25li[?12l[?25h[?25ld[?12l[?25h[?25l [?12l[?25h[?25lJ[?12l[?25h[?25lu[?12l[?25h[?25ln[?12l[?25h[?25lg[?12l[?25h[?25l'[?12l[?25h[?25ls[?12l[?25h[?25l [?12l[?25h[?25lt[?12l[?25h[?25le[?12l[?25h[?25ls[?12l[?25h[?25lt[?12l[?25h[?25lca[?12l[?25h[?25ll[?12l[?25h[?25ll[?12l[?25h[?25l [?12l[?25h[?25lf[?12l[?25h[?25lo[?12l[?25h[?25lr[?12l[?25h[?25l [?12l[?25h[?25lV[?12l[?25h[?25lF[?12l[?25h[?25lS[?12l[?25h[?25l"[?12l[?25h[?25l)[?12l[?25h[?25l;[?12l[?25h[?25l[36;9H[K[35;1H[?12l[?25h[?25l[8C[?12l[?25h[?25lD[?12l[?25h[?25lE[?12l[?25h[?25lB[?12l[?25h[?25lU[?12l[?25h[?25lG[?12l[?25h[?25l([?12l[?25h[?25lD[?12l[?25h[?25lB[?12l[?25h[?25l_[?12l[?25h[?25lS[?12l[?25h[?25lF[?12l[?25h[?25lS[?12l[?25h[?25l,[?12l[?25h[?25l [?12l[?25h[?25l"[?12l[?25h[?25lD[?12l[?25h[?25la[?12l[?25h[?25lv[?12l[?25h[?25li[?12l[?25h[?25ld[?12l[?25h[?25l [?12l[?25h[?25lJ[?12l[?25h[?25lu[?12l[?25h[?25ln[?12l[?25h[?25lg[?12l[?25h[?25l'[?12l[?25h[?25ls[?12l[?25h[?25l [?12l[?25h[?25lt[?12l[?25h[?25le[?12l[?25h[?25ls[?12l[?25h[?25lt[?12l[?25h[?25lc[?12l[?25h[?25la[?12l[?25h[?25ll[?12l[?25h[?25ll[?12l[?25h[?25l [?12l[?25h[?25lf[?12l[?25h[?25lo[?12l[?25h[?25lr[?12l[?25h[?25l [?12l[?25h[?25lS[?12l[?25h[?25lF[?12l[?25h[?25lS[?12l[?25h[?25l"[?12l[?25h[?25l)[?12l[?25h[?25l;[?12l[?25h[?25l
[?12l[?25h[?25l[8C[?12l[?25h[?25lD[?12l[?25h[?25lE[?12l[?25h[?25lB[?12l[?25h[?25lU[?12l[?25h[?25lG[?12l[?25h[?25l([?12l[?25h[?25lD[?12l[?25h[?25lB[?12l[?25h[?25l_[?12l[?25h[?25lN[?12l[?25h[?25lE[?12l[?25h[?25lT[?12l[?25h[?25l,[?12l[?25h[?25l [?12l[?25h[?25l"[?12l[?25h[?25lD[?12l[?25h[?25la[?12l[?25h[?25lv[?12l[?25h[?25li[?12l[?25h[?25ld[?12l[?25h[?25l [?12l[?25h[?25lJ[?12l[?25h[?25lu[?12l[?25h[?25ln[?12l[?25h[?25lg[?12l[?25h[?25l'[?12l[?25h[?25ls[?12l[?25h[?25l [?12l[?25h[?25lt[?12l[?25h[?25le[?12l[?25h[?25ls[?12l[?25h[?25lt[?12l[?25h[?25lc[?12l[?25h[?25la[?12l[?25h[?25ll[?12l[?25h[?25ll[?12l[?25h[?25l [?12l[?25h[?25lf[?12l[?25h[?25lo[?12l[?25h[?25lr[?12l[?25h[?25l [?12l[?25h[?25lN[?12l[?25h[?25lE[?12l[?25h[?25lT[?12l[?25h[?25l"[?12l[?25h[?25l)[?12l[?25h[?25l;[?12l[?25h[?25l'[?12l[?25h[?25l[36;56H[K[36;56H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H[?12l[?25h[35;1H[?25l[8C[?12l[?25h[?25lD[?12l[?25h[?25lE[?12l[?25h[?25lB[?12l[?25h[?25lU[?12l[?25h[?25lG[?12l[?25h[?25l([?12l[?25h[?25lD[?12l[?25h[?25lB[?12l[?25h[?25l_[?12l[?25h[?25lN[?12l[?25h[?25lE[?12l[?25h[?25lT[?12l[?25h[?25lF[?12l[?25h[?25lS[?12l[?25h[?25l,[?12l[?25h[?25l [?12l[?25h[?25l"[?12l[?25h[?25lD[?12l[?25h[?25la[?12l[?25h[?25lv[?12l[?25h[?25li[?12l[?25h[?25ld[?12l[?25h[?25l[35;30H[K[35;30H[?12l[?25h[?25ld[?12l[?25h[?25l [?12l[?25h[?25lJ[?12l[?25h[?25lu[?12l[?25h[?25ln[?12l[?25h[?25lg[?12l[?25h[?25l'[?12l[?25h[?25ls[?12l[?25h[?25l [?12l[?25h[?25lt[?12l[?25h[?25le[?12l[?25h[?25ls[?12l[?25h[?25lt[?12l[?25h[?25lc[?12l[?25h[?25la[?12l[?25h[?25ll[?12l[?25h[?25ll[?12l[?25h[?25lf[?12l[?25h[?25l [?12l[?25h[?25lr[?12l[?25h[?25lo[?12l[?25h[?25l [?12l[?25h[?25lD[?12l[?25h[?25lB[?12l[?25h[?25l_[?12l[?25h[?25l+[?12l[?25h[?25l[35;55H[K[35;55H[?12l[?25h[?25lN[?12l[?25h[?25lT[?12l[?25h[?25lE[?12l[?25h[?25l[35;57H[K[35;57H[?12l[?25h[?25l[35;56H[K[35;56H[?12l[?25h[?25lE[?12l[?25h[?25lT[?12l[?25h[?25lF[?12l[?25h[?25lS[?12l[?25h[?25l"[?12l[?25h[?25l)[?12l[?25h[?25l:[?12l[?25h[?25l[35;62H[K[35;62H[?12l[?25h[?25l;[?12l[?25h[?25l
[?12l[?25h[?25l[8C[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H[?12l[?25h[35;1H[?25l[8C[?12l[?25h[?25lD[?12l[?25h[?25lE[?12l[?25h[?25lB[?12l[?25h[?25lU[?12l[?25h[?25lG[?12l[?25h[?25l([?12l[?25h[?25lD[?12l[?25h[?25lB[?12l[?25h[?25l_[?12l[?25h[?25lK[?12l[?25h[?25lM[?12l[?25h[?25lA[?12l[?25h[?25lL[?12l[?25h[?25lL[?12l[?25h[?25lO[?12l[?25h[?25lC[?12l[?25h[?25l,[?12l[?25h[?25l [?12l[?25h[?25l"[?12l[?25h[?25lD[?12l[?25h[?25lA[?12l[?25h[?25l [?12l[?25h[?25la[?12l[?25h[?25lv[?12l[?25h[?25li[?12l[?25h[?25ld[?12l[?25h[?25l [?12l[?25h[?25lJ[?12l[?25h[?25lu[?12l[?25h[?25ln[?12l[?25h[?25lg[?12l[?25h[?25l'[?12l[?25h[?25ls[?12l[?25h[?25l [?12l[?25h[?25lt[?12l[?25h[?25le[?12l[?25h[?25ls[?12l[?25h[?25lt[?12l[?25h[?25lc[?12l[?25h[?25la[?12l[?25h[?25ll[?12l[?25h[?25ll[?12l[?25h[?25l [?12l[?25h[?25lf[?12l[?25h[?25lo[?12l[?25h[?25lr[?12l[?25h[?25l [?12l[?25h[?25lD[?12l[?25h[?25lB[?12l[?25h[?25l_[?12l[?25h[?25lK[?12l[?25h[?25lM[?12l[?25h[?25lA[?12l[?25h[?25lL[?12l[?25h[?25lL[?12l[?25h[?25lO[?12l[?25h[?25lC[?12l[?25h[?25l)[?12l[?25h[?25l [?12l[?25h[?25l"[?12l[?25h[?25l)[?12l[?25h[?25l;[?12l[?25h
[?25l[1;36r[36;1H
[1;37r[36;1H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;9H/*[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;10H* Make sure various things aren't screwed up.[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;10H*/[?12l[?25h[35;55H[34;11H[?25l[37;1H[K[34;10H[?12l[?25h[?25l


:[?12l[?25hwq[?25l"main.c" 188L, 4286C written
[?1l>[?12l[?25h[?1049lbash-4.2$ git [K[K[K[Kvi main.c
[?1049h[?1h=[1;37r[?12;25h[?12l[?25h[27m[m[H[2J[?25l[37;1H"main.c" 188L, 4286C[1;1H/*
 * Main.
 */

#include <types.h>
#include <kern/errno.h>
#include <kern/unistd.h>
#include <lib.h>
#include <machine/spl.h>
#include <test.h>
#include <synch.h>
#include <thread.h>
#include <scheduler.h>
#include <dev.h>
#include <vfs.h>
#include <vm.h>
#include <syscall.h>
#include <version.h>

/* not sure why my changes to the main.c file disappeared but my David Jung was here */


/*
 * These two pieces of data are maintained by the makefiles and build system.
 * buildconfig is the name of the config file the kernel was configured with.
 * buildversion starts at 1 and is incremented every time you link a kernel.
 *
 * The purpose is not to show off how many kernels you've linked, but
 * to make it easy to make sure that the kernel you just booted is the
 * same one you just built.
 */
extern const int buildversion;
extern const char buildconfig[];

/*
 * Copyright message for the OS/161 base code.[1;1H[?12l[?25h






















 
 
 
 
 
 
 
 




 [?25l[1;36r[36;1H
[1;37r[36;2H*/[37;1H[K[36;2H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1Hstatic const char harvard_copyright[] =[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;5H"Copyright (c) 2000, 2001, 2002, 2003\n"    [?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;5H"   President and Fellows of Harvard College.  All rights reserved.\n";    [?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H/*[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;2H* Initial boot sequence. [?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;2H*/[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1Hstatic[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1Hvoid[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1Hboot(void)[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H{[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;9H/*[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;10H* The order of these is important![36;10H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;10H* Don't go changing it without thinking about the consequences.[36;10H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;10H*[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;10H* Among other things, be aware that console output gets[36;10H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;10H* buffered up at first and does not actually appear until[36;10H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;10H* dev_bootstrap() attaches the console device. This can be[36;10H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;10H* remarkably confusing if a bug occurs at this point. So[36;10H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;10H* don't put new code before dev_bootstrap if you don't[36;10H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;10H* absolutely have to.[36;10H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;10H*[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;10H* Also note that the buffer for this is only 1k. If you[36;10H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;10H* overflow it, the system will crash without printing[36;10H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;10H* anything at all. You can make it larger though (it's in[36;10H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;10H* dev/generic/console.c).[36;10H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;10H*/[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;9Hkprintf("\n");[36;9H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;9Hkprintf("OS/161 base system version %s\n", BASE_VERSION);[36;9H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;9Hkprintf("%s", harvard_copyright);[36;9H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;9Hkprintf("\n");[36;9H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;9Hkprintf("Put-your-group-name-here's system version %s (%s #%d)\n",[36;9H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;17HGROUP_VERSION, buildconfig, buildversion);[36;17H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;9Hkprintf("\n");[36;9H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;8H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;9Hhello();[36;9H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;9Hram_bootstrap();[36;9H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;16H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;9Hscheduler_bootstrap();[36;9H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;8H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;9Hthread_bootstrap();[36;9H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;9HDEBUG(DB_THREADS, "Threads bootstrap ran");[36;9H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;9Hvfs_bootstrap();[36;9H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;9HDEBUG(DB_VFS, "VFS bootstrap ran");[36;9H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;9Hdev_bootstrap();[36;9H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;9HDEBUG(DB_DEVICE, "Dev bootstrap ran");[36;9H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;9Hvm_bootstrap();[36;9H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;9HDEBUG(DB_VM, "VM bootstrap ran");[36;9H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;9Hkprintf_bootstrap();[36;9H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;1H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;9H/* Default bootfs - but ignore failure, in case emu0 doesn't exist */[36;9H[?12l[?25h[?25l[1;36r[36;1H
[1;37r[36;9Hvfs_setbootfs("emu0");[36;9H[?12l[?25h[?25l
Type  :quit<Enter>  to exit Vim[36;9H[?12l[?25h[?25l[37;1H[K[37;1H:[?12l[?25hqut[?25l[37;4H[K[37;4H[?12l[?25hit[?25l[37;1H[K[37;1H[?1l>[?12l[?25h[?1049lbash-4.2$ git diff
[?1h=diff --git a/bin/cat/depend.mk b/bin/cat/depend.mk[m
index 94637dd..6f88e64 100644[m
--- a/bin/cat/depend.mk[m
+++ b/bin/cat/depend.mk[m
@@ -10,3 +10,4 @@ cat.o: \[m
  $(OSTREE)/include/string.h \[m
  $(OSTREE)/include/err.h \[m
  $(OSTREE)/include/stdarg.h[m
+[m
diff --git a/bin/cp/depend.mk b/bin/cp/depend.mk[m
index 10e8c59..de47503 100644[m
--- a/bin/cp/depend.mk[m
+++ b/bin/cp/depend.mk[m
@@ -9,3 +9,4 @@ cp.o: \[m
  $(OSTREE)/include/kern/ioctl.h \[m
  $(OSTREE)/include/err.h \[m
  $(OSTREE)/include/stdarg.h[m
+[m
diff --git a/bin/false/depend.mk b/bin/false/depend.mk[m
index f0fbc95..fb0be2d 100644[m
--- a/bin/false/depend.mk[m
+++ b/bin/false/depend.mk[m
@@ -8,3 +8,4 @@ false.o: \[m
  $(OSTREE)/include/kern/unistd.h \[m
  $(OSTREE)/include/kern/ioctl.h \[m
  $(OSTREE)/include/stdlib.h[m
+[m
diff --git a/bin/ln/depend.mk b/bin/ln/depend.mk[m
index ac1d5eb..490b5b1 100644[m
--- a/bin/ln/depend.mk[m
+++ b/bin/ln/depend.mk[m
@@ -11,3 +11,4 @@ ln.o: \[m
  $(OSTREE)/include/string.h \[m
  $(OSTREE)/include/err.h \[m
  $(OSTREE)/include/stdarg.h[m
+[m
:[K[Kdiff --git a/bin/ls/depend.mk b/bin/ls/depend.mk[m
:[K[Kindex f92b234..1d5e8a4 100644[m
:[K[K--- a/bin/ls/depend.mk[m
:[K[K+++ b/bin/ls/depend.mk[m
:[K[K@@ -15,3 +15,4 @@ ls.o: \[m
:[K[K  $(OSTREE)/include/errno.h \[m
:[K[K  $(OSTREE)/include/kern/errno.h \[m
:[K[K  $(OSTREE)/include/err.h[m
:[K[K+[m
:[K[Kdiff --git a/bin/mkdir/depend.mk b/bin/mkdir/depend.mk[m
:[K[Kindex 42144ef..597b0a3 100644[m
:[K[K--- a/bin/mkdir/depend.mk[m
:[K[K+++ b/bin/mkdir/depend.mk[m
:[K[K@@ -11,3 +11,4 @@ mkdir.o: \[m
:[K[K  $(OSTREE)/include/kern/ioctl.h \[m
:[K[K  $(OSTREE)/include/err.h \[m
:[K[K  $(OSTREE)/include/stdarg.h[m
:[K[K+[m
:[K[Kdiff --git a/bin/mv/depend.mk b/bin/mv/depend.mk[m
:[K[Kindex c4d1bc8..54d486a 100644[m
:[K[K--- a/bin/mv/depend.mk[m
:[K[K+++ b/bin/mv/depend.mk[m
:[K[K@@ -9,3 +9,4 @@ mv.o: \[m
:[K[K  $(OSTREE)/include/kern/ioctl.h \[m
:[K[K  $(OSTREE)/include/err.h \[m
:[K[K  $(OSTREE)/include/stdarg.h[m
:[K[K+[m
:[K[Kdiff --git a/bin/pwd/depend.mk b/bin/pwd/depend.mk[m
:[K[Kindex 41dba83..50cae5f 100644[m
:[K[K--- a/bin/pwd/depend.mk[m
:[K[K+++ b/bin/pwd/depend.mk[m
:[K[K@@ -13,3 +13,4 @@ pwd.o: \[m
:[K[K  $(OSTREE)/include/err.h \[m
:[K[K  $(OSTREE)/include/limits.h \[m
:[K[K  $(OSTREE)/include/kern/limits.h[m
:[K[K+[m
:[K[Kdiff --git a/bin/rm/depend.mk b/bin/rm/depend.mk[m
:[K[Kindex 62d6177..5dde52e 100644[m
:[K[K--- a/bin/rm/depend.mk[m
:[K[K+++ b/bin/rm/depend.mk[m
:[K[K@@ -9,3 +9,4 @@ rm.o: \[m
:[K[K  $(OSTREE)/include/kern/ioctl.h \[m
:[K[K  $(OSTREE)/include/err.h \[m
:[K[K  $(OSTREE)/include/stdarg.h[m
:[K[K+[m
:[K[Kdiff --git a/bin/rmdir/depend.mk b/bin/rmdir/depend.mk[m
:[K[Kindex f361720..d752ff4 100644[m
:[K[K--- a/bin/rmdir/depend.mk[m
:[K[K+++ b/bin/rmdir/depend.mk[m
:[K[K@@ -9,3 +9,4 @@ rmdir.o: \[m
:[K[K  $(OSTREE)/include/kern/ioctl.h \[m
:[K[K  $(OSTREE)/include/err.h \[m
:[K[K  $(OSTREE)/include/stdarg.h[m
:[K[K+[m
:[K[Kdiff --git a/bin/sh/depend.mk b/bin/sh/depend.mk[m
:[K[Kindex db813ac..58deaf8 100644[m
:[K[K--- a/bin/sh/depend.mk[m
:[K[K+++ b/bin/sh/depend.mk[m
:[K[K@@ -1,3 +1,4 @@[m
:[K[K [m
:[K[K sh.o: \[m
:[K[K:[K[K:[K[K:[K[K:[K[K[?1l>
bash-4.2$ 
bash-4.2$ cd !~[K[K![K~/cs161/src
bash-4.2$ git diff
[?1h=diff --git a/bin/cat/depend.mk b/bin/cat/depend.mk[m
index 94637dd..6f88e64 100644[m
--- a/bin/cat/depend.mk[m
+++ b/bin/cat/depend.mk[m
@@ -10,3 +10,4 @@ cat.o: \[m
  $(OSTREE)/include/string.h \[m
  $(OSTREE)/include/err.h \[m
  $(OSTREE)/include/stdarg.h[m
+[m
diff --git a/bin/cp/depend.mk b/bin/cp/depend.mk[m
index 10e8c59..de47503 100644[m
--- a/bin/cp/depend.mk[m
+++ b/bin/cp/depend.mk[m
@@ -9,3 +9,4 @@ cp.o: \[m
  $(OSTREE)/include/kern/ioctl.h \[m
  $(OSTREE)/include/err.h \[m
  $(OSTREE)/include/stdarg.h[m
+[m
diff --git a/bin/false/depend.mk b/bin/false/depend.mk[m
index f0fbc95..fb0be2d 100644[m
--- a/bin/false/depend.mk[m
+++ b/bin/false/depend.mk[m
@@ -8,3 +8,4 @@ false.o: \[m
  $(OSTREE)/include/kern/unistd.h \[m
  $(OSTREE)/include/kern/ioctl.h \[m
  $(OSTREE)/include/stdlib.h[m
+[m
diff --git a/bin/ln/depend.mk b/bin/ln/depend.mk[m
index ac1d5eb..490b5b1 100644[m
--- a/bin/ln/depend.mk[m
+++ b/bin/ln/depend.mk[m
@@ -11,3 +11,4 @@ ln.o: \[m
  $(OSTREE)/include/string.h \[m
  $(OSTREE)/include/err.h \[m
  $(OSTREE)/include/stdarg.h[m
+[m
:[K[Kdiff --git a/bin/ls/depend.mk b/bin/ls/depend.mk[m
:[K[Kindex f92b234..1d5e8a4 100644[m
:[K[K--- a/bin/ls/depend.mk[m
:[K[K+++ b/bin/ls/depend.mk[m
:[K[K@@ -15,3 +15,4 @@ ls.o: \[m
:[K[K  $(OSTREE)/include/errno.h \[m
:[K[K  $(OSTREE)/include/kern/errno.h \[m
:[K[K  $(OSTREE)/include/err.h[m
:[K[K+[m
:[K[Kdiff --git a/bin/mkdir/depend.mk b/bin/mkdir/depend.mk[m
:[K[Kindex 42144ef..597b0a3 100644[m
:[K[K--- a/bin/mkdir/depend.mk[m
:[K[K+++ b/bin/mkdir/depend.mk[m
:[K[K@@ -11,3 +11,4 @@ mkdir.o: \[m
:[K[K  $(OSTREE)/include/kern/ioctl.h \[m
:[K[K  $(OSTREE)/include/err.h \[m
:[K[K  $(OSTREE)/include/stdarg.h[m
:[K[K+[m
:[K[Kdiff --git a/bin/mv/depend.mk b/bin/mv/depend.mk[m
:[K[Kindex c4d1bc8..54d486a 100644[m
:[K[K--- a/bin/mv/depend.mk[m
:[K[K+++ b/bin/mv/depend.mk[m
:[K[K@@ -9,3 +9,4 @@ mv.o: \[m
:[K[K  $(OSTREE)/include/kern/ioctl.h \[m
:[K[K  $(OSTREE)/include/err.h \[m
:[K[K  $(OSTREE)/include/stdarg.h[m
:[K[K+[m
:[K[Kdiff --git a/bin/pwd/depend.mk b/bin/pwd/depend.mk[m
:[K[Kindex 41dba83..50cae5f 100644[m
:[K[K--- a/bin/pwd/depend.mk[m
:[K[K+++ b/bin/pwd/depend.mk[m
:[K[K@@ -13,3 +13,4 @@ pwd.o: \[m
:[K[K  $(OSTREE)/include/err.h \[m
:[K[K  $(OSTREE)/include/limits.h \[m
:[K[K  $(OSTREE)/include/kern/limits.h[m
:[K[K+[m
:[K[Kdiff --git a/bin/rm/depend.mk b/bin/rm/depend.mk[m
:[K[Kindex 62d6177..5dde52e 100644[m
:[K[K--- a/bin/rm/depend.mk[m
:[K[K+++ b/bin/rm/depend.mk[m
:[K[K@@ -9,3 +9,4 @@ rm.o: \[m
:[K[K  $(OSTREE)/include/kern/ioctl.h \[m
:[K[K  $(OSTREE)/include/err.h \[m
:[K[K  $(OSTREE)/include/stdarg.h[m
:[K[K+[m
:[K[Kdiff --git a/bin/rmdir/depend.mk b/bin/rmdir/depend.mk[m
:[K[Kindex f361720..d752ff4 100644[m
:[K[K--- a/bin/rmdir/depend.mk[m
:[K[K+++ b/bin/rmdir/depend.mk[m
:[K[K@@ -9,3 +9,4 @@ rmdir.o: \[m
:[K[K  $(OSTREE)/include/kern/ioctl.h \[m
:[K[K  $(OSTREE)/include/err.h \[m
:[K[K  $(OSTREE)/include/stdarg.h[m
:[K[K+[m
:[K[Kdiff --git a/bin/sh/depend.mk b/bin/sh/depend.mk[m
:[K[Kindex db813ac..58deaf8 100644[m
:[K[K--- a/bin/sh/depend.mk[m
:[K[K+++ b/bin/sh/depend.mk[m
:[K[K@@ -1,3 +1,4 @@[m
:[K[K [m
:[K[K sh.o: \[m
:[K[K  sh.c[m
:[K[K+[m
:[K[Kdiff --git a/bin/sh/dependh.mk b/bin/sh/dependh.mk[m
:[K[Kindex 325543a..53c8282 100644[m
:[K[K--- a/bin/sh/dependh.mk[m
:[K[K+++ b/bin/sh/dependh.mk[m
:[K[K@@ -2,3 +2,4 @@[m
:[K[K sh.ho: \[m
:[K[K  sh.c \[m
:[K[K  $(OSTREE)/hostinclude/hostcompat.h[m
:[K[K+[m
:[K[Kdiff --git a/bin/sync/depend.mk b/bin/sync/depend.mk[m
:[K[Kindex 4f79baa..1db5338 100644[m
:[K[K--- a/bin/sync/depend.mk[m
:[K[K+++ b/bin/sync/depend.mk[m
:[K[K@@ -7,3 +7,4 @@ sync.o: \[m
:[K[K  $(OSTREE)/include/kern/types.h \[m
:[K[K  $(OSTREE)/include/kern/unistd.h \[m
:[K[K  $(OSTREE)/include/kern/ioctl.h[m
:[K[K+[m
:[K[Kdiff --git a/bin/true/depend.mk b/bin/true/depend.mk[m
:[K[Kindex 1fd4de7..9ced686 100644[m
:[K[K--- a/bin/true/depend.mk[m
:[K[K+++ b/bin/true/depend.mk[m
:[K[K@@ -8,3 +8,4 @@ true.o: \[m
:[K[K  $(OSTREE)/include/kern/unistd.h \[m
:[K[K  $(OSTREE)/include/kern/ioctl.h \[m
:[K[K  $(OSTREE)/include/stdlib.h[m
:[K[K+[m
:[K[Kdiff --git a/kern/conf/conf.kern b/kern/conf/conf.kern[m
:[K[Kindex 7d7d9c9..e2da985 100644[m
:[K[K--- a/kern/conf/conf.kern[m
:[K[K+++ b/kern/conf/conf.kern[m
:[K[K@@ -372,6 +372,7 @@ file      thread/thread.c[m
:[K[K [m
:[K[K file      main/main.c[m
:[K[K file      main/menu.c[m
:[K[K+file     main/hello.c[m
:[K[K [m
:[K[K #[m
:[K[K # User-level programming/system call support[m
:[K[Kdiff --git a/kern/main/hello.c b/kern/main/hello.c[m
:[K[Kindex e69de29..0bdf332 100644[m
:[K[K--- a/kern/main/hello.c[m
:[K[K+++ b/kern/main/hello.c[m
:[K[K@@ -0,0 +1,4 @@[m
:[K[K+hello() {[m
:[K[K+       kprintf("Hello World!\n");[m
:[K[K+}[m
:[K[K+[m
:[K[Kdiff --git a/kern/main/main.c b/kern/main/main.c[m
:[K[Kindex a19b0f2..e721a9c 100644[m
:[K[K--- a/kern/main/main.c[m
:[K[K+++ b/kern/main/main.c[m
:[K[K@@ -17,6 +17,9 @@[m
:[K[K #include <syscall.h>[m
:[K[K #include <version.h>[m
:[K[K [m
:[K[K+/* not sure why my changes to the main.c file disappeared but my David Jung was here */[m
:[K[K+[m
:[K[K+[m
:[K[K /*[m
:[K[K  * These two pieces of data are maintained by the makefiles and build system.[m
:[K[K  * buildconfig is the name of the config file the kernel was configured with.[m
:[K[K@@ -69,17 +72,35 @@ boot(void)[m
:[K[K        kprintf("Put-your-group-name-here's system version %s (%s #%d)\n", [m
:[K[K                GROUP_VERSION, buildconfig, buildversion);[m
:[K[K        kprintf("\n");[m
:[K[K+       [m
:[K[K+       hello();        [m
:[K[K [m
:[K[K        ram_bootstrap();[m
:[K[K+               [m
:[K[K        scheduler_bootstrap();[m
:[K[K+       [m
:[K[K        thread_bootstrap();[m
:[K[K+       DEBUG(DB_THREADS, "Threads bootstrap ran");[m
:[K[K        vfs_bootstrap();[m
:[K[K+       DEBUG(DB_VFS, "VFS bootstrap ran");[m
:[K[K        dev_bootstrap();[m
:[K[K+       DEBUG(DB_DEVICE, "Dev bootstrap ran");[m
:[K[K        vm_bootstrap();[m
:[K[K+       DEBUG(DB_VM, "VM bootstrap ran");[m
:[K[K        kprintf_bootstrap();[m
:[K[K [m
:[K[K        /* Default bootfs - but ignore failure, in case emu0 doesn't exist */[m
:[K[K        vfs_setbootfs("emu0");[m
:[K[K+       [m
:[K[K+       DEBUG(DB_LOCORE, "David Jung's testcall for LOCORE");[m
:[K[K+       DEBUG(DB_INTERRUPT, "David Jung's testcall for INTERRUPT");[m
:[K[K+       DEBUG(DB_EXEC, "David Jung's testcall for EXEC");[m
:[K[K+       DEBUG(DB_VFS, "David Jung's testcall for VFS");[m
:[K[K+       DEBUG(DB_SFS, "David Jung's testcall for SFS");[m
:[K[K+       DEBUG(DB_NET, "David Jung's testcall for NET");[m
:[K[K+       DEBUG(DB_NETFS, "David Jung's testcallf ro DB_NETFS");[m
:[K[K+       DEBUG(DB_KMALLOC, "David Jung's testcall for DB_KMALLOC");      [m
:[K[K+[m
:[K[K [m
:[K[K [m
:[K[K        /*[m
:[K[K@@ -129,7 +150,7 @@ sys_reboot(int code)[m
:[K[K            default:[m
:[K[K                return EINVAL;[m
:[K[K        }[m
:[K[K-[m
:[K[K+       DEBUG(DB_SYSCALL, "Rebooting syscall in sys_reboot");[m
:[K[K        shutdown();[m
:[K[K [m
:[K[K        switch (code) {[m
:[K[Kdiff --git a/lib/hostcompat/dependh.mk b/lib/hostcompat/dependh.mk[m
:[K[Kindex 58d01a5..cc3b67e 100644[m
:[K[K--- a/lib/hostcompat/dependh.mk[m
:[K[K+++ b/lib/hostcompat/dependh.mk[m
:[K[K@@ -8,3 +8,4 @@ time.ho: \[m
:[K[K hostcompat.ho: \[m
:[K[K  hostcompat.c \[m
:[K[K  hostcompat.h[m
:[K[K+[m
:[K[Kdiff --git a/lib/libc/depend.mk b/lib/libc/depend.mk[m
:[K[Kindex e8aad83..c073747 100644[m
:[K[K--- a/lib/libc/depend.mk[m
:[K[K+++ b/lib/libc/depend.mk[m
:[K[K@@ -244,3 +244,4 @@ syscalls.o: \[m
:[K[K  syscalls.S \[m
:[K[K  $(OSTREE)/include/kern/callno.h \[m
:[K[K  $(OSTREE)/include/machine/asmdefs.h[m
:[K[K:[K[K:[K[K[?1l>
bash-4.2$ git ahrc[K[K[Krhcive[K[K[K[K[K[K[K[K[K[K[Kgit commit -m '[K"project 2"
# On branch master
# Your branch is ahead of 'origin/master' by 1 commit.
#   (use "git push" to publish your local commits)
#
# Changes not staged for commit:
#   (use "git add <file>..." to update what will be committed)
#   (use "git checkout -- <file>..." to discard changes in working directory)
#
#	modified:   bin/cat/depend.mk
#	modified:   bin/cp/depend.mk
#	modified:   bin/false/depend.mk
#	modified:   bin/ln/depend.mk
#	modified:   bin/ls/depend.mk
#	modified:   bin/mkdir/depend.mk
#	modified:   bin/mv/depend.mk
#	modified:   bin/pwd/depend.mk
#	modified:   bin/rm/depend.mk
#	modified:   bin/rmdir/depend.mk
#	modified:   bin/sh/depend.mk
#	modified:   bin/sh/dependh.mk
#	modified:   bin/sync/depend.mk
#	modified:   bin/true/depend.mk
#	modified:   kern/conf/conf.kern
#	modified:   kern/main/hello.c
#	modified:   kern/main/main.c
#	modified:   lib/hostcompat/dependh.mk
#	modified:   lib/libc/depend.mk
#	modified:   sbin/dumpsfs/depend.mk
#	modified:   sbin/dumpsfs/dependh.mk
#	modified:   sbin/halt/depend.mk
#	modified:   sbin/mksfs/depend.mk
#	modified:   sbin/mksfs/dependh.mk
#	modified:   sbin/poweroff/depend.mk
#	modified:   sbin/reboot/depend.mk
#	modified:   testbin/add/depend.mk
#	modified:   testbin/argtest/depend.mk
#	modified:   testbin/badcall/depend.mk
#	modified:   testbin/bigfile/depend.mk
#	modified:   testbin/conman/depend.mk
#	modified:   testbin/crash/depend.mk
#	modified:   testbin/ctest/depend.mk
#	modified:   testbin/dirconc/depend.mk
#	modified:   testbin/dirseek/depend.mk
#	modified:   testbin/dirtest/depend.mk
#	modified:   testbin/f_test/depend.mk
#	modified:   testbin/farm/depend.mk
#	modified:   testbin/faulter/depend.mk
#	modified:   testbin/filetest/depend.mk
#	modified:   testbin/forkbomb/depend.mk
#	modified:   testbin/forktest/depend.mk
#	modified:   testbin/guzzle/depend.mk
#	modified:   testbin/hash/depend.mk
#	modified:   testbin/hash/dependh.mk
#	modified:   testbin/hog/depend.mk
#	modified:   testbin/huge/depend.mk
#	modified:   testbin/kitchen/depend.mk
#	modified:   testbin/matmult/depend.mk
#	modified:   testbin/palin/depend.mk
#	modified:   testbin/parallelvm/depend.mk
#	modified:   testbin/randcall/depend.mk
#	modified:   testbin/rmdirtest/depend.mk
#	modified:   testbin/rmtest/depend.mk
#	modified:   testbin/sink/depend.mk
#	modified:   testbin/sort/depend.mk
#	modified:   testbin/sty/depend.mk
#	modified:   testbin/tail/depend.mk
#	modified:   testbin/tictac/depend.mk
#	modified:   testbin/triplehuge/depend.mk
#	modified:   testbin/triplemat/depend.mk
#	modified:   testbin/triplesort/depend.mk
#
# Untracked files:
#   (use "git add <file>..." to include in what will be committed)
#
#	bin/cat/cat
#	bin/cat/cat.o
#	bin/cp/cp
#	bin/cp/cp.o
#	bin/false/false
#	bin/false/false.o
#	bin/ln/ln
#	bin/ln/ln.o
#	bin/ls/ls
#	bin/ls/ls.o
#	bin/mkdir/mkdir
#	bin/mkdir/mkdir.o
#	bin/mv/mv
#	bin/mv/mv.o
#	bin/pwd/pwd
#	bin/pwd/pwd.o
#	bin/rm/rm
#	bin/rm/rm.o
#	bin/rmdir/rmdir
#	bin/rmdir/rmdir.o
#	bin/sh/host-sh
#	bin/sh/sh
#	bin/sh/sh.ho
#	bin/sh/sh.o
#	bin/sync/sync
#	bin/sync/sync.o
#	bin/true/true
#	bin/true/true.o
#	defs.mk
#	git-use.script
#	kern/compile/ASST0/
#	kern/include/hello.h
#	lib/crt0/crt0.o
#	lib/hostcompat/err.ho
#	lib/hostcompat/hostcompat.ho
#	lib/hostcompat/libhostcompat.ha
#	lib/hostcompat/time.ho
#	lib/libc/__assert.o
#	lib/libc/__printf.o
#	lib/libc/__puts.o
#	lib/libc/abort.o
#	lib/libc/atoi.o
#	lib/libc/bzero.o
#	lib/libc/err.o
#	lib/libc/errno.o
#	lib/libc/exit.o
#	lib/libc/getchar.o
#	lib/libc/getcwd.o
#	lib/libc/libc.a
#	lib/libc/memcmp.o
#	lib/libc/memcpy.o
#	lib/libc/memmove.o
#	lib/libc/memset.o
#	lib/libc/mips-setjmp.o
#	lib/libc/printf.o
#	lib/libc/putchar.o
#	lib/libc/puts.o
#	lib/libc/random.o
#	lib/libc/snprintf.o
#	lib/libc/strcat.o
#	lib/libc/strchr.o
#	lib/libc/strcmp.o
#	lib/libc/strcpy.o
#	lib/libc/strerror.o
#	lib/libc/strlen.o
#	lib/libc/strrchr.o
#	lib/libc/strtok.o
#	lib/libc/strtok_r.o
#	lib/libc/syscalls.S
#	lib/libc/syscalls.o
#	lib/libc/system.o
#	lib/libc/time.o
#	sbin/dumpsfs/disk.c
#	sbin/dumpsfs/disk.h
#	sbin/dumpsfs/disk.ho
#	sbin/dumpsfs/disk.o
#	sbin/dumpsfs/dumpsfs
#	sbin/dumpsfs/dumpsfs.ho
#	sbin/dumpsfs/dumpsfs.o
#	sbin/dumpsfs/host-dumpsfs
#	sbin/dumpsfs/support.c
#	sbin/dumpsfs/support.h
#	sbin/dumpsfs/support.ho
#	sbin/dumpsfs/support.o
#	sbin/halt/halt
#	sbin/halt/halt.o
#	sbin/mksfs/disk.ho
#	sbin/mksfs/disk.o
#	sbin/mksfs/host-mksfs
#	sbin/mksfs/mksfs
#	sbin/mksfs/mksfs.ho
#	sbin/mksfs/mksfs.o
#	sbin/mksfs/support.ho
#	sbin/mksfs/support.o
#	sbin/poweroff/poweroff
#	sbin/poweroff/poweroff.o
#	sbin/reboot/reboot
#	sbin/reboot/reboot.o
#	testbin/add/add
#	testbin/add/add.o
#	testbin/argtest/argtest
#	testbin/argtest/argtest.o
#	testbin/badcall/bad_chdir.o
#	testbin/badcall/bad_close.o
#	testbin/badcall/bad_dup2.o
#	testbin/badcall/bad_execv.o
#	testbin/badcall/bad_fsync.o
#	testbin/badcall/bad_ftruncate.o
#	testbin/badcall/bad_getcwd.o
#	testbin/badcall/bad_getdirentry.o
#	testbin/badcall/bad_ioctl.o
#	testbin/badcall/bad_link.o
#	testbin/badcall/bad_lseek.o
#	testbin/badcall/bad_mkdir.o
#	testbin/badcall/bad_open.o
#	testbin/badcall/bad_pipe.o
#	testbin/badcall/bad_read.o
#	testbin/badcall/bad_readlink.o
#	testbin/badcall/bad_reboot.o
#	testbin/badcall/bad_remove.o
#	testbin/badcall/bad_rename.o
#	testbin/badcall/bad_rmdir.o
#	testbin/badcall/bad_sbrk.o
#	testbin/badcall/bad_stat.o
#	testbin/badcall/bad_symlink.o
#	testbin/badcall/bad_time.o
#	testbin/badcall/bad_waitpid.o
#	testbin/badcall/bad_write.o
#	testbin/badcall/badcall
#	testbin/badcall/common_buf.o
#	testbin/badcall/common_fds.o
#	testbin/badcall/common_path.o
#	testbin/badcall/driver.o
#	testbin/bigfile/bigfile
#	testbin/bigfile/bigfile.o
#	testbin/conman/conman
#	testbin/conman/conman.o
#	testbin/crash/crash
#	testbin/crash/crash.o
#	testbin/ctest/ctest
#	testbin/ctest/ctest.o
#	testbin/dirconc/dirconc
#	testbin/dirconc/dirconc.o
#	testbin/dirseek/dirseek
#	testbin/dirseek/dirseek.o
#	testbin/dirtest/dirtest
#	testbin/dirtest/dirtest.o
#	testbin/f_test/f_read.o
#	testbin/f_test/f_test
#	tes